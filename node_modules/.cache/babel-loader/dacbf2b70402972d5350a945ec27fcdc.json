{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\n\nvar inherits = require('inherits');\n\nvar fs = require('fs');\n\nvar css = require('dom-css');\n\nvar insertcss = require('insert-css');\n\nvar path = require('path');\n\nvar isstring = require('is-string');\n\nvar themes = require('./themes');\n\nvar uuid = require('node-uuid');\n\nmodule.exports = Plate;\ninherits(Plate, EventEmitter);\n\nfunction Plate(items, opts) {\n  if (!(this instanceof Plate)) return new Plate(items, opts);\n  var self = this;\n  opts = opts || {};\n  opts.width = opts.width || 300;\n  opts.theme = opts.theme || 'dark';\n  opts.theme = isstring(opts.theme) ? themes[opts.theme] : opts.theme;\n  opts.root = opts.root || document.body;\n  opts.position = opts.position;\n  var box = document.createElement('div');\n  var id = uuid.v4();\n  box.className = 'control-panel';\n  box.id = 'control-panel-' + id;\n  var basecss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'base.css'));\n  var colorcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'color.css'));\n  var rangecss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'range.css'));\n  var checkboxcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'checkbox.css'));\n  var multiboxcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'multibox.css'));\n  var buttoncss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'button.css'));\n  var intervalcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'interval.css'));\n  var selectcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'select.css'));\n  rangecss = String(rangecss).replace(new RegExp('{{ THUMB_COLOR }}', 'g'), opts.theme.foreground1).replace(new RegExp('{{ TRACK_COLOR }}', 'g'), opts.theme.background2).replace(new RegExp('{{ UUID }}', 'g'), id);\n  checkboxcss = String(checkboxcss).replace(new RegExp('{{ BOX_COLOR }}', 'g'), opts.theme.background2).replace(new RegExp('{{ ICON_COLOR }}', 'g'), opts.theme.foreground1).replace(new RegExp('{{ UUID }}', 'g'), id);\n  multiboxcss = String(multiboxcss).replace(new RegExp('{{ BOX_COLOR }}', 'g'), opts.theme.background2).replace(new RegExp('{{ ICON_COLOR }}', 'g'), opts.theme.foreground1).replace(new RegExp('{{ UUID }}', 'g'), id);\n  buttoncss = String(buttoncss).replace(new RegExp('{{ BUTTON_COLOR }}', 'g'), opts.theme.text2).replace(new RegExp('{{ BUTTON_BG }}', 'g'), opts.theme.background2).replace(new RegExp('{{ BUTTON_COLOR_HOVER }}', 'g'), opts.theme.text2).replace(new RegExp('{{ BUTTON_BG_HOVER }}', 'g'), opts.theme.background2hover).replace(new RegExp('{{ BUTTON_COLOR_ACTIVE }}', 'g'), opts.theme.background2).replace(new RegExp('{{ BUTTON_BG_ACTIVE }}', 'g'), opts.theme.text2).replace(new RegExp('{{ UUID }}', 'g'), id);\n  intervalcss = String(intervalcss).replace(new RegExp('{{ INTERVAL_COLOR }}', 'g'), opts.theme.foreground1).replace(new RegExp('{{ TRACK_COLOR }}', 'g'), opts.theme.background2).replace(new RegExp('{{ UUID }}', 'g'), id);\n  selectcss = String(selectcss).replace(new RegExp('{{ TEXT_COLOR }}', 'g'), opts.theme.text2).replace(new RegExp('{{ BG_COLOR }}', 'g'), opts.theme.background2).replace(new RegExp('{{ BG_COLOR_HOVER }}', 'g'), opts.theme.background2hover).replace(new RegExp('{{ UUID }}', 'g'), id);\n  insertcss(basecss);\n  insertcss(rangecss);\n  insertcss(colorcss);\n  insertcss(checkboxcss);\n  insertcss(multiboxcss);\n  insertcss(buttoncss);\n  insertcss(intervalcss);\n  insertcss(selectcss);\n  var elem = document.createElement('style');\n  elem.setAttribute('type', 'text/css');\n  elem.setAttribute('rel', 'stylesheet');\n  elem.setAttribute('href', '//cdn.jsdelivr.net/font-hack/2.019/css/hack.min.css');\n  document.getElementsByTagName('head')[0].appendChild(elem);\n  css(box, {\n    background: opts.theme.background1,\n    width: opts.width,\n    padding: '14px',\n    paddingBottom: '8px',\n    opacity: 0.95\n  });\n  if (opts.position === 'top-right' || opts.position === 'top-left' || opts.position === 'bottom-right' || opts.position === 'bottom-left') css(box, {\n    position: 'absolute'\n  });\n  if (opts.position === 'top-right' || opts.position === 'bottom-right') css(box, {\n    right: 8\n  });else css(box, {\n    left: 8\n  });\n  if (opts.position === 'top-right' || opts.position === 'top-left') css(box, {\n    top: 8\n  });else css(box, {\n    bottom: 8\n  });\n  if (opts.title) require('./components/title')(box, opts.title, opts.theme);\n  var components = {\n    button: require('./components/button'),\n    text: require('./components/text'),\n    range: require('./components/range'),\n    checkbox: require('./components/checkbox'),\n    multibox: require('./components/multibox'),\n    color: require('./components/color'),\n    interval: require('./components/interval'),\n    select: require('./components/select')\n  };\n  var element;\n  var state = {};\n  items.forEach(function (item) {\n    if (item.type !== 'button') {\n      state[item.label] = item.initial;\n    }\n  });\n  items.forEach(function (item) {\n    element = components[item.type](box, item, opts.theme, id);\n    element.on('initialized', function (data) {\n      state[item.label] = data;\n    });\n    element.on('input', function (data) {\n      state[item.label] = data;\n      self.emit('input', state);\n    });\n  });\n  self.state = state;\n  opts.root.appendChild(box);\n}","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/node_modules/control-panel/index.js"],"names":["EventEmitter","require","inherits","fs","css","insertcss","path","isstring","themes","uuid","module","exports","Plate","items","opts","self","width","theme","root","document","body","position","box","createElement","id","v4","className","basecss","readFileSync","join","__dirname","colorcss","rangecss","checkboxcss","multiboxcss","buttoncss","intervalcss","selectcss","String","replace","RegExp","foreground1","background2","text2","background2hover","elem","setAttribute","getElementsByTagName","appendChild","background","background1","padding","paddingBottom","opacity","right","left","top","bottom","title","components","button","text","range","checkbox","multibox","color","interval","select","element","state","forEach","item","type","label","initial","on","data","emit"],"mappings":"AAAA,IAAIA,YAAY,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,YAArC;;AACA,IAAIE,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIE,EAAE,GAAGF,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIG,GAAG,GAAGH,OAAO,CAAC,SAAD,CAAjB;;AACA,IAAII,SAAS,GAAGJ,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIK,IAAI,GAAGL,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIM,QAAQ,GAAGN,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIO,MAAM,GAAGP,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIQ,IAAI,GAAGR,OAAO,CAAC,WAAD,CAAlB;;AAEAS,MAAM,CAACC,OAAP,GAAiBC,KAAjB;AACAV,QAAQ,CAACU,KAAD,EAAQZ,YAAR,CAAR;;AAEA,SAASY,KAAT,CAAgBC,KAAhB,EAAuBC,IAAvB,EAA6B;AAC3B,MAAI,EAAE,gBAAgBF,KAAlB,CAAJ,EAA8B,OAAO,IAAIA,KAAJ,CAAUC,KAAV,EAAiBC,IAAjB,CAAP;AAC9B,MAAIC,IAAI,GAAG,IAAX;AACAD,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AACAA,EAAAA,IAAI,CAACE,KAAL,GAAaF,IAAI,CAACE,KAAL,IAAc,GAA3B;AACAF,EAAAA,IAAI,CAACG,KAAL,GAAaH,IAAI,CAACG,KAAL,IAAc,MAA3B;AACAH,EAAAA,IAAI,CAACG,KAAL,GAAaV,QAAQ,CAACO,IAAI,CAACG,KAAN,CAAR,GAAuBT,MAAM,CAACM,IAAI,CAACG,KAAN,CAA7B,GAA4CH,IAAI,CAACG,KAA9D;AACAH,EAAAA,IAAI,CAACI,IAAL,GAAYJ,IAAI,CAACI,IAAL,IAAaC,QAAQ,CAACC,IAAlC;AACAN,EAAAA,IAAI,CAACO,QAAL,GAAgBP,IAAI,CAACO,QAArB;AAEA,MAAIC,GAAG,GAAGH,QAAQ,CAACI,aAAT,CAAuB,KAAvB,CAAV;AACA,MAAIC,EAAE,GAAGf,IAAI,CAACgB,EAAL,EAAT;AACAH,EAAAA,GAAG,CAACI,SAAJ,GAAgB,eAAhB;AACAJ,EAAAA,GAAG,CAACE,EAAJ,GAAS,mBAAmBA,EAA5B;AAEA,MAAIG,OAAO,GAAGxB,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,UAA7C,CAAhB,CAAd;AACA,MAAIC,QAAQ,GAAG5B,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,WAA7C,CAAhB,CAAf;AACA,MAAIE,QAAQ,GAAG7B,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,WAA7C,CAAhB,CAAf;AACA,MAAIG,WAAW,GAAG9B,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,cAA7C,CAAhB,CAAlB;AACA,MAAII,WAAW,GAAG/B,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,cAA7C,CAAhB,CAAlB;AACA,MAAIK,SAAS,GAAGhC,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,YAA7C,CAAhB,CAAhB;AACA,MAAIM,WAAW,GAAGjC,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,cAA7C,CAAhB,CAAlB;AACA,MAAIO,SAAS,GAAGlC,EAAE,CAACyB,YAAH,CAAgBtB,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,YAArB,EAAmC,QAAnC,EAA6C,YAA7C,CAAhB,CAAhB;AAEAE,EAAAA,QAAQ,GAAGM,MAAM,CAACN,QAAD,CAAN,CACRO,OADQ,CACA,IAAIC,MAAJ,CAAW,mBAAX,EAAgC,GAAhC,CADA,EACsC1B,IAAI,CAACG,KAAL,CAAWwB,WADjD,EAERF,OAFQ,CAEA,IAAIC,MAAJ,CAAW,mBAAX,EAAgC,GAAhC,CAFA,EAEsC1B,IAAI,CAACG,KAAL,CAAWyB,WAFjD,EAGRH,OAHQ,CAGA,IAAIC,MAAJ,CAAW,YAAX,EAAyB,GAAzB,CAHA,EAG+BhB,EAH/B,CAAX;AAIAS,EAAAA,WAAW,GAAGK,MAAM,CAACL,WAAD,CAAN,CACXM,OADW,CACH,IAAIC,MAAJ,CAAW,iBAAX,EAA8B,GAA9B,CADG,EACiC1B,IAAI,CAACG,KAAL,CAAWyB,WAD5C,EAEXH,OAFW,CAEH,IAAIC,MAAJ,CAAW,kBAAX,EAA+B,GAA/B,CAFG,EAEkC1B,IAAI,CAACG,KAAL,CAAWwB,WAF7C,EAGXF,OAHW,CAGH,IAAIC,MAAJ,CAAW,YAAX,EAAyB,GAAzB,CAHG,EAG4BhB,EAH5B,CAAd;AAIAU,EAAAA,WAAW,GAAGI,MAAM,CAACJ,WAAD,CAAN,CACXK,OADW,CACH,IAAIC,MAAJ,CAAW,iBAAX,EAA8B,GAA9B,CADG,EACiC1B,IAAI,CAACG,KAAL,CAAWyB,WAD5C,EAEXH,OAFW,CAEH,IAAIC,MAAJ,CAAW,kBAAX,EAA+B,GAA/B,CAFG,EAEkC1B,IAAI,CAACG,KAAL,CAAWwB,WAF7C,EAGXF,OAHW,CAGH,IAAIC,MAAJ,CAAW,YAAX,EAAyB,GAAzB,CAHG,EAG4BhB,EAH5B,CAAd;AAIAW,EAAAA,SAAS,GAAGG,MAAM,CAACH,SAAD,CAAN,CACTI,OADS,CACD,IAAIC,MAAJ,CAAW,oBAAX,EAAiC,GAAjC,CADC,EACsC1B,IAAI,CAACG,KAAL,CAAW0B,KADjD,EAETJ,OAFS,CAED,IAAIC,MAAJ,CAAW,iBAAX,EAA8B,GAA9B,CAFC,EAEmC1B,IAAI,CAACG,KAAL,CAAWyB,WAF9C,EAGTH,OAHS,CAGD,IAAIC,MAAJ,CAAW,0BAAX,EAAuC,GAAvC,CAHC,EAG4C1B,IAAI,CAACG,KAAL,CAAW0B,KAHvD,EAITJ,OAJS,CAID,IAAIC,MAAJ,CAAW,uBAAX,EAAoC,GAApC,CAJC,EAIyC1B,IAAI,CAACG,KAAL,CAAW2B,gBAJpD,EAKTL,OALS,CAKD,IAAIC,MAAJ,CAAW,2BAAX,EAAwC,GAAxC,CALC,EAK6C1B,IAAI,CAACG,KAAL,CAAWyB,WALxD,EAMTH,OANS,CAMD,IAAIC,MAAJ,CAAW,wBAAX,EAAqC,GAArC,CANC,EAM0C1B,IAAI,CAACG,KAAL,CAAW0B,KANrD,EAOTJ,OAPS,CAOD,IAAIC,MAAJ,CAAW,YAAX,EAAyB,GAAzB,CAPC,EAO8BhB,EAP9B,CAAZ;AAQAY,EAAAA,WAAW,GAAGE,MAAM,CAACF,WAAD,CAAN,CACXG,OADW,CACH,IAAIC,MAAJ,CAAW,sBAAX,EAAmC,GAAnC,CADG,EACsC1B,IAAI,CAACG,KAAL,CAAWwB,WADjD,EAEXF,OAFW,CAEH,IAAIC,MAAJ,CAAW,mBAAX,EAAgC,GAAhC,CAFG,EAEmC1B,IAAI,CAACG,KAAL,CAAWyB,WAF9C,EAGXH,OAHW,CAGH,IAAIC,MAAJ,CAAW,YAAX,EAAyB,GAAzB,CAHG,EAG4BhB,EAH5B,CAAd;AAIAa,EAAAA,SAAS,GAAGC,MAAM,CAACD,SAAD,CAAN,CACTE,OADS,CACD,IAAIC,MAAJ,CAAW,kBAAX,EAA+B,GAA/B,CADC,EACoC1B,IAAI,CAACG,KAAL,CAAW0B,KAD/C,EAETJ,OAFS,CAED,IAAIC,MAAJ,CAAW,gBAAX,EAA6B,GAA7B,CAFC,EAEkC1B,IAAI,CAACG,KAAL,CAAWyB,WAF7C,EAGTH,OAHS,CAGD,IAAIC,MAAJ,CAAW,sBAAX,EAAmC,GAAnC,CAHC,EAGwC1B,IAAI,CAACG,KAAL,CAAW2B,gBAHnD,EAITL,OAJS,CAID,IAAIC,MAAJ,CAAW,YAAX,EAAyB,GAAzB,CAJC,EAI8BhB,EAJ9B,CAAZ;AAKAnB,EAAAA,SAAS,CAACsB,OAAD,CAAT;AACAtB,EAAAA,SAAS,CAAC2B,QAAD,CAAT;AACA3B,EAAAA,SAAS,CAAC0B,QAAD,CAAT;AACA1B,EAAAA,SAAS,CAAC4B,WAAD,CAAT;AACA5B,EAAAA,SAAS,CAAC6B,WAAD,CAAT;AACA7B,EAAAA,SAAS,CAAC8B,SAAD,CAAT;AACA9B,EAAAA,SAAS,CAAC+B,WAAD,CAAT;AACA/B,EAAAA,SAAS,CAACgC,SAAD,CAAT;AAEA,MAAIQ,IAAI,GAAG1B,QAAQ,CAACI,aAAT,CAAuB,OAAvB,CAAX;AACAsB,EAAAA,IAAI,CAACC,YAAL,CAAkB,MAAlB,EAA0B,UAA1B;AACAD,EAAAA,IAAI,CAACC,YAAL,CAAkB,KAAlB,EAAyB,YAAzB;AACAD,EAAAA,IAAI,CAACC,YAAL,CAAkB,MAAlB,EAA0B,qDAA1B;AACA3B,EAAAA,QAAQ,CAAC4B,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDH,IAArD;AAEAzC,EAAAA,GAAG,CAACkB,GAAD,EAAM;AACP2B,IAAAA,UAAU,EAAEnC,IAAI,CAACG,KAAL,CAAWiC,WADhB;AAEPlC,IAAAA,KAAK,EAAEF,IAAI,CAACE,KAFL;AAGPmC,IAAAA,OAAO,EAAE,MAHF;AAIPC,IAAAA,aAAa,EAAE,KAJR;AAKPC,IAAAA,OAAO,EAAE;AALF,GAAN,CAAH;AAQA,MAAIvC,IAAI,CAACO,QAAL,KAAkB,WAAlB,IACFP,IAAI,CAACO,QAAL,KAAkB,UADhB,IAEFP,IAAI,CAACO,QAAL,KAAkB,cAFhB,IAGFP,IAAI,CAACO,QAAL,KAAkB,aAHpB,EAGmCjB,GAAG,CAACkB,GAAD,EAAM;AAACD,IAAAA,QAAQ,EAAE;AAAX,GAAN,CAAH;AAEnC,MAAIP,IAAI,CAACO,QAAL,KAAkB,WAAlB,IAAiCP,IAAI,CAACO,QAAL,KAAkB,cAAvD,EAAuEjB,GAAG,CAACkB,GAAD,EAAM;AAACgC,IAAAA,KAAK,EAAE;AAAR,GAAN,CAAH,CAAvE,KACKlD,GAAG,CAACkB,GAAD,EAAM;AAACiC,IAAAA,IAAI,EAAE;AAAP,GAAN,CAAH;AAEL,MAAIzC,IAAI,CAACO,QAAL,KAAkB,WAAlB,IAAiCP,IAAI,CAACO,QAAL,KAAkB,UAAvD,EAAmEjB,GAAG,CAACkB,GAAD,EAAM;AAACkC,IAAAA,GAAG,EAAE;AAAN,GAAN,CAAH,CAAnE,KACKpD,GAAG,CAACkB,GAAD,EAAM;AAACmC,IAAAA,MAAM,EAAE;AAAT,GAAN,CAAH;AAEL,MAAI3C,IAAI,CAAC4C,KAAT,EAAgBzD,OAAO,CAAC,oBAAD,CAAP,CAA8BqB,GAA9B,EAAmCR,IAAI,CAAC4C,KAAxC,EAA+C5C,IAAI,CAACG,KAApD;AAEhB,MAAI0C,UAAU,GAAG;AACfC,IAAAA,MAAM,EAAE3D,OAAO,CAAC,qBAAD,CADA;AAEf4D,IAAAA,IAAI,EAAE5D,OAAO,CAAC,mBAAD,CAFE;AAGf6D,IAAAA,KAAK,EAAE7D,OAAO,CAAC,oBAAD,CAHC;AAIf8D,IAAAA,QAAQ,EAAE9D,OAAO,CAAC,uBAAD,CAJF;AAKf+D,IAAAA,QAAQ,EAAE/D,OAAO,CAAC,uBAAD,CALF;AAMfgE,IAAAA,KAAK,EAAEhE,OAAO,CAAC,oBAAD,CANC;AAOfiE,IAAAA,QAAQ,EAAEjE,OAAO,CAAC,uBAAD,CAPF;AAQfkE,IAAAA,MAAM,EAAElE,OAAO,CAAC,qBAAD;AARA,GAAjB;AAWA,MAAImE,OAAJ;AACA,MAAIC,KAAK,GAAG,EAAZ;AAEAxD,EAAAA,KAAK,CAACyD,OAAN,CAAc,UAAUC,IAAV,EAAgB;AAC5B,QAAIA,IAAI,CAACC,IAAL,KAAc,QAAlB,EAA4B;AAC1BH,MAAAA,KAAK,CAACE,IAAI,CAACE,KAAN,CAAL,GAAoBF,IAAI,CAACG,OAAzB;AACD;AACF,GAJD;AAMA7D,EAAAA,KAAK,CAACyD,OAAN,CAAc,UAAUC,IAAV,EAAgB;AAC5BH,IAAAA,OAAO,GAAGT,UAAU,CAACY,IAAI,CAACC,IAAN,CAAV,CAAsBlD,GAAtB,EAA2BiD,IAA3B,EAAiCzD,IAAI,CAACG,KAAtC,EAA6CO,EAA7C,CAAV;AAEA4C,IAAAA,OAAO,CAACO,EAAR,CAAW,aAAX,EAA0B,UAAUC,IAAV,EAAgB;AACxCP,MAAAA,KAAK,CAACE,IAAI,CAACE,KAAN,CAAL,GAAoBG,IAApB;AACD,KAFD;AAIAR,IAAAA,OAAO,CAACO,EAAR,CAAW,OAAX,EAAoB,UAAUC,IAAV,EAAgB;AAClCP,MAAAA,KAAK,CAACE,IAAI,CAACE,KAAN,CAAL,GAAoBG,IAApB;AACA7D,MAAAA,IAAI,CAAC8D,IAAL,CAAU,OAAV,EAAmBR,KAAnB;AACD,KAHD;AAID,GAXD;AAaAtD,EAAAA,IAAI,CAACsD,KAAL,GAAaA,KAAb;AAEAvD,EAAAA,IAAI,CAACI,IAAL,CAAU8B,WAAV,CAAsB1B,GAAtB;AACD","sourcesContent":["var EventEmitter = require('events').EventEmitter\nvar inherits = require('inherits')\nvar fs = require('fs')\nvar css = require('dom-css')\nvar insertcss = require('insert-css')\nvar path = require('path')\nvar isstring = require('is-string')\nvar themes = require('./themes')\nvar uuid = require('node-uuid')\n\nmodule.exports = Plate\ninherits(Plate, EventEmitter)\n\nfunction Plate (items, opts) {\n  if (!(this instanceof Plate)) return new Plate(items, opts)\n  var self = this\n  opts = opts || {}\n  opts.width = opts.width || 300\n  opts.theme = opts.theme || 'dark'\n  opts.theme = isstring(opts.theme) ? themes[opts.theme] : opts.theme\n  opts.root = opts.root || document.body\n  opts.position = opts.position\n\n  var box = document.createElement('div')\n  var id = uuid.v4()\n  box.className = 'control-panel'\n  box.id = 'control-panel-' + id\n\n  var basecss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'base.css'))\n  var colorcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'color.css'))\n  var rangecss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'range.css'))\n  var checkboxcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'checkbox.css'))\n  var multiboxcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'multibox.css'))\n  var buttoncss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'button.css'))\n  var intervalcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'interval.css'))\n  var selectcss = fs.readFileSync(path.join(__dirname, 'components', 'styles', 'select.css'))\n\n  rangecss = String(rangecss)\n    .replace(new RegExp('{{ THUMB_COLOR }}', 'g'), opts.theme.foreground1)\n    .replace(new RegExp('{{ TRACK_COLOR }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ UUID }}', 'g'), id)\n  checkboxcss = String(checkboxcss)\n    .replace(new RegExp('{{ BOX_COLOR }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ ICON_COLOR }}', 'g'), opts.theme.foreground1)\n    .replace(new RegExp('{{ UUID }}', 'g'), id)\n  multiboxcss = String(multiboxcss)\n    .replace(new RegExp('{{ BOX_COLOR }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ ICON_COLOR }}', 'g'), opts.theme.foreground1)\n    .replace(new RegExp('{{ UUID }}', 'g'), id)\n  buttoncss = String(buttoncss)\n    .replace(new RegExp('{{ BUTTON_COLOR }}', 'g'), opts.theme.text2)\n    .replace(new RegExp('{{ BUTTON_BG }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ BUTTON_COLOR_HOVER }}', 'g'), opts.theme.text2)\n    .replace(new RegExp('{{ BUTTON_BG_HOVER }}', 'g'), opts.theme.background2hover)\n    .replace(new RegExp('{{ BUTTON_COLOR_ACTIVE }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ BUTTON_BG_ACTIVE }}', 'g'), opts.theme.text2)\n    .replace(new RegExp('{{ UUID }}', 'g'), id)\n  intervalcss = String(intervalcss)\n    .replace(new RegExp('{{ INTERVAL_COLOR }}', 'g'), opts.theme.foreground1)\n    .replace(new RegExp('{{ TRACK_COLOR }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ UUID }}', 'g'), id)\n  selectcss = String(selectcss)\n    .replace(new RegExp('{{ TEXT_COLOR }}', 'g'), opts.theme.text2)\n    .replace(new RegExp('{{ BG_COLOR }}', 'g'), opts.theme.background2)\n    .replace(new RegExp('{{ BG_COLOR_HOVER }}', 'g'), opts.theme.background2hover)\n    .replace(new RegExp('{{ UUID }}', 'g'), id)\n  insertcss(basecss)\n  insertcss(rangecss)\n  insertcss(colorcss)\n  insertcss(checkboxcss)\n  insertcss(multiboxcss)\n  insertcss(buttoncss)\n  insertcss(intervalcss)\n  insertcss(selectcss)\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n  elem.setAttribute('rel', 'stylesheet')\n  elem.setAttribute('href', '//cdn.jsdelivr.net/font-hack/2.019/css/hack.min.css')\n  document.getElementsByTagName('head')[0].appendChild(elem)\n\n  css(box, {\n    background: opts.theme.background1,\n    width: opts.width,\n    padding: '14px',\n    paddingBottom: '8px',\n    opacity: 0.95\n  })\n\n  if (opts.position === 'top-right' ||\n    opts.position === 'top-left' ||\n    opts.position === 'bottom-right' ||\n    opts.position === 'bottom-left') css(box, {position: 'absolute'})\n\n  if (opts.position === 'top-right' || opts.position === 'bottom-right') css(box, {right: 8})\n  else css(box, {left: 8})\n\n  if (opts.position === 'top-right' || opts.position === 'top-left') css(box, {top: 8})\n  else css(box, {bottom: 8})\n\n  if (opts.title) require('./components/title')(box, opts.title, opts.theme)\n\n  var components = {\n    button: require('./components/button'),\n    text: require('./components/text'),\n    range: require('./components/range'),\n    checkbox: require('./components/checkbox'),\n    multibox: require('./components/multibox'),\n    color: require('./components/color'),\n    interval: require('./components/interval'),\n    select: require('./components/select')\n  }\n\n  var element\n  var state = {}\n\n  items.forEach(function (item) {\n    if (item.type !== 'button') {\n      state[item.label] = item.initial\n    }\n  })\n\n  items.forEach(function (item) {\n    element = components[item.type](box, item, opts.theme, id)\n\n    element.on('initialized', function (data) {\n      state[item.label] = data\n    })\n\n    element.on('input', function (data) {\n      state[item.label] = data\n      self.emit('input', state)\n    })\n  })\n\n  self.state = state\n\n  opts.root.appendChild(box)\n}\n"]},"metadata":{},"sourceType":"script"}