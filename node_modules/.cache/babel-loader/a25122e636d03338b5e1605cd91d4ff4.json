{"ast":null,"code":"'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\n\n\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n\n  this.links = parseLinkHeader(this.headers.link);\n}\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\n\n\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\n\n\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js"],"names":["parseLinkHeader","require","MapiResponse","request","responseData","headers","rawBody","body","statusCode","JSON","parse","parseError","links","link","prototype","hasNextPage","next","nextPage","_extend","path","url","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,eAAe,GAAGC,OAAO,CAAC,8BAAD,CAA7B;AAEA;;;;;;;;;;;;AAYA;;;;;;;;;;AAQA,SAASC,YAAT,CAAsBC,OAAtB,EAA+BC,YAA/B,EAA6C;AAC3C,OAAKD,OAAL,GAAeA,OAAf;AACA,OAAKE,OAAL,GAAeD,YAAY,CAACC,OAA5B;AACA,OAAKC,OAAL,GAAeF,YAAY,CAACG,IAA5B;AACA,OAAKC,UAAL,GAAkBJ,YAAY,CAACI,UAA/B;;AACA,MAAI;AACF,SAAKD,IAAL,GAAYE,IAAI,CAACC,KAAL,CAAWN,YAAY,CAACG,IAAb,IAAqB,IAAhC,CAAZ;AACD,GAFD,CAEE,OAAOI,UAAP,EAAmB;AACnB,SAAKJ,IAAL,GAAYH,YAAY,CAACG,IAAzB;AACD;;AACD,OAAKK,KAAL,GAAaZ,eAAe,CAAC,KAAKK,OAAL,CAAaQ,IAAd,CAA5B;AACD;AAED;;;;;;;AAKAX,YAAY,CAACY,SAAb,CAAuBC,WAAvB,GAAqC,SAASA,WAAT,GAAuB;AAC1D,SAAO,CAAC,CAAC,KAAKH,KAAL,CAAWI,IAApB;AACD,CAFD;AAIA;;;;;;;;AAMAd,YAAY,CAACY,SAAb,CAAuBG,QAAvB,GAAkC,SAASA,QAAT,GAAoB;AACpD,MAAI,CAAC,KAAKF,WAAL,EAAL,EAAyB,OAAO,IAAP;AACzB,SAAO,KAAKZ,OAAL,CAAae,OAAb,CAAqB;AAC1BC,IAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWI,IAAX,CAAgBI;AADI,GAArB,CAAP;AAGD,CALD;;AAOAC,MAAM,CAACC,OAAP,GAAiBpB,YAAjB","sourcesContent":["'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n"]},"metadata":{},"sourceType":"script"}