{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\n\nvar ColorPicker = require('simple-color-picker');\n\nvar inherits = require('inherits');\n\nvar css = require('dom-css');\n\nvar tinycolor = require('tinycolor2');\n\nmodule.exports = Color;\ninherits(Color, EventEmitter);\n\nfunction Color(root, opts, theme, uuid) {\n  if (!(this instanceof Color)) return new Color(root, opts, theme, uuid);\n  opts = opts || {};\n  opts.format = opts.format || 'rgb';\n  opts.initial = opts.initial || '#123456';\n  var self = this;\n\n  var container = require('./container')(root, opts.label);\n\n  require('./label')(container, opts.label, theme);\n\n  var icon = container.appendChild(document.createElement('span'));\n  icon.className = 'control-panel-color-' + uuid;\n\n  var value = require('./value')(container, '', theme, '46%');\n\n  icon.onmouseover = function () {\n    picker.$el.style.display = '';\n  };\n\n  var initial = opts.initial;\n\n  switch (opts.format) {\n    case 'rgb':\n      initial = tinycolor(initial).toHexString();\n      break;\n\n    case 'hex':\n      initial = tinycolor(initial).toHexString();\n      break;\n\n    case 'array':\n      initial = tinycolor.fromRatio({\n        r: initial[0],\n        g: initial[1],\n        b: initial[2]\n      }).toHexString();\n      break;\n\n    default:\n      break;\n  }\n\n  var picker = new ColorPicker({\n    el: icon,\n    color: initial,\n    background: theme.background1,\n    width: 125,\n    height: 100\n  });\n  css(picker.$el, {\n    marginTop: '20px',\n    display: 'none',\n    position: 'absolute'\n  });\n  css(icon, {\n    position: 'relative',\n    display: 'inline-block',\n    width: '12.5%',\n    height: '20px',\n    backgroundColor: picker.getHexString()\n  });\n\n  icon.onmouseout = function (e) {\n    picker.$el.style.display = 'none';\n  };\n\n  setTimeout(function () {\n    self.emit('initialized', initial);\n  });\n  picker.onChange(function (hex) {\n    value.innerHTML = format(hex);\n    css(icon, {\n      backgroundColor: hex\n    });\n    self.emit('input', format(hex));\n  });\n\n  function format(hex) {\n    switch (opts.format) {\n      case 'rgb':\n        return tinycolor(hex).toRgbString();\n\n      case 'hex':\n        return tinycolor(hex).toHexString();\n\n      case 'array':\n        var rgb = tinycolor(hex).toRgb();\n        return [rgb.r / 255, rgb.g / 255, rgb.b / 255].map(function (x) {\n          return x.toFixed(2);\n        });\n\n      default:\n        return hex;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/node_modules/control-panel/components/color.js"],"names":["EventEmitter","require","ColorPicker","inherits","css","tinycolor","module","exports","Color","root","opts","theme","uuid","format","initial","self","container","label","icon","appendChild","document","createElement","className","value","onmouseover","picker","$el","style","display","toHexString","fromRatio","r","g","b","el","color","background","background1","width","height","marginTop","position","backgroundColor","getHexString","onmouseout","e","setTimeout","emit","onChange","hex","innerHTML","toRgbString","rgb","toRgb","map","x","toFixed"],"mappings":"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","sourcesContent":["var EventEmitter = require('events').EventEmitter\nvar ColorPicker = require('simple-color-picker')\nvar inherits = require('inherits')\nvar css = require('dom-css')\nvar tinycolor = require('tinycolor2')\n\nmodule.exports = Color\ninherits(Color, EventEmitter)\n\nfunction Color (root, opts, theme, uuid) {\n  if (!(this instanceof Color)) return new Color(root, opts, theme, uuid)\n  opts = opts || {}\n  opts.format = opts.format || 'rgb'\n  opts.initial = opts.initial || '#123456'\n  var self = this\n\n  var container = require('./container')(root, opts.label)\n  require('./label')(container, opts.label, theme)\n\n  var icon = container.appendChild(document.createElement('span'))\n  icon.className = 'control-panel-color-' + uuid\n\n  var value = require('./value')(container, '', theme, '46%')\n\n  icon.onmouseover = function () {\n    picker.$el.style.display = ''\n  }\n\n  var initial = opts.initial\n  switch (opts.format) {\n    case 'rgb':\n      initial = tinycolor(initial).toHexString()\n      break\n    case 'hex':\n      initial = tinycolor(initial).toHexString()\n      break\n    case 'array':\n      initial = tinycolor.fromRatio({r: initial[0], g: initial[1], b: initial[2]}).toHexString()\n      break\n    default:\n      break\n  }\n\n  var picker = new ColorPicker({\n    el: icon,\n    color: initial,\n    background: theme.background1,\n    width: 125,\n    height: 100\n  })\n\n  css(picker.$el, {\n    marginTop: '20px',\n    display: 'none',\n    position: 'absolute'\n  })\n\n  css(icon, {\n    position: 'relative',\n    display: 'inline-block',\n    width: '12.5%',\n    height: '20px',\n    backgroundColor: picker.getHexString()\n  })\n\n  icon.onmouseout = function (e) {\n    picker.$el.style.display = 'none'\n  }\n\n  setTimeout(function () {\n    self.emit('initialized', initial)\n  })\n\n  picker.onChange(function (hex) {\n    value.innerHTML = format(hex)\n    css(icon, {backgroundColor: hex})\n    self.emit('input', format(hex))\n  })\n\n  function format (hex) {\n    switch (opts.format) {\n      case 'rgb':\n        return tinycolor(hex).toRgbString()\n      case 'hex':\n        return tinycolor(hex).toHexString()\n      case 'array':\n        var rgb = tinycolor(hex).toRgb()\n        return [rgb.r / 255, rgb.g / 255, rgb.b / 255].map(function (x) {\n          return x.toFixed(2)\n        })\n      default:\n        return hex\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}