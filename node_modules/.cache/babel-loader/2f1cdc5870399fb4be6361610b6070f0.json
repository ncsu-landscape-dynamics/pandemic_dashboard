{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction iconInspect() {\n  return new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#505050\\\">\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/>\\n    <path d=\\\"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z\\\"/>\\n</svg>\", 'image/svg+xml').firstChild;\n}\n\nfunction iconLeft() {\n  return new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#505050\\\">\\n    <path d=\\\"M14 7l-5 5 5 5V7z\\\"/>\\n    <path fill=\\\"none\\\" d=\\\"M24 0v24H0V0h24z\\\"/>\\n</svg>\", 'image/svg+xml').firstChild;\n}\n\nfunction iconRight() {\n  return new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#505050\\\">\\n    <path d=\\\"M10 17l5-5-5-5v10z\\\"/>\\n    <path fill=\\\"none\\\" d=\\\"M0 24V0h24v24H0z\\\"/>\\n</svg>\", 'image/svg+xml').firstChild;\n}\n\nfunction featureData(feature) {\n  var props = feature.properties;\n  var data = [{\n    key: '$id',\n    value: feature.layer.id\n  }, {\n    key: '$type',\n    value: feature.layer.type\n  }, {\n    key: 'source',\n    value: feature.layer.source\n  }, {\n    key: 'source-layer',\n    value: feature.layer['source-layer']\n  }];\n  Object.keys(props).forEach(function (key) {\n    data.push({\n      key: key,\n      value: props[key]\n    });\n  });\n  return data;\n}\n\nfunction popup(features) {\n  var current = 0;\n  var root = document.createElement('div');\n  root.classList.add('mapboxgl-ctrl-inspect-popup');\n  var content = document.createElement('div');\n  content.classList.add('mapboxgl-ctrl-inspect-content');\n\n  var templatePrev = function templatePrev() {\n    var button = document.createElement('div');\n    button.setAttribute('type', 'button');\n    button.classList.add('mapboxgl-ctrl-inspect-prev');\n    button.appendChild(iconLeft());\n    button.addEventListener('click', function () {\n      return goTo('-1');\n    });\n    return button;\n  };\n\n  var templateNext = function templateNext() {\n    var button = document.createElement('div');\n    button.setAttribute('type', 'button');\n    button.classList.add('mapboxgl-ctrl-inspect-next');\n    button.appendChild(iconRight());\n    button.addEventListener('click', function () {\n      return goTo('+1');\n    });\n    return button;\n  };\n\n  var templateTitle = function templateTitle() {\n    var title = document.createElement('div');\n    title.classList.add('mapboxgl-ctrl-inspect-current');\n    title.textContent = \"\".concat(current + 1, \" / \").concat(features.length);\n    return title;\n  };\n\n  var templateHeader = function templateHeader() {\n    var header = document.createElement('div');\n    header.classList.add('mapboxgl-ctrl-inspect-header');\n    header.appendChild(templatePrev());\n    header.appendChild(templateTitle());\n    header.appendChild(templateNext());\n    return header;\n  };\n\n  var templateFeature = function templateFeature(feature) {\n    var table = document.createElement('table');\n    table.classList.add('mapboxgl-ctrl-inspect-feature');\n    var data = featureData(feature);\n    data.forEach(function (prop) {\n      var row = document.createElement('tr');\n      var key = document.createElement('th');\n      var value = document.createElement('td');\n      key.textContent = prop.key;\n      value.textContent = prop.value;\n      row.appendChild(key);\n      row.appendChild(value);\n      table.append(row);\n    });\n    return table;\n  };\n\n  function goTo(dir) {\n    if (dir === '-1') {\n      current = current !== 0 ? current - 1 : features.length - 1;\n    } else if (dir === '+1') {\n      current = current !== features.length - 1 ? current + 1 : 0;\n    }\n\n    content.innerHTML = '';\n    content.appendChild(templateHeader());\n    content.appendChild(templateFeature(features[current]));\n  }\n\n  root.appendChild(content);\n\n  if (!features.length) {\n    content.textContent = 'No features';\n  } else {\n    if (features.length > 1) {\n      content.appendChild(templateHeader());\n    }\n\n    content.appendChild(templateFeature(features[current]));\n  }\n\n  return root;\n}\n/**\n * Inspect control to debug style layers and source\n */\n\n\nvar InspectControl = /*#__PURE__*/function () {\n  function InspectControl() {\n    _classCallCheck(this, InspectControl);\n  }\n\n  _createClass(InspectControl, [{\n    key: \"insertControls\",\n    value: function insertControls() {\n      this.container = document.createElement('div');\n      this.container.classList.add('mapboxgl-ctrl');\n      this.container.classList.add('mapboxgl-ctrl-group');\n      this.container.classList.add('mapboxgl-ctrl-inspect');\n      this.button = document.createElement('button');\n      this.button.setAttribute('type', 'button');\n      this.button.appendChild(iconInspect());\n      this.container.appendChild(this.button);\n      this.popup = null;\n      this.lngLat = null;\n      this.clickListener = this.clickListener.bind(this);\n      this.updatePosition = this.updatePosition.bind(this);\n    }\n  }, {\n    key: \"inspectingOn\",\n    value: function inspectingOn() {\n      this.isInspecting = true;\n      this.button.classList.add('-active');\n      this.map.on('click', this.clickListener);\n      this.map.on('move', this.updatePosition);\n      this.map.getCanvas().style.cursor = 'pointer';\n    }\n  }, {\n    key: \"inspectingOff\",\n    value: function inspectingOff() {\n      this.removePopup();\n      this.isInspecting = false;\n      this.button.classList.remove('-active');\n      this.map.off('click', this.clickListener);\n      this.map.off('move', this.updatePosition);\n      this.map.getCanvas().style.cursor = '';\n    }\n  }, {\n    key: \"getFeatures\",\n    value: function getFeatures(event) {\n      var selectThreshold = 3;\n      var queryBox = [[event.point.x - selectThreshold, event.point.y + selectThreshold], // bottom left (SW)\n      [event.point.x + selectThreshold, event.point.y - selectThreshold] // top right (NE)\n      ];\n      return this.map.queryRenderedFeatures(queryBox);\n    }\n  }, {\n    key: \"addPopup\",\n    value: function addPopup(features) {\n      this.popup = popup(features);\n      this.mapContainer.appendChild(this.popup);\n      this.updatePosition();\n    }\n  }, {\n    key: \"removePopup\",\n    value: function removePopup() {\n      if (!this.popup) return;\n      this.mapContainer.removeChild(this.popup);\n      this.popup = null;\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      if (!this.lngLat) return;\n      var canvasRect = this.canvas.getBoundingClientRect();\n      var pos = this.map.project(this.lngLat);\n      this.popup.style.left = \"\".concat(pos.x - canvasRect.left, \"px\");\n      this.popup.style.top = \"\".concat(pos.y - canvasRect.top, \"px\");\n    }\n  }, {\n    key: \"clickListener\",\n    value: function clickListener(event) {\n      this.lngLat = event.lngLat;\n      var features = this.getFeatures(event);\n      this.removePopup();\n      this.addPopup(features);\n    }\n  }, {\n    key: \"onAdd\",\n    value: function onAdd(map) {\n      var _this = this;\n\n      this.map = map;\n      this.mapContainer = this.map.getContainer();\n      this.canvas = this.map.getCanvas();\n      this.isInspecting = false;\n      this.insertControls();\n      this.button.addEventListener('click', function () {\n        if (_this.isInspecting) {\n          _this.inspectingOff();\n        } else {\n          _this.inspectingOn();\n        }\n      });\n      return this.container;\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove() {\n      this.inspectingOff();\n      this.container.parentNode.removeChild(this.container);\n      this.map = undefined;\n    }\n  }]);\n\n  return InspectControl;\n}();\n\nexport default InspectControl;","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/node_modules/mapbox-gl-controls/lib/inspect.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","iconInspect","DOMParser","parseFromString","firstChild","iconLeft","iconRight","featureData","feature","properties","data","value","layer","id","type","source","keys","forEach","push","popup","features","current","root","document","createElement","classList","add","content","templatePrev","button","setAttribute","appendChild","addEventListener","goTo","templateNext","templateTitle","title","textContent","concat","templateHeader","header","templateFeature","table","prop","row","append","dir","innerHTML","InspectControl","insertControls","container","lngLat","clickListener","bind","updatePosition","inspectingOn","isInspecting","map","on","getCanvas","style","cursor","inspectingOff","removePopup","remove","off","getFeatures","event","selectThreshold","queryBox","point","x","y","queryRenderedFeatures","addPopup","mapContainer","removeChild","canvasRect","canvas","getBoundingClientRect","pos","project","left","top","onAdd","_this","getContainer","onRemove","parentNode","undefined"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction iconInspect() {\n  return (new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#505050\\\">\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/>\\n    <path d=\\\"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z\\\"/>\\n</svg>\", 'image/svg+xml')).firstChild;\n}\n\nfunction iconLeft() {\n  return (new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#505050\\\">\\n    <path d=\\\"M14 7l-5 5 5 5V7z\\\"/>\\n    <path fill=\\\"none\\\" d=\\\"M24 0v24H0V0h24z\\\"/>\\n</svg>\", 'image/svg+xml')).firstChild;\n}\n\nfunction iconRight() {\n  return (new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#505050\\\">\\n    <path d=\\\"M10 17l5-5-5-5v10z\\\"/>\\n    <path fill=\\\"none\\\" d=\\\"M0 24V0h24v24H0z\\\"/>\\n</svg>\", 'image/svg+xml')).firstChild;\n}\n\nfunction featureData(feature) {\n  var props = feature.properties;\n  var data = [{\n    key: '$id',\n    value: feature.layer.id\n  }, {\n    key: '$type',\n    value: feature.layer.type\n  }, {\n    key: 'source',\n    value: feature.layer.source\n  }, {\n    key: 'source-layer',\n    value: feature.layer['source-layer']\n  }];\n  Object.keys(props).forEach(function (key) {\n    data.push({\n      key: key,\n      value: props[key]\n    });\n  });\n  return data;\n}\n\nfunction popup(features) {\n  var current = 0;\n  var root = document.createElement('div');\n  root.classList.add('mapboxgl-ctrl-inspect-popup');\n  var content = document.createElement('div');\n  content.classList.add('mapboxgl-ctrl-inspect-content');\n\n  var templatePrev = function templatePrev() {\n    var button = document.createElement('div');\n    button.setAttribute('type', 'button');\n    button.classList.add('mapboxgl-ctrl-inspect-prev');\n    button.appendChild(iconLeft());\n    button.addEventListener('click', function () {\n      return goTo('-1');\n    });\n    return button;\n  };\n\n  var templateNext = function templateNext() {\n    var button = document.createElement('div');\n    button.setAttribute('type', 'button');\n    button.classList.add('mapboxgl-ctrl-inspect-next');\n    button.appendChild(iconRight());\n    button.addEventListener('click', function () {\n      return goTo('+1');\n    });\n    return button;\n  };\n\n  var templateTitle = function templateTitle() {\n    var title = document.createElement('div');\n    title.classList.add('mapboxgl-ctrl-inspect-current');\n    title.textContent = \"\".concat(current + 1, \" / \").concat(features.length);\n    return title;\n  };\n\n  var templateHeader = function templateHeader() {\n    var header = document.createElement('div');\n    header.classList.add('mapboxgl-ctrl-inspect-header');\n    header.appendChild(templatePrev());\n    header.appendChild(templateTitle());\n    header.appendChild(templateNext());\n    return header;\n  };\n\n  var templateFeature = function templateFeature(feature) {\n    var table = document.createElement('table');\n    table.classList.add('mapboxgl-ctrl-inspect-feature');\n    var data = featureData(feature);\n    data.forEach(function (prop) {\n      var row = document.createElement('tr');\n      var key = document.createElement('th');\n      var value = document.createElement('td');\n      key.textContent = prop.key;\n      value.textContent = prop.value;\n      row.appendChild(key);\n      row.appendChild(value);\n      table.append(row);\n    });\n    return table;\n  };\n\n  function goTo(dir) {\n    if (dir === '-1') {\n      current = current !== 0 ? current - 1 : features.length - 1;\n    } else if (dir === '+1') {\n      current = current !== features.length - 1 ? current + 1 : 0;\n    }\n\n    content.innerHTML = '';\n    content.appendChild(templateHeader());\n    content.appendChild(templateFeature(features[current]));\n  }\n\n  root.appendChild(content);\n\n  if (!features.length) {\n    content.textContent = 'No features';\n  } else {\n    if (features.length > 1) {\n      content.appendChild(templateHeader());\n    }\n\n    content.appendChild(templateFeature(features[current]));\n  }\n\n  return root;\n}\n/**\n * Inspect control to debug style layers and source\n */\n\n\nvar InspectControl = /*#__PURE__*/function () {\n  function InspectControl() {\n    _classCallCheck(this, InspectControl);\n  }\n\n  _createClass(InspectControl, [{\n    key: \"insertControls\",\n    value: function insertControls() {\n      this.container = document.createElement('div');\n      this.container.classList.add('mapboxgl-ctrl');\n      this.container.classList.add('mapboxgl-ctrl-group');\n      this.container.classList.add('mapboxgl-ctrl-inspect');\n      this.button = document.createElement('button');\n      this.button.setAttribute('type', 'button');\n      this.button.appendChild(iconInspect());\n      this.container.appendChild(this.button);\n      this.popup = null;\n      this.lngLat = null;\n      this.clickListener = this.clickListener.bind(this);\n      this.updatePosition = this.updatePosition.bind(this);\n    }\n  }, {\n    key: \"inspectingOn\",\n    value: function inspectingOn() {\n      this.isInspecting = true;\n      this.button.classList.add('-active');\n      this.map.on('click', this.clickListener);\n      this.map.on('move', this.updatePosition);\n      this.map.getCanvas().style.cursor = 'pointer';\n    }\n  }, {\n    key: \"inspectingOff\",\n    value: function inspectingOff() {\n      this.removePopup();\n      this.isInspecting = false;\n      this.button.classList.remove('-active');\n      this.map.off('click', this.clickListener);\n      this.map.off('move', this.updatePosition);\n      this.map.getCanvas().style.cursor = '';\n    }\n  }, {\n    key: \"getFeatures\",\n    value: function getFeatures(event) {\n      var selectThreshold = 3;\n      var queryBox = [[event.point.x - selectThreshold, event.point.y + selectThreshold], // bottom left (SW)\n      [event.point.x + selectThreshold, event.point.y - selectThreshold] // top right (NE)\n      ];\n      return this.map.queryRenderedFeatures(queryBox);\n    }\n  }, {\n    key: \"addPopup\",\n    value: function addPopup(features) {\n      this.popup = popup(features);\n      this.mapContainer.appendChild(this.popup);\n      this.updatePosition();\n    }\n  }, {\n    key: \"removePopup\",\n    value: function removePopup() {\n      if (!this.popup) return;\n      this.mapContainer.removeChild(this.popup);\n      this.popup = null;\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      if (!this.lngLat) return;\n      var canvasRect = this.canvas.getBoundingClientRect();\n      var pos = this.map.project(this.lngLat);\n      this.popup.style.left = \"\".concat(pos.x - canvasRect.left, \"px\");\n      this.popup.style.top = \"\".concat(pos.y - canvasRect.top, \"px\");\n    }\n  }, {\n    key: \"clickListener\",\n    value: function clickListener(event) {\n      this.lngLat = event.lngLat;\n      var features = this.getFeatures(event);\n      this.removePopup();\n      this.addPopup(features);\n    }\n  }, {\n    key: \"onAdd\",\n    value: function onAdd(map) {\n      var _this = this;\n\n      this.map = map;\n      this.mapContainer = this.map.getContainer();\n      this.canvas = this.map.getCanvas();\n      this.isInspecting = false;\n      this.insertControls();\n      this.button.addEventListener('click', function () {\n        if (_this.isInspecting) {\n          _this.inspectingOff();\n        } else {\n          _this.inspectingOn();\n        }\n      });\n      return this.container;\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove() {\n      this.inspectingOff();\n      this.container.parentNode.removeChild(this.container);\n      this.map = undefined;\n    }\n  }]);\n\n  return InspectControl;\n}();\n\nexport default InspectControl;\n"]},"metadata":{},"sourceType":"module"}