{"ast":null,"code":"import { PureComponent as t } from \"react\";\nimport e from \"events\";\nimport { FlyToInterpolator as n } from \"react-map-gl\";\nvar r = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {};\n\nfunction i(t) {\n  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, \"default\") ? t.default : t;\n}\n\nfunction o(t, e) {\n  return t(e = {\n    exports: {}\n  }, e.exports), e.exports;\n}\n\nvar a = o(function (t, e) {\n  Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n  var n = \"function\" == typeof Symbol && Symbol.for,\n      r = n ? Symbol.for(\"react.element\") : 60103,\n      i = n ? Symbol.for(\"react.portal\") : 60106,\n      o = n ? Symbol.for(\"react.fragment\") : 60107,\n      a = n ? Symbol.for(\"react.strict_mode\") : 60108,\n      s = n ? Symbol.for(\"react.profiler\") : 60114,\n      u = n ? Symbol.for(\"react.provider\") : 60109,\n      c = n ? Symbol.for(\"react.context\") : 60110,\n      l = n ? Symbol.for(\"react.async_mode\") : 60111,\n      h = n ? Symbol.for(\"react.concurrent_mode\") : 60111,\n      p = n ? Symbol.for(\"react.forward_ref\") : 60112,\n      f = n ? Symbol.for(\"react.suspense\") : 60113,\n      d = n ? Symbol.for(\"react.memo\") : 60115,\n      y = n ? Symbol.for(\"react.lazy\") : 60116;\n\n  function g(t) {\n    if (\"object\" == typeof t && null !== t) {\n      var e = t.$$typeof;\n\n      switch (e) {\n        case r:\n          switch (t = t.type) {\n            case l:\n            case h:\n            case o:\n            case s:\n            case a:\n            case f:\n              return t;\n\n            default:\n              switch (t = t && t.$$typeof) {\n                case c:\n                case p:\n                case u:\n                  return t;\n\n                default:\n                  return e;\n              }\n\n          }\n\n        case y:\n        case d:\n        case i:\n          return e;\n      }\n    }\n  }\n\n  function m(t) {\n    return g(t) === h;\n  }\n\n  e.typeOf = g, e.AsyncMode = l, e.ConcurrentMode = h, e.ContextConsumer = c, e.ContextProvider = u, e.Element = r, e.ForwardRef = p, e.Fragment = o, e.Lazy = y, e.Memo = d, e.Portal = i, e.Profiler = s, e.StrictMode = a, e.Suspense = f, e.isValidElementType = function (t) {\n    return \"string\" == typeof t || \"function\" == typeof t || t === o || t === h || t === s || t === a || t === f || \"object\" == typeof t && null !== t && (t.$$typeof === y || t.$$typeof === d || t.$$typeof === u || t.$$typeof === c || t.$$typeof === p);\n  }, e.isAsyncMode = function (t) {\n    return m(t) || g(t) === l;\n  }, e.isConcurrentMode = m, e.isContextConsumer = function (t) {\n    return g(t) === c;\n  }, e.isContextProvider = function (t) {\n    return g(t) === u;\n  }, e.isElement = function (t) {\n    return \"object\" == typeof t && null !== t && t.$$typeof === r;\n  }, e.isForwardRef = function (t) {\n    return g(t) === p;\n  }, e.isFragment = function (t) {\n    return g(t) === o;\n  }, e.isLazy = function (t) {\n    return g(t) === y;\n  }, e.isMemo = function (t) {\n    return g(t) === d;\n  }, e.isPortal = function (t) {\n    return g(t) === i;\n  }, e.isProfiler = function (t) {\n    return g(t) === s;\n  }, e.isStrictMode = function (t) {\n    return g(t) === a;\n  }, e.isSuspense = function (t) {\n    return g(t) === f;\n  };\n});\ni(a);\nvar s = o(function (t, e) {\n  \"production\" !== process.env.NODE_ENV && function () {\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var t = \"function\" == typeof Symbol && Symbol.for,\n        n = t ? Symbol.for(\"react.element\") : 60103,\n        r = t ? Symbol.for(\"react.portal\") : 60106,\n        i = t ? Symbol.for(\"react.fragment\") : 60107,\n        o = t ? Symbol.for(\"react.strict_mode\") : 60108,\n        a = t ? Symbol.for(\"react.profiler\") : 60114,\n        s = t ? Symbol.for(\"react.provider\") : 60109,\n        u = t ? Symbol.for(\"react.context\") : 60110,\n        c = t ? Symbol.for(\"react.async_mode\") : 60111,\n        l = t ? Symbol.for(\"react.concurrent_mode\") : 60111,\n        h = t ? Symbol.for(\"react.forward_ref\") : 60112,\n        p = t ? Symbol.for(\"react.suspense\") : 60113,\n        f = t ? Symbol.for(\"react.memo\") : 60115,\n        d = t ? Symbol.for(\"react.lazy\") : 60116,\n        y = function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) n[r - 1] = arguments[r];\n\n      var i = 0,\n          o = \"Warning: \" + t.replace(/%s/g, function () {\n        return n[i++];\n      });\n      \"undefined\" != typeof console && console.warn(o);\n\n      try {\n        throw new Error(o);\n      } catch (t) {}\n    };\n\n    function g(t) {\n      if (\"object\" == typeof t && null !== t) {\n        var e = t.$$typeof;\n\n        switch (e) {\n          case n:\n            var y = t.type;\n\n            switch (y) {\n              case c:\n              case l:\n              case i:\n              case a:\n              case o:\n              case p:\n                return y;\n\n              default:\n                var g = y && y.$$typeof;\n\n                switch (g) {\n                  case u:\n                  case h:\n                  case s:\n                    return g;\n\n                  default:\n                    return e;\n                }\n\n            }\n\n          case d:\n          case f:\n          case r:\n            return e;\n        }\n      }\n    }\n\n    var m = c,\n        v = l,\n        b = u,\n        _ = s,\n        x = n,\n        w = h,\n        E = i,\n        M = d,\n        O = f,\n        j = r,\n        P = a,\n        S = o,\n        k = p,\n        R = !1;\n\n    function C(t) {\n      return g(t) === l;\n    }\n\n    e.typeOf = g, e.AsyncMode = m, e.ConcurrentMode = v, e.ContextConsumer = b, e.ContextProvider = _, e.Element = x, e.ForwardRef = w, e.Fragment = E, e.Lazy = M, e.Memo = O, e.Portal = j, e.Profiler = P, e.StrictMode = S, e.Suspense = k, e.isValidElementType = function (t) {\n      return \"string\" == typeof t || \"function\" == typeof t || t === i || t === l || t === a || t === o || t === p || \"object\" == typeof t && null !== t && (t.$$typeof === d || t.$$typeof === f || t.$$typeof === s || t.$$typeof === u || t.$$typeof === h);\n    }, e.isAsyncMode = function (t) {\n      return R || (R = !0, function (t, e) {\n        if (void 0 === e) throw new Error(\"`lowPriorityWarning(condition, format, ...args)` requires a warning message argument\");\n\n        if (!t) {\n          for (var n = arguments.length, r = Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++) r[i - 2] = arguments[i];\n\n          y.apply(void 0, [e].concat(r));\n        }\n      }(!1, \"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.\")), C(t) || g(t) === c;\n    }, e.isConcurrentMode = C, e.isContextConsumer = function (t) {\n      return g(t) === u;\n    }, e.isContextProvider = function (t) {\n      return g(t) === s;\n    }, e.isElement = function (t) {\n      return \"object\" == typeof t && null !== t && t.$$typeof === n;\n    }, e.isForwardRef = function (t) {\n      return g(t) === h;\n    }, e.isFragment = function (t) {\n      return g(t) === i;\n    }, e.isLazy = function (t) {\n      return g(t) === d;\n    }, e.isMemo = function (t) {\n      return g(t) === f;\n    }, e.isPortal = function (t) {\n      return g(t) === r;\n    }, e.isProfiler = function (t) {\n      return g(t) === a;\n    }, e.isStrictMode = function (t) {\n      return g(t) === o;\n    }, e.isSuspense = function (t) {\n      return g(t) === p;\n    };\n  }();\n});\ni(s);\nvar u = o(function (t) {\n  t.exports = \"production\" === process.env.NODE_ENV ? a : s;\n}),\n    c = Object.getOwnPropertySymbols,\n    l = Object.prototype.hasOwnProperty,\n    h = Object.prototype.propertyIsEnumerable;\n\nfunction p(t) {\n  if (null == t) throw new TypeError(\"Object.assign cannot be called with null or undefined\");\n  return Object(t);\n}\n\nvar f = function () {\n  try {\n    if (!Object.assign) return !1;\n    var t = new String(\"abc\");\n    if (t[5] = \"de\", \"5\" === Object.getOwnPropertyNames(t)[0]) return !1;\n\n    for (var e = {}, n = 0; n < 10; n++) e[\"_\" + String.fromCharCode(n)] = n;\n\n    if (\"0123456789\" !== Object.getOwnPropertyNames(e).map(function (t) {\n      return e[t];\n    }).join(\"\")) return !1;\n    var r = {};\n    return \"abcdefghijklmnopqrst\".split(\"\").forEach(function (t) {\n      r[t] = t;\n    }), \"abcdefghijklmnopqrst\" === Object.keys(Object.assign({}, r)).join(\"\");\n  } catch (t) {\n    return !1;\n  }\n}() ? Object.assign : function (t, e) {\n  for (var n, r, i = p(t), o = 1; o < arguments.length; o++) {\n    for (var a in n = Object(arguments[o])) l.call(n, a) && (i[a] = n[a]);\n\n    if (c) {\n      r = c(n);\n\n      for (var s = 0; s < r.length; s++) h.call(n, r[s]) && (i[r[s]] = n[r[s]]);\n    }\n  }\n\n  return i;\n},\n    d = \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\",\n    y = function () {};\n\nif (\"production\" !== process.env.NODE_ENV) {\n  var g = d,\n      m = {},\n      v = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  y = function (t) {\n    var e = \"Warning: \" + t;\n    \"undefined\" != typeof console && console.error(e);\n\n    try {\n      throw new Error(e);\n    } catch (t) {}\n  };\n}\n\nfunction b(t, e, n, r, i) {\n  if (\"production\" !== process.env.NODE_ENV) for (var o in t) if (v(t, o)) {\n    var a;\n\n    try {\n      if (\"function\" != typeof t[o]) {\n        var s = Error((r || \"React class\") + \": \" + n + \" type `\" + o + \"` is invalid; it must be a function, usually from the `prop-types` package, but received `\" + typeof t[o] + \"`.\");\n        throw s.name = \"Invariant Violation\", s;\n      }\n\n      a = t[o](e, o, r, n, null, g);\n    } catch (t) {\n      a = t;\n    }\n\n    if (!a || a instanceof Error || y((r || \"React class\") + \": type specification of \" + n + \" `\" + o + \"` is invalid; the type checker function must return `null` or an `Error` but returned a \" + typeof a + \". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\"), a instanceof Error && !(a.message in m)) {\n      m[a.message] = !0;\n      var u = i ? i() : \"\";\n      y(\"Failed \" + n + \" type: \" + a.message + (null != u ? u : \"\"));\n    }\n  }\n}\n\nb.resetWarningCache = function () {\n  \"production\" !== process.env.NODE_ENV && (m = {});\n};\n\nvar _ = b,\n    x = Function.call.bind(Object.prototype.hasOwnProperty),\n    w = function () {};\n\nfunction E() {\n  return null;\n}\n\nfunction M() {}\n\nfunction O() {}\n\n\"production\" !== process.env.NODE_ENV && (w = function (t) {\n  var e = \"Warning: \" + t;\n  \"undefined\" != typeof console && console.error(e);\n\n  try {\n    throw new Error(e);\n  } catch (t) {}\n}), O.resetWarningCache = M;\n\nvar j = o(function (t) {\n  t.exports = \"production\" !== process.env.NODE_ENV ? function (t, e) {\n    var n = \"function\" == typeof Symbol && Symbol.iterator,\n        r = \"@@iterator\",\n        i = \"<<anonymous>>\",\n        o = {\n      array: l(\"array\"),\n      bool: l(\"boolean\"),\n      func: l(\"function\"),\n      number: l(\"number\"),\n      object: l(\"object\"),\n      string: l(\"string\"),\n      symbol: l(\"symbol\"),\n      any: c(E),\n      arrayOf: function (t) {\n        return c(function (e, n, r, i, o) {\n          if (\"function\" != typeof t) return new s(\"Property `\" + o + \"` of component `\" + r + \"` has invalid PropType notation inside arrayOf.\");\n          var a = e[n];\n          if (!Array.isArray(a)) return new s(\"Invalid \" + i + \" `\" + o + \"` of type `\" + p(a) + \"` supplied to `\" + r + \"`, expected an array.\");\n\n          for (var u = 0; u < a.length; u++) {\n            var c = t(a, u, r, i, o + \"[\" + u + \"]\", d);\n            if (c instanceof Error) return c;\n          }\n\n          return null;\n        });\n      },\n      element: c(function (e, n, r, i, o) {\n        var a = e[n];\n        return t(a) ? null : new s(\"Invalid \" + i + \" `\" + o + \"` of type `\" + p(a) + \"` supplied to `\" + r + \"`, expected a single ReactElement.\");\n      }),\n      elementType: c(function (t, e, n, r, i) {\n        var o = t[e];\n        return u.isValidElementType(o) ? null : new s(\"Invalid \" + r + \" `\" + i + \"` of type `\" + p(o) + \"` supplied to `\" + n + \"`, expected a single ReactElement type.\");\n      }),\n      instanceOf: function (t) {\n        return c(function (e, n, r, o, a) {\n          var u;\n          return e[n] instanceof t ? null : new s(\"Invalid \" + o + \" `\" + a + \"` of type `\" + ((u = e[n]).constructor && u.constructor.name ? u.constructor.name : i) + \"` supplied to `\" + r + \"`, expected instance of `\" + (t.name || i) + \"`.\");\n        });\n      },\n      node: c(function (t, e, n, r, i) {\n        return h(t[e]) ? null : new s(\"Invalid \" + r + \" `\" + i + \"` supplied to `\" + n + \"`, expected a ReactNode.\");\n      }),\n      objectOf: function (t) {\n        return c(function (e, n, r, i, o) {\n          if (\"function\" != typeof t) return new s(\"Property `\" + o + \"` of component `\" + r + \"` has invalid PropType notation inside objectOf.\");\n          var a = e[n],\n              u = p(a);\n          if (\"object\" !== u) return new s(\"Invalid \" + i + \" `\" + o + \"` of type `\" + u + \"` supplied to `\" + r + \"`, expected an object.\");\n\n          for (var c in a) if (x(a, c)) {\n            var l = t(a, c, r, i, o + \".\" + c, d);\n            if (l instanceof Error) return l;\n          }\n\n          return null;\n        });\n      },\n      oneOf: function (t) {\n        return Array.isArray(t) ? c(function (e, n, r, i, o) {\n          for (var u = e[n], c = 0; c < t.length; c++) if (a(u, t[c])) return null;\n\n          var l = JSON.stringify(t, function (t, e) {\n            return \"symbol\" === y(e) ? String(e) : e;\n          });\n          return new s(\"Invalid \" + i + \" `\" + o + \"` of value `\" + String(u) + \"` supplied to `\" + r + \"`, expected one of \" + l + \".\");\n        }) : (\"production\" !== process.env.NODE_ENV && w(arguments.length > 1 ? \"Invalid arguments supplied to oneOf, expected an array, got \" + arguments.length + \" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).\" : \"Invalid argument supplied to oneOf, expected an array.\"), E);\n      },\n      oneOfType: function (t) {\n        if (!Array.isArray(t)) return \"production\" !== process.env.NODE_ENV && w(\"Invalid argument supplied to oneOfType, expected an instance of array.\"), E;\n\n        for (var e = 0; e < t.length; e++) {\n          var n = t[e];\n          if (\"function\" != typeof n) return w(\"Invalid argument supplied to oneOfType. Expected an array of check functions, but received \" + g(n) + \" at index \" + e + \".\"), E;\n        }\n\n        return c(function (e, n, r, i, o) {\n          for (var a = 0; a < t.length; a++) if (null == (0, t[a])(e, n, r, i, o, d)) return null;\n\n          return new s(\"Invalid \" + i + \" `\" + o + \"` supplied to `\" + r + \"`.\");\n        });\n      },\n      shape: function (t) {\n        return c(function (e, n, r, i, o) {\n          var a = e[n],\n              u = p(a);\n          if (\"object\" !== u) return new s(\"Invalid \" + i + \" `\" + o + \"` of type `\" + u + \"` supplied to `\" + r + \"`, expected `object`.\");\n\n          for (var c in t) {\n            var l = t[c];\n\n            if (l) {\n              var h = l(a, c, r, i, o + \".\" + c, d);\n              if (h) return h;\n            }\n          }\n\n          return null;\n        });\n      },\n      exact: function (t) {\n        return c(function (e, n, r, i, o) {\n          var a = e[n],\n              u = p(a);\n          if (\"object\" !== u) return new s(\"Invalid \" + i + \" `\" + o + \"` of type `\" + u + \"` supplied to `\" + r + \"`, expected `object`.\");\n          var c = f({}, e[n], t);\n\n          for (var l in c) {\n            var h = t[l];\n            if (!h) return new s(\"Invalid \" + i + \" `\" + o + \"` key `\" + l + \"` supplied to `\" + r + \"`.\\nBad object: \" + JSON.stringify(e[n], null, \"  \") + \"\\nValid keys: \" + JSON.stringify(Object.keys(t), null, \"  \"));\n            var y = h(a, l, r, i, o + \".\" + l, d);\n            if (y) return y;\n          }\n\n          return null;\n        });\n      }\n    };\n\n    function a(t, e) {\n      return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e;\n    }\n\n    function s(t) {\n      this.message = t, this.stack = \"\";\n    }\n\n    function c(t) {\n      if (\"production\" !== process.env.NODE_ENV) var n = {},\n          r = 0;\n\n      function o(o, a, u, c, l, h, p) {\n        if (c = c || i, h = h || u, p !== d) {\n          if (e) {\n            var f = new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types\");\n            throw f.name = \"Invariant Violation\", f;\n          }\n\n          if (\"production\" !== process.env.NODE_ENV && \"undefined\" != typeof console) {\n            var y = c + \":\" + u;\n            !n[y] && r < 3 && (w(\"You are manually calling a React.PropTypes validation function for the `\" + h + \"` prop on `\" + c + \"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.\"), n[y] = !0, r++);\n          }\n        }\n\n        return null == a[u] ? o ? new s(null === a[u] ? \"The \" + l + \" `\" + h + \"` is marked as required in `\" + c + \"`, but its value is `null`.\" : \"The \" + l + \" `\" + h + \"` is marked as required in `\" + c + \"`, but its value is `undefined`.\") : null : t(a, u, c, l, h);\n      }\n\n      var a = o.bind(null, !1);\n      return a.isRequired = o.bind(null, !0), a;\n    }\n\n    function l(t) {\n      return c(function (e, n, r, i, o, a) {\n        var u = e[n];\n        return p(u) !== t ? new s(\"Invalid \" + i + \" `\" + o + \"` of type `\" + y(u) + \"` supplied to `\" + r + \"`, expected `\" + t + \"`.\") : null;\n      });\n    }\n\n    function h(e) {\n      switch (typeof e) {\n        case \"number\":\n        case \"string\":\n        case \"undefined\":\n          return !0;\n\n        case \"boolean\":\n          return !e;\n\n        case \"object\":\n          if (Array.isArray(e)) return e.every(h);\n          if (null === e || t(e)) return !0;\n\n          var i = function (t) {\n            var i = e && (n && e[n] || e[r]);\n            if (\"function\" == typeof i) return i;\n          }();\n\n          if (!i) return !1;\n          var o,\n              a = i.call(e);\n\n          if (i !== e.entries) {\n            for (; !(o = a.next()).done;) if (!h(o.value)) return !1;\n          } else for (; !(o = a.next()).done;) {\n            var s = o.value;\n            if (s && !h(s[1])) return !1;\n          }\n\n          return !0;\n\n        default:\n          return !1;\n      }\n    }\n\n    function p(t) {\n      var e = typeof t;\n      return Array.isArray(t) ? \"array\" : t instanceof RegExp ? \"object\" : function (t, e) {\n        return \"symbol\" === t || !!e && (\"Symbol\" === e[\"@@toStringTag\"] || \"function\" == typeof Symbol && e instanceof Symbol);\n      }(e, t) ? \"symbol\" : e;\n    }\n\n    function y(t) {\n      if (null == t) return \"\" + t;\n      var e = p(t);\n\n      if (\"object\" === e) {\n        if (t instanceof Date) return \"date\";\n        if (t instanceof RegExp) return \"regexp\";\n      }\n\n      return e;\n    }\n\n    function g(t) {\n      var e = y(t);\n\n      switch (e) {\n        case \"array\":\n        case \"object\":\n          return \"an \" + e;\n\n        case \"boolean\":\n        case \"date\":\n        case \"regexp\":\n          return \"a \" + e;\n\n        default:\n          return e;\n      }\n    }\n\n    return s.prototype = Error.prototype, o.checkPropTypes = _, o.resetWarningCache = _.resetWarningCache, o.PropTypes = o, o;\n  }(u.isElement, !0) : function () {\n    function t(t, e, n, r, i, o) {\n      if (o !== d) {\n        var a = new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");\n        throw a.name = \"Invariant Violation\", a;\n      }\n    }\n\n    function e() {\n      return t;\n    }\n\n    t.isRequired = t;\n    var n = {\n      array: t,\n      bool: t,\n      func: t,\n      number: t,\n      object: t,\n      string: t,\n      symbol: t,\n      any: t,\n      arrayOf: e,\n      element: t,\n      elementType: t,\n      instanceOf: e,\n      node: t,\n      objectOf: e,\n      oneOf: e,\n      oneOfType: e,\n      shape: e,\n      exact: e,\n      checkPropTypes: O,\n      resetWarningCache: M\n    };\n    return n.PropTypes = n, n;\n  }();\n}),\n    P = function () {\n  for (var t = {}, e = 0; e < arguments.length; e++) {\n    var n = arguments[e];\n\n    for (var r in n) S.call(n, r) && (t[r] = n[r]);\n  }\n\n  return t;\n},\n    S = Object.prototype.hasOwnProperty,\n    k = o(function (t, e) {\n  !function () {\n    var e = {};\n    t.exports = e, e.simpleFilter = function (t, n) {\n      return n.filter(function (n) {\n        return e.test(t, n);\n      });\n    }, e.test = function (t, n) {\n      return null !== e.match(t, n);\n    }, e.match = function (t, e, n) {\n      var r,\n          i = 0,\n          o = [],\n          a = e.length,\n          s = 0,\n          u = 0,\n          c = (n = n || {}).pre || \"\",\n          l = n.post || \"\",\n          h = n.caseSensitive && e || e.toLowerCase();\n      t = n.caseSensitive && t || t.toLowerCase();\n\n      for (var p = 0; p < a; p++) r = e[p], h[p] === t[i] ? (r = c + r + l, i += 1, u += 1 + u) : u = 0, s += u, o[o.length] = r;\n\n      return i === t.length ? (s = h === t ? Infinity : s, {\n        rendered: o.join(\"\"),\n        score: s\n      }) : null;\n    }, e.filter = function (t, n, r) {\n      return n && 0 !== n.length ? \"string\" != typeof t ? n : (r = r || {}, n.reduce(function (n, i, o, a) {\n        var s = i;\n        r.extract && (s = r.extract(i));\n        var u = e.match(t, s, r);\n        return null != u && (n[n.length] = {\n          string: u.rendered,\n          score: u.score,\n          index: o,\n          original: i\n        }), n;\n      }, []).sort(function (t, e) {\n        return e.score - t.score || t.index - e.index;\n      })) : [];\n    };\n  }();\n}),\n    R = function (t) {\n  return this.component = t, this.items = [], this.active = 0, this.wrapper = document.createElement(\"div\"), this.wrapper.className = \"suggestions-wrapper\", this.element = document.createElement(\"ul\"), this.element.className = \"suggestions\", this.wrapper.appendChild(this.element), this.selectingListItem = !1, t.el.parentNode.insertBefore(this.wrapper, t.el.nextSibling), this;\n};\n\nR.prototype.show = function () {\n  this.element.style.display = \"block\";\n}, R.prototype.hide = function () {\n  this.element.style.display = \"none\";\n}, R.prototype.add = function (t) {\n  this.items.push(t);\n}, R.prototype.clear = function () {\n  this.items = [], this.active = 0;\n}, R.prototype.isEmpty = function () {\n  return !this.items.length;\n}, R.prototype.isVisible = function () {\n  return \"block\" === this.element.style.display;\n}, R.prototype.draw = function () {\n  if (this.element.innerHTML = \"\", 0 !== this.items.length) {\n    for (var t = 0; t < this.items.length; t++) this.drawItem(this.items[t], this.active === t);\n\n    this.show();\n  } else this.hide();\n}, R.prototype.drawItem = function (t, e) {\n  var n = document.createElement(\"li\"),\n      r = document.createElement(\"a\");\n  e && (n.className += \" active\"), r.innerHTML = t.string, n.appendChild(r), this.element.appendChild(n), n.addEventListener(\"mousedown\", function () {\n    this.selectingListItem = !0;\n  }.bind(this)), n.addEventListener(\"mouseup\", function () {\n    this.handleMouseUp.call(this, t);\n  }.bind(this));\n}, R.prototype.handleMouseUp = function (t) {\n  this.selectingListItem = !1, this.component.value(t.original), this.clear(), this.draw();\n}, R.prototype.move = function (t) {\n  this.active = t, this.draw();\n}, R.prototype.previous = function () {\n  this.move(0 === this.active ? this.items.length - 1 : this.active - 1);\n}, R.prototype.next = function () {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n}, R.prototype.drawError = function (t) {\n  var e = document.createElement(\"li\");\n  e.innerHTML = t, this.element.appendChild(e), this.show();\n};\n\nvar C = R,\n    A = function (t, e, n) {\n  return this.options = P({\n    minLength: 2,\n    limit: 5,\n    filter: !0\n  }, n = n || {}), this.el = t, this.data = e || [], this.list = new C(this), this.query = \"\", this.selected = null, this.list.draw(), this.el.addEventListener(\"keyup\", function (t) {\n    this.handleKeyUp(t.keyCode);\n  }.bind(this), !1), this.el.addEventListener(\"keydown\", function (t) {\n    this.handleKeyDown(t);\n  }.bind(this)), this.el.addEventListener(\"focus\", function () {\n    this.handleFocus();\n  }.bind(this)), this.el.addEventListener(\"blur\", function () {\n    this.handleBlur();\n  }.bind(this)), this.el.addEventListener(\"paste\", function (t) {\n    this.handlePaste(t);\n  }.bind(this)), this.render = this.options.render ? this.options.render.bind(this) : this.render.bind(this), this.getItemValue = this.options.getItemValue ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this), this;\n};\n\nA.prototype.handleKeyUp = function (t) {\n  40 !== t && 38 !== t && 27 !== t && 13 !== t && 9 !== t && this.handleInputChange(this.el.value);\n}, A.prototype.handleKeyDown = function (t) {\n  switch (t.keyCode) {\n    case 13:\n    case 9:\n      this.list.isEmpty() || (this.list.isVisible() && t.preventDefault(), this.value(this.list.items[this.list.active].original), this.list.hide());\n      break;\n\n    case 27:\n      this.list.isEmpty() || this.list.hide();\n      break;\n\n    case 38:\n      this.list.previous();\n      break;\n\n    case 40:\n      this.list.next();\n  }\n}, A.prototype.handleBlur = function () {\n  this.list.selectingListItem || this.list.hide();\n}, A.prototype.handlePaste = function (t) {\n  if (t.clipboardData) this.handleInputChange(t.clipboardData.getData(\"Text\"));else {\n    var e = this;\n    setTimeout(function () {\n      e.handleInputChange(t.target.value);\n    }, 100);\n  }\n}, A.prototype.handleInputChange = function (t) {\n  this.query = this.normalize(t), this.list.clear(), this.query.length < this.options.minLength ? this.list.draw() : this.getCandidates(function (t) {\n    for (var e = 0; e < t.length && (this.list.add(t[e]), e !== this.options.limit - 1); e++);\n\n    this.list.draw();\n  }.bind(this));\n}, A.prototype.handleFocus = function () {\n  this.list.isEmpty() || this.list.show(), this.list.selectingListItem = !1;\n}, A.prototype.update = function (t) {\n  this.data = t, this.handleKeyUp();\n}, A.prototype.clear = function () {\n  this.data = [], this.list.clear();\n}, A.prototype.normalize = function (t) {\n  return t.toLowerCase();\n}, A.prototype.match = function (t, e) {\n  return t.indexOf(e) > -1;\n}, A.prototype.value = function (t) {\n  if (this.selected = t, this.el.value = this.getItemValue(t), document.createEvent) {\n    var e = document.createEvent(\"HTMLEvents\");\n    e.initEvent(\"change\", !0, !1), this.el.dispatchEvent(e);\n  } else this.el.fireEvent(\"onchange\");\n}, A.prototype.getCandidates = function (t) {\n  var e = {\n    pre: \"<strong>\",\n    post: \"</strong>\",\n    extract: function (t) {\n      return this.getItemValue(t);\n    }.bind(this)\n  };\n  t(this.options.filter ? k.filter(this.query, this.data, e).map(function (t) {\n    return {\n      original: t.original,\n      string: this.render(t.original, t.string)\n    };\n  }.bind(this)) : this.data.map(function (t) {\n    return {\n      original: t,\n      string: this.render(t)\n    };\n  }.bind(this)));\n}, A.prototype.getItemValue = function (t) {\n  return t;\n}, A.prototype.render = function (t, e) {\n  if (e) return e;\n\n  for (var n = this.getItemValue(t.original ? t.original : t), r = this.normalize(n), i = r.lastIndexOf(this.query); i > -1;) {\n    var o = i + this.query.length;\n    n = n.slice(0, i) + \"<strong>\" + n.slice(i, o) + \"</strong>\" + n.slice(o), i = r.slice(0, i).lastIndexOf(this.query);\n  }\n\n  return n;\n}, A.prototype.renderError = function (t) {\n  this.list.drawError(t);\n};\n\nvar T = A,\n    I = o(function (t) {\n  window.Suggestions = t.exports = T;\n}),\n    L = NaN,\n    N = \"[object Symbol]\",\n    q = /^\\s+|\\s+$/g,\n    F = /^[-+]0x[0-9a-f]+$/i,\n    z = /^0b[01]+$/i,\n    B = /^0o[0-7]+$/i,\n    V = parseInt,\n    D = \"object\" == typeof r && r && r.Object === Object && r,\n    $ = \"object\" == typeof self && self && self.Object === Object && self,\n    G = D || $ || Function(\"return this\")(),\n    U = Object.prototype.toString,\n    Z = Math.max,\n    Q = Math.min,\n    H = function () {\n  return G.Date.now();\n};\n\nfunction W(t) {\n  var e = typeof t;\n  return !!t && (\"object\" == e || \"function\" == e);\n}\n\nfunction K(t) {\n  if (\"number\" == typeof t) return t;\n  if (function (t) {\n    return \"symbol\" == typeof t || function (t) {\n      return !!t && \"object\" == typeof t;\n    }(t) && U.call(t) == N;\n  }(t)) return L;\n\n  if (W(t)) {\n    var e = \"function\" == typeof t.valueOf ? t.valueOf() : t;\n    t = W(e) ? e + \"\" : e;\n  }\n\n  if (\"string\" != typeof t) return 0 === t ? t : +t;\n  t = t.replace(q, \"\");\n  var n = z.test(t);\n  return n || B.test(t) ? V(t.slice(2), n ? 2 : 8) : F.test(t) ? L : +t;\n}\n\nvar J = {\n  fr: {\n    name: \"France\",\n    bbox: [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  us: {\n    name: \"United States\",\n    bbox: [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  ru: {\n    name: \"Russia\",\n    bbox: [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  ca: {\n    name: \"Canada\",\n    bbox: [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n},\n    Y = function (t) {\n  return t ? t.split(/,\\s*</).reduce(function (t, e) {\n    var n = function (t) {\n      var e = t.match(/<?([^>]*)>(.*)/);\n      if (!e) return null;\n      var n = e[1],\n          r = e[2].split(\";\"),\n          i = null,\n          o = r.reduce(function (t, e) {\n        var n = function (t) {\n          var e = t.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n          return e ? {\n            key: e[1],\n            value: e[2]\n          } : null;\n        }(e);\n\n        return n ? \"rel\" === n.key ? (i || (i = n.value), t) : (t[n.key] = n.value, t) : t;\n      }, {});\n      return i ? {\n        url: n,\n        rel: i,\n        params: o\n      } : null;\n    }(e);\n\n    return n ? (n.rel.split(/\\s+/).forEach(function (e) {\n      t[e] || (t[e] = {\n        url: n.url,\n        params: n.params\n      });\n    }), t) : t;\n  }, {}) : {};\n};\n\nfunction X(t, e) {\n  this.request = t, this.headers = e.headers, this.rawBody = e.body, this.statusCode = e.statusCode;\n\n  try {\n    this.body = JSON.parse(e.body || \"{}\");\n  } catch (t) {\n    this.body = e.body;\n  }\n\n  this.links = Y(this.headers.link);\n}\n\nX.prototype.hasNextPage = function () {\n  return !!this.links.next;\n}, X.prototype.nextPage = function () {\n  return this.hasNextPage() ? this.request._extend({\n    path: this.links.next.url\n  }) : null;\n};\n\nvar tt = X,\n    et = {\n  API_ORIGIN: \"https://api.mapbox.com\",\n  EVENT_PROGRESS_DOWNLOAD: \"downloadProgress\",\n  EVENT_PROGRESS_UPLOAD: \"uploadProgress\",\n  EVENT_ERROR: \"error\",\n  EVENT_RESPONSE: \"response\",\n  ERROR_HTTP: \"HttpError\",\n  ERROR_REQUEST_ABORTED: \"RequestAbortedError\"\n},\n    nt = function (t) {\n  var e,\n      n = t.type || et.ERROR_HTTP;\n  if (t.body) try {\n    e = JSON.parse(t.body);\n  } catch (n) {\n    e = t.body;\n  } else e = null;\n  var r = t.message || null;\n  r || (\"string\" == typeof e ? r = e : e && \"string\" == typeof e.message ? r = e.message : n === et.ERROR_REQUEST_ABORTED && (r = \"Request aborted\")), this.message = r, this.type = n, this.statusCode = t.statusCode || null, this.request = t.request, this.body = e;\n},\n    rt = {};\n\nfunction it(t) {\n  var e = t.total,\n      n = t.loaded;\n  return {\n    total: e,\n    transferred: n,\n    percent: 100 * n / e\n  };\n}\n\nvar ot = o(function (t, e) {\n  !function (n) {\n    var i = e,\n        o = t && t.exports == i && t,\n        a = \"object\" == typeof r && r;\n    a.global !== a && a.window !== a || (n = a);\n\n    var s = function (t) {\n      this.message = t;\n    };\n\n    (s.prototype = new Error()).name = \"InvalidCharacterError\";\n\n    var u = function (t) {\n      throw new s(t);\n    },\n        c = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n        l = /[\\t\\n\\f\\r ]/g,\n        h = {\n      encode: function (t) {\n        t = String(t), /[^\\0-\\xFF]/.test(t) && u(\"The string to be encoded contains characters outside of the Latin1 range.\");\n\n        for (var e, n, r, i, o = t.length % 3, a = \"\", s = -1, l = t.length - o; ++s < l;) e = t.charCodeAt(s) << 16, n = t.charCodeAt(++s) << 8, r = t.charCodeAt(++s), a += c.charAt((i = e + n + r) >> 18 & 63) + c.charAt(i >> 12 & 63) + c.charAt(i >> 6 & 63) + c.charAt(63 & i);\n\n        return 2 == o ? (e = t.charCodeAt(s) << 8, n = t.charCodeAt(++s), a += c.charAt((i = e + n) >> 10) + c.charAt(i >> 4 & 63) + c.charAt(i << 2 & 63) + \"=\") : 1 == o && (i = t.charCodeAt(s), a += c.charAt(i >> 2) + c.charAt(i << 4 & 63) + \"==\"), a;\n      },\n      decode: function (t) {\n        var e = (t = String(t).replace(l, \"\")).length;\n        e % 4 == 0 && (e = (t = t.replace(/==?$/, \"\")).length), (e % 4 == 1 || /[^+a-zA-Z0-9\\/]/.test(t)) && u(\"Invalid character: the string to be decoded is not correctly encoded.\");\n\n        for (var n, r, i = 0, o = \"\", a = -1; ++a < e;) r = c.indexOf(t.charAt(a)), n = i % 4 ? 64 * n + r : r, i++ % 4 && (o += String.fromCharCode(255 & n >> (-2 * i & 6)));\n\n        return o;\n      },\n      version: \"0.1.0\"\n    };\n\n    if (i && !i.nodeType) {\n      if (o) o.exports = h;else for (var p in h) h.hasOwnProperty(p) && (i[p] = h[p]);\n    } else n.base64 = h;\n  }(r);\n}),\n    at = {};\n\nfunction st(t, e) {\n  return Object.prototype.hasOwnProperty.call(t, e);\n}\n\nvar ut = function (t) {\n  if (at[t]) return at[t];\n  var e = t.split(\".\"),\n      n = e[0],\n      r = e[1];\n  if (!r) throw new Error(\"Invalid token\");\n\n  var i = function (t) {\n    try {\n      return JSON.parse(ot.decode(t));\n    } catch (t) {\n      throw new Error(\"Invalid token\");\n    }\n  }(r),\n      o = {\n    usage: n,\n    user: i.u\n  };\n\n  return st(i, \"a\") && (o.authorization = i.a), st(i, \"exp\") && (o.expires = 1e3 * i.exp), st(i, \"iat\") && (o.created = 1e3 * i.iat), st(i, \"scopes\") && (o.scopes = i.scopes), st(i, \"client\") && (o.client = i.client), st(i, \"ll\") && (o.lastLogin = i.ll), st(i, \"iu\") && (o.impersonator = i.iu), at[t] = o, o;\n},\n    ct = o(function (t) {\n  var e = Object.prototype.hasOwnProperty,\n      n = \"~\";\n\n  function r() {}\n\n  function i(t, e, n) {\n    this.fn = t, this.context = e, this.once = n || !1;\n  }\n\n  function o(t, e, r, o, a) {\n    if (\"function\" != typeof r) throw new TypeError(\"The listener must be a function\");\n    var s = new i(r, o || t, a),\n        u = n ? n + e : e;\n    return t._events[u] ? t._events[u].fn ? t._events[u] = [t._events[u], s] : t._events[u].push(s) : (t._events[u] = s, t._eventsCount++), t;\n  }\n\n  function a(t, e) {\n    0 == --t._eventsCount ? t._events = new r() : delete t._events[e];\n  }\n\n  function s() {\n    this._events = new r(), this._eventsCount = 0;\n  }\n\n  Object.create && (r.prototype = Object.create(null), new r().__proto__ || (n = !1)), s.prototype.eventNames = function () {\n    var t,\n        r,\n        i = [];\n    if (0 === this._eventsCount) return i;\n\n    for (r in t = this._events) e.call(t, r) && i.push(n ? r.slice(1) : r);\n\n    return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i;\n  }, s.prototype.listeners = function (t) {\n    var e = this._events[n ? n + t : t];\n    if (!e) return [];\n    if (e.fn) return [e.fn];\n\n    for (var r = 0, i = e.length, o = new Array(i); r < i; r++) o[r] = e[r].fn;\n\n    return o;\n  }, s.prototype.listenerCount = function (t) {\n    var e = this._events[n ? n + t : t];\n    return e ? e.fn ? 1 : e.length : 0;\n  }, s.prototype.emit = function (t, e, r, i, o, a) {\n    var s = n ? n + t : t;\n    if (!this._events[s]) return !1;\n    var u,\n        c,\n        l = this._events[s],\n        h = arguments.length;\n\n    if (l.fn) {\n      switch (l.once && this.removeListener(t, l.fn, void 0, !0), h) {\n        case 1:\n          return l.fn.call(l.context), !0;\n\n        case 2:\n          return l.fn.call(l.context, e), !0;\n\n        case 3:\n          return l.fn.call(l.context, e, r), !0;\n\n        case 4:\n          return l.fn.call(l.context, e, r, i), !0;\n\n        case 5:\n          return l.fn.call(l.context, e, r, i, o), !0;\n\n        case 6:\n          return l.fn.call(l.context, e, r, i, o, a), !0;\n      }\n\n      for (c = 1, u = new Array(h - 1); c < h; c++) u[c - 1] = arguments[c];\n\n      l.fn.apply(l.context, u);\n    } else {\n      var p,\n          f = l.length;\n\n      for (c = 0; c < f; c++) switch (l[c].once && this.removeListener(t, l[c].fn, void 0, !0), h) {\n        case 1:\n          l[c].fn.call(l[c].context);\n          break;\n\n        case 2:\n          l[c].fn.call(l[c].context, e);\n          break;\n\n        case 3:\n          l[c].fn.call(l[c].context, e, r);\n          break;\n\n        case 4:\n          l[c].fn.call(l[c].context, e, r, i);\n          break;\n\n        default:\n          if (!u) for (p = 1, u = new Array(h - 1); p < h; p++) u[p - 1] = arguments[p];\n          l[c].fn.apply(l[c].context, u);\n      }\n    }\n\n    return !0;\n  }, s.prototype.on = function (t, e, n) {\n    return o(this, t, e, n, !1);\n  }, s.prototype.once = function (t, e, n) {\n    return o(this, t, e, n, !0);\n  }, s.prototype.removeListener = function (t, e, r, i) {\n    var o = n ? n + t : t;\n    if (!this._events[o]) return this;\n    if (!e) return a(this, o), this;\n    var s = this._events[o];\n    if (s.fn) s.fn !== e || i && !s.once || r && s.context !== r || a(this, o);else {\n      for (var u = 0, c = [], l = s.length; u < l; u++) (s[u].fn !== e || i && !s[u].once || r && s[u].context !== r) && c.push(s[u]);\n\n      c.length ? this._events[o] = 1 === c.length ? c[0] : c : a(this, o);\n    }\n    return this;\n  }, s.prototype.removeAllListeners = function (t) {\n    var e;\n    return t ? this._events[e = n ? n + t : t] && a(this, e) : (this._events = new r(), this._eventsCount = 0), this;\n  }, s.prototype.off = s.prototype.removeListener, s.prototype.addListener = s.prototype.on, s.prefixed = n, s.EventEmitter = s, t.exports = s;\n});\n\nfunction lt(t) {\n  return Array.isArray(t) ? t.map(encodeURIComponent).join(\",\") : encodeURIComponent(String(t));\n}\n\nfunction ht(t, e, n) {\n  if (!1 === n || null === n) return t;\n  var r = /\\?/.test(t) ? \"&\" : \"?\",\n      i = encodeURIComponent(e);\n  return void 0 !== n && \"\" !== n && !0 !== n && (i += \"=\" + lt(n)), \"\" + t + r + i;\n}\n\nvar pt = {\n  appendQueryObject: function (t, e) {\n    if (!e) return t;\n    var n = t;\n    return Object.keys(e).forEach(function (t) {\n      var r = e[t];\n      void 0 !== r && (Array.isArray(r) && (r = r.filter(function (t) {\n        return !!t;\n      }).join(\",\")), n = ht(n, t, r));\n    }), n;\n  },\n  appendQueryParam: ht,\n  prependOrigin: function (t, e) {\n    if (!e) return t;\n    if (\"http\" === t.slice(0, 4)) return t;\n    var n = \"/\" === t[0] ? \"\" : \"/\";\n    return \"\" + e.replace(/\\/$/, \"\") + n + t;\n  },\n  interpolateRouteParams: function (t, e) {\n    return e ? t.replace(/\\/:([a-zA-Z0-9]+)/g, function (t, n) {\n      var r = e[n];\n      if (void 0 === r) throw new Error(\"Unspecified route parameter \" + n);\n      return \"/\" + lt(r);\n    }) : t;\n  }\n},\n    ft = 1;\n\nfunction dt(t, e) {\n  if (!t) throw new Error(\"MapiRequest requires a client\");\n  if (!e || !e.path || !e.method) throw new Error(\"MapiRequest requires an options object with path and method properties\");\n  var n = {};\n  e.body && (n[\"content-type\"] = \"application/json\");\n  var r = P(n, e.headers),\n      i = Object.keys(r).reduce(function (t, e) {\n    return t[e.toLowerCase()] = r[e], t;\n  }, {});\n  this.id = ft++, this._options = e, this.emitter = new ct(), this.client = t, this.response = null, this.error = null, this.sent = !1, this.aborted = !1, this.path = e.path, this.method = e.method, this.origin = e.origin || t.origin, this.query = e.query || {}, this.params = e.params || {}, this.body = e.body || null, this.file = e.file || null, this.headers = i;\n}\n\ndt.prototype.url = function (t) {\n  var e = pt.prependOrigin(this.path, this.origin);\n  e = pt.appendQueryObject(e, this.query);\n  var n = this.params;\n\n  if (t) {\n    e = pt.appendQueryParam(e, \"access_token\", t);\n    var r = ut(t).user;\n    n = P({\n      ownerId: r\n    }, n);\n  }\n\n  return pt.interpolateRouteParams(e, n);\n}, dt.prototype.send = function () {\n  var t = this;\n  if (t.sent) throw new Error(\"This request has already been sent. Check the response and error properties. Create a new request with clone().\");\n  return t.sent = !0, t.client.sendRequest(t).then(function (e) {\n    return t.response = e, t.emitter.emit(et.EVENT_RESPONSE, e), e;\n  }, function (e) {\n    throw t.error = e, t.emitter.emit(et.EVENT_ERROR, e), e;\n  });\n}, dt.prototype.abort = function () {\n  this._nextPageRequest && (this._nextPageRequest.abort(), delete this._nextPageRequest), this.response || this.error || this.aborted || (this.aborted = !0, this.client.abortRequest(this));\n}, dt.prototype.eachPage = function (t) {\n  var e = this;\n\n  function n(n) {\n    t(null, n, function () {\n      delete e._nextPageRequest;\n      var t = n.nextPage();\n      t && (e._nextPageRequest = t, i(t));\n    });\n  }\n\n  function r(e) {\n    t(e, null, function () {});\n  }\n\n  function i(t) {\n    t.send().then(n, r);\n  }\n\n  i(this);\n}, dt.prototype.clone = function () {\n  return this._extend();\n}, dt.prototype._extend = function (t) {\n  var e = P(this._options, t);\n  return new dt(this.client, e);\n};\nvar yt = dt;\n\nfunction gt(t) {\n  if (!t || !t.accessToken) throw new Error(\"Cannot create a client without an access token\");\n  ut(t.accessToken), this.accessToken = t.accessToken, this.origin = t.origin || et.API_ORIGIN;\n}\n\ngt.prototype.createRequest = function (t) {\n  return new yt(this, t);\n};\n\nvar mt = gt;\n\nfunction vt(t) {\n  mt.call(this, t);\n}\n\n(vt.prototype = Object.create(mt.prototype)).constructor = vt, vt.prototype.sendRequest = function (t) {\n  return Promise.resolve().then(function () {\n    var e = function (t, e) {\n      var n = t.url(e),\n          r = new window.XMLHttpRequest();\n      return r.open(t.method, n), Object.keys(t.headers).forEach(function (e) {\n        r.setRequestHeader(e, t.headers[e]);\n      }), r;\n    }(t, t.client.accessToken);\n\n    return function (t, e) {\n      return new Promise(function (n, r) {\n        e.onprogress = function (e) {\n          t.emitter.emit(et.EVENT_PROGRESS_DOWNLOAD, it(e));\n        };\n\n        var i = t.file;\n        i && (e.upload.onprogress = function (e) {\n          t.emitter.emit(et.EVENT_PROGRESS_UPLOAD, it(e));\n        }), e.onerror = function (t) {\n          r(t);\n        }, e.onabort = function () {\n          var e = new nt({\n            request: t,\n            type: et.ERROR_REQUEST_ABORTED\n          });\n          r(e);\n        }, e.onload = function () {\n          if (delete rt[t.id], e.status < 200 || e.status >= 400) {\n            var i = new nt({\n              request: t,\n              body: e.response,\n              statusCode: e.status\n            });\n            r(i);\n          } else n(e);\n        };\n        var o = t.body;\n        \"string\" == typeof o ? e.send(o) : o ? e.send(JSON.stringify(o)) : i ? e.send(i) : e.send(), rt[t.id] = e;\n      }).then(function (e) {\n        return function (t, e) {\n          return new tt(t, {\n            body: e.response,\n            headers: (n = e.getAllResponseHeaders(), r = {}, n ? (n.trim().split(/[\\r|\\n]+/).forEach(function (t) {\n              var e = function (t) {\n                var e = t.indexOf(\":\");\n                return {\n                  name: t.substring(0, e).trim().toLowerCase(),\n                  value: t.substring(e + 1).trim()\n                };\n              }(t);\n\n              r[e.name] = e.value;\n            }), r) : r),\n            statusCode: e.status\n          });\n          var n, r;\n        }(t, e);\n      });\n    }(t, e);\n  });\n}, vt.prototype.abortRequest = function (t) {\n  var e = rt[t.id];\n  e && (e.abort(), delete rt[t.id]);\n};\n\nvar bt = function (t) {\n  return new vt(t);\n},\n    _t = bt,\n    xt = Object.prototype.toString,\n    wt = \"value\",\n    Et = {};\n\nfunction Mt(t) {\n  var e = Array.isArray(t);\n  return function (n) {\n    var r = Ot(Et.plainArray, n);\n    if (r) return r;\n    if (e && n.length !== t.length) return \"an array with \" + t.length + \" items\";\n\n    for (var i = 0; i < n.length; i++) if (r = Ot(e ? t[i] : t, n[i])) return [i].concat(r);\n  };\n}\n\nfunction Ot(t, e) {\n  if (null != e || t.hasOwnProperty(\"__required\")) {\n    var n = t(e);\n    return n ? Array.isArray(n) ? n : [n] : void 0;\n  }\n}\n\nfunction jt(t, e) {\n  var n = t.length,\n      r = t[n - 1],\n      i = t.slice(0, n - 1);\n  return 0 === i.length && (i = [wt]), e = P(e, {\n    path: i\n  }), \"function\" == typeof r ? r(e) : St(e, function (t) {\n    return \"must be \" + (/^an? /.test(e = t) ? e : /^[aeiou]/i.test(e) ? \"an \" + e : /^[a-z]/i.test(e) ? \"a \" + e : e) + \".\";\n    var e;\n  }(r));\n}\n\nfunction Pt(t) {\n  return t.length < 2 ? t[0] : 2 === t.length ? t.join(\" or \") : t.slice(0, -1).join(\", \") + \", or \" + t.slice(-1);\n}\n\nfunction St(t, e) {\n  return (kt(t.path) ? \"Item at position \" : \"\") + t.path.join(\".\") + \" \" + e;\n}\n\nfunction kt(t) {\n  return \"number\" == typeof t[t.length - 1] || \"number\" == typeof t[0];\n}\n\nEt.assert = function (t, e) {\n  return e = e || {}, function (n) {\n    var r = Ot(t, n);\n\n    if (r) {\n      var i = jt(r, e);\n      throw e.apiName && (i = e.apiName + \": \" + i), new Error(i);\n    }\n  };\n}, Et.shape = function (t) {\n  var e,\n      n = (e = t, Object.keys(e || {}).map(function (t) {\n    return {\n      key: t,\n      value: e[t]\n    };\n  }));\n  return function (t) {\n    var e,\n        r = Ot(Et.plainObject, t);\n    if (r) return r;\n\n    for (var i = [], o = 0; o < n.length; o++) (r = Ot(n[o].value, t[e = n[o].key])) && i.push([e].concat(r));\n\n    return i.length < 2 ? i[0] : function (t) {\n      i = i.map(function (e) {\n        return \"- \" + e[0] + \": \" + jt(e, t).split(\"\\n\").join(\"\\n  \");\n      });\n      var e = t.path.join(\".\");\n      return \"The following properties\" + (e === wt ? \"\" : \" of \" + e) + \" have invalid values:\\n  \" + i.join(\"\\n  \");\n    };\n  };\n}, Et.strictShape = function (t) {\n  var e = Et.shape(t);\n  return function (n) {\n    var r = e(n);\n    if (r) return r;\n    var i = Object.keys(n).reduce(function (e, n) {\n      return void 0 === t[n] && e.push(n), e;\n    }, []);\n    return 0 !== i.length ? function () {\n      return \"The following keys are invalid: \" + i.join(\", \");\n    } : void 0;\n  };\n}, Et.arrayOf = function (t) {\n  return Mt(t);\n}, Et.tuple = function () {\n  var t = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);\n  return Mt(t);\n}, Et.required = function (t) {\n  function e(e) {\n    return null == e ? function (t) {\n      return St(t, kt(t.path) ? \"cannot be undefined/null.\" : \"is required.\");\n    } : t.apply(this, arguments);\n  }\n\n  return e.__required = !0, e;\n}, Et.oneOfType = function () {\n  var t = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);\n  return function (e) {\n    var n = t.map(function (t) {\n      return Ot(t, e);\n    }).filter(Boolean);\n    if (n.length === t.length) return n.every(function (t) {\n      return 1 === t.length && \"string\" == typeof t[0];\n    }) ? Pt(n.map(function (t) {\n      return t[0];\n    })) : n.reduce(function (t, e) {\n      return e.length > t.length ? e : t;\n    });\n  };\n}, Et.equal = function (t) {\n  return function (e) {\n    if (e !== t) return JSON.stringify(t);\n  };\n}, Et.oneOf = function () {\n  var t = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments),\n      e = t.map(function (t) {\n    return Et.equal(t);\n  });\n  return Et.oneOfType.apply(this, e);\n}, Et.range = function (t) {\n  var e = t[0],\n      n = t[1];\n  return function (t) {\n    if (Ot(Et.number, t) || t < e || t > n) return \"number between \" + e + \" & \" + n + \" (inclusive)\";\n  };\n}, Et.any = function () {}, Et.boolean = function (t) {\n  if (\"boolean\" != typeof t) return \"boolean\";\n}, Et.number = function (t) {\n  if (\"number\" != typeof t) return \"number\";\n}, Et.plainArray = function (t) {\n  if (!Array.isArray(t)) return \"array\";\n}, Et.plainObject = function (t) {\n  if (\"[object Object]\" !== xt.call(e = t) || null !== (n = Object.getPrototypeOf(e)) && n !== Object.getPrototypeOf({})) return \"object\";\n  var e, n;\n}, Et.string = function (t) {\n  if (\"string\" != typeof t) return \"string\";\n}, Et.func = function (t) {\n  if (\"function\" != typeof t) return \"function\";\n}, Et.validate = Ot, Et.processMessage = jt;\n\nvar Rt = Et,\n    Ct = P(Rt, {\n  file: function (t) {\n    if (\"undefined\" != typeof window) {\n      if (t instanceof r.Blob || t instanceof r.ArrayBuffer) return;\n      return \"Blob or ArrayBuffer\";\n    }\n\n    if (\"string\" != typeof t && void 0 === t.pipe) return \"Filename or Readable stream\";\n  },\n  date: function (t) {\n    if (\"boolean\" == typeof t) return \"date\";\n\n    try {\n      var e = new Date(t);\n      if (e.getTime && isNaN(e.getTime())) return \"date\";\n    } catch (t) {\n      return \"date\";\n    }\n  },\n  coordinates: function (t) {\n    return Rt.tuple(Rt.number, Rt.number)(t);\n  },\n  assertShape: function (t, e) {\n    return Rt.assert(Rt.strictShape(t), e);\n  }\n}),\n    At = function (t, e) {\n  var n = function (t, n) {\n    return -1 !== e.indexOf(t) && void 0 !== n;\n  };\n\n  return \"function\" == typeof e && (n = e), Object.keys(t).filter(function (e) {\n    return n(e, t[e]);\n  }).reduce(function (e, n) {\n    return e[n] = t[n], e;\n  }, {});\n},\n    Tt = function (t) {\n  return function (t, e) {\n    return Object.keys(t).reduce(function (e, n) {\n      return e[n] = \"boolean\" == typeof (r = t[n]) ? JSON.stringify(r) : r, e;\n      var r;\n    }, {});\n  }(t);\n},\n    It = {},\n    Lt = [\"country\", \"region\", \"postcode\", \"district\", \"place\", \"locality\", \"neighborhood\", \"address\", \"poi\", \"poi.landmark\"];\n\nIt.forwardGeocode = function (t) {\n  Ct.assertShape({\n    query: Ct.required(Ct.string),\n    mode: Ct.oneOf(\"mapbox.places\", \"mapbox.places-permanent\"),\n    countries: Ct.arrayOf(Ct.string),\n    proximity: Ct.coordinates,\n    types: Ct.arrayOf(Ct.oneOf(Lt)),\n    autocomplete: Ct.boolean,\n    bbox: Ct.arrayOf(Ct.number),\n    limit: Ct.number,\n    language: Ct.arrayOf(Ct.string)\n  })(t), t.mode = t.mode || \"mapbox.places\";\n  var e = Tt(P({\n    country: t.countries\n  }, At(t, [\"proximity\", \"types\", \"autocomplete\", \"bbox\", \"limit\", \"language\"])));\n  return this.client.createRequest({\n    method: \"GET\",\n    path: \"/geocoding/v5/:mode/:query.json\",\n    params: At(t, [\"mode\", \"query\"]),\n    query: e\n  });\n}, It.reverseGeocode = function (t) {\n  Ct.assertShape({\n    query: Ct.required(Ct.coordinates),\n    mode: Ct.oneOf(\"mapbox.places\", \"mapbox.places-permanent\"),\n    countries: Ct.arrayOf(Ct.string),\n    types: Ct.arrayOf(Ct.oneOf(Lt)),\n    bbox: Ct.arrayOf(Ct.number),\n    limit: Ct.number,\n    language: Ct.arrayOf(Ct.string),\n    reverseMode: Ct.oneOf(\"distance\", \"score\")\n  })(t), t.mode = t.mode || \"mapbox.places\";\n  var e = Tt(P({\n    country: t.countries\n  }, At(t, [\"country\", \"types\", \"bbox\", \"limit\", \"language\", \"reverseMode\"])));\n  return this.client.createRequest({\n    method: \"GET\",\n    path: \"/geocoding/v5/:mode/:query.json\",\n    params: At(t, [\"mode\", \"query\"]),\n    query: e\n  });\n};\nvar Nt,\n    qt = (Nt = It, function (t) {\n  var e;\n  e = mt.prototype.isPrototypeOf(t) ? t : bt(t);\n  var n = Object.create(Nt);\n  return n.client = e, n;\n});\nif (\"production\" !== process.env.NODE_ENV && (\"undefined\" == typeof self || !self.crypto && !self.msCrypto)) throw new Error(\"Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.\");\nvar Ft = self.crypto || self.msCrypto;\n\nfunction zt(t) {\n  this.origin = t.origin || \"https://api.mapbox.com\", this.endpoint = \"events/v2\", this.access_token = t.accessToken, this.version = \"0.2.0\", this.sessionID = this.generateSessionID(), this.userAgent = this.getUserAgent(), this.options = t, this.send = this.send.bind(this), this.countries = t.countries ? t.countries.split(\",\") : null, this.types = t.types ? t.types.split(\",\") : null, this.bbox = t.bbox ? t.bbox : null, this.language = t.language ? t.language.split(\",\") : null, this.limit = t.limit ? +t.limit : null, this.locale = navigator.language || null, this.enableEventLogging = this.shouldEnableLogging(t), this.eventQueue = new Array(), this.flushInterval = t.flushInterval || 1e3, this.maxQueueSize = t.maxQueueSize || 100, this.timer = this.flushInterval ? setTimeout(this.flush.bind(this), this.flushInterval) : null, this.lastSentInput = \"\", this.lastSentIndex = 0;\n}\n\nzt.prototype = {\n  select: function (t, e) {\n    var n = this.getSelectedIndex(t, e),\n        r = this.getEventPayload(\"search.select\", e);\n    if (r.resultIndex = n, r.resultPlaceName = t.place_name, r.resultId = t.id, (n !== this.lastSentIndex || r.queryString !== this.lastSentInput) && -1 != n && (this.lastSentIndex = n, this.lastSentInput = r.queryString, r.queryString)) return this.push(r);\n  },\n  start: function (t) {\n    var e = this.getEventPayload(\"search.start\", t);\n    if (e.queryString) return this.push(e);\n  },\n  keyevent: function (t, e) {\n    if (t.key && !t.metaKey && -1 === [9, 27, 37, 39, 13, 38, 40].indexOf(t.keyCode)) {\n      var n = this.getEventPayload(\"search.keystroke\", e);\n      if (n.lastAction = t.key, n.queryString) return this.push(n);\n    }\n  },\n  send: function (t, e) {\n    if (!this.enableEventLogging) return e ? e() : void 0;\n    var n = this.getRequestOptions(t);\n    this.request(n, function (t) {\n      return t ? this.handleError(t, e) : e ? e() : void 0;\n    }.bind(this));\n  },\n  getRequestOptions: function (t) {\n    return Array.isArray(t) || (t = [t]), {\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint + \"?access_token=\" + this.access_token,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    };\n  },\n  getEventPayload: function (t, e) {\n    var n;\n    n = e.options.proximity ? [e.options.proximity.longitude, e.options.proximity.latitude] : null;\n    var r = e._map ? e._map.getZoom() : null,\n        i = {\n      event: t,\n      created: +new Date(),\n      sessionIdentifier: this.sessionID,\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: \"mapbox.places\",\n      proximity: n,\n      limit: e.options.limit,\n      mapZoom: r,\n      keyboardLocale: this.locale\n    };\n    return i.queryString = \"search.select\" === t ? e.inputString : \"search.select\" != t && e._inputEl ? e._inputEl.value : e.inputString, i;\n  },\n  request: function (t, e) {\n    var n = new XMLHttpRequest();\n\n    for (var r in n.onreadystatechange = function () {\n      if (4 == this.readyState) return e(204 == this.status ? null : this.statusText);\n    }, n.open(t.method, t.host + \"/\" + t.path, !0), t.headers) n.setRequestHeader(r, t.headers[r]);\n\n    n.send(t.body);\n  },\n  handleError: function (t, e) {\n    if (e) return e(t);\n  },\n  generateSessionID: function () {\n    return function (t) {\n      t = t || 21;\n\n      for (var e = \"\", n = Ft.getRandomValues(new Uint8Array(t)); 0 < t--;) e += \"Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-\"[63 & n[t]];\n\n      return e;\n    }();\n  },\n  getUserAgent: function () {\n    return \"mapbox-gl-geocoder.\" + this.version + \".\" + navigator.userAgent;\n  },\n  getSelectedIndex: function (t, e) {\n    if (e._typeahead) {\n      var n = t.id;\n      return e._typeahead.data.map(function (t) {\n        return t.id;\n      }).indexOf(n);\n    }\n  },\n  shouldEnableLogging: function (t) {\n    return !(!1 === t.enableEventLogging || t.origin && -1 == t.origin.indexOf(\"api.mapbox.com\") || t.localGeocoder || t.filter);\n  },\n  flush: function () {\n    this.eventQueue.length > 0 && (this.send(this.eventQueue), this.eventQueue = new Array()), this.timer && clearTimeout(this.timer), this.flushInterval && (this.timer = setTimeout(this.flush.bind(this), this.flushInterval));\n  },\n  push: function (t, e) {\n    this.eventQueue.push(t), (this.eventQueue.length >= this.maxQueueSize || e) && this.flush();\n  },\n  remove: function () {\n    this.flush();\n  }\n};\nvar Bt = zt,\n    Vt = {\n  placeholder: {\n    de: \"Suche\",\n    it: \"Ricerca\",\n    en: \"Search\",\n    nl: \"Zoeken\",\n    fr: \"Chercher\",\n    ca: \"Cerca\",\n    he: \"לחפש\",\n    ja: \"サーチ\",\n    lv: \"Meklēt\",\n    pt: \"Procurar\",\n    sr: \"Претрага\",\n    zh: \"搜索\",\n    cs: \"Vyhledávání\",\n    hu: \"Keresés\",\n    ka: \"ძიება\",\n    nb: \"Søke\",\n    sk: \"Vyhľadávanie\",\n    th: \"ค้นหา\",\n    fi: \"Hae\",\n    is: \"Leita\",\n    ko: \"수색\",\n    pl: \"Szukaj\",\n    sl: \"Iskanje\"\n  }\n},\n    Dt = o(function (t) {\n  !function (e, n, r) {\n    t.exports ? t.exports = r() : e.subtag = r();\n  }(r, 0, function () {\n    var t = \"\",\n        e = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;\n\n    function n(t) {\n      return t.match(e) || [];\n    }\n\n    function r(e) {\n      return {\n        language: (e = n(e))[1] || t,\n        extlang: e[2] || t,\n        script: e[3] || t,\n        region: e[4] || t\n      };\n    }\n\n    function i(t, e, n) {\n      Object.defineProperty(t, e, {\n        value: n,\n        enumerable: !0\n      });\n    }\n\n    function o(e, o, a) {\n      function s(r) {\n        return n(r)[e] || t;\n      }\n\n      i(s, \"pattern\", o), i(r, a, s);\n    }\n\n    return o(1, /^[a-zA-Z]{2,3}$/, \"language\"), o(2, /^[a-zA-Z]{3}$/, \"extlang\"), o(3, /^[a-zA-Z]{4}$/, \"script\"), o(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, \"region\"), i(r, \"split\", function (t) {\n      return n(t).filter(function (t, e) {\n        return t && e;\n      });\n    }), r;\n  });\n}),\n    $t = e.EventEmitter;\n\nfunction Gt(t) {\n  this._eventEmitter = new $t(), this.options = P({}, this.options, t), this.inputString = \"\", this.fresh = !0, this.lastSelected = null;\n}\n\nGt.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: !0,\n    trackProximity: !0,\n    minLength: 2,\n    reverseGeocode: !1,\n    limit: 5,\n    origin: \"https://api.mapbox.com\",\n    enableEventLogging: !0,\n    marker: !0,\n    mapboxgl: null,\n    collapsed: !1,\n    clearAndBlurOnEsc: !1,\n    clearOnBlur: !1,\n    getItemValue: function (t) {\n      return t.place_name;\n    },\n    render: function (t) {\n      var e = t.place_name.split(\",\");\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + e[0] + '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + e.splice(1, e.length).join(\",\") + \"</div></div>\";\n    }\n  },\n  onAdd: function (t) {\n    this._map = t, this.setLanguage(), this.geocoderService = qt(_t({\n      accessToken: this.options.accessToken,\n      origin: this.options.origin\n    })), this.eventManager = new Bt(this.options), this._onChange = this._onChange.bind(this), this._onKeyDown = this._onKeyDown.bind(this), this._onBlur = this._onBlur.bind(this), this._showButton = this._showButton.bind(this), this._hideButton = this._hideButton.bind(this), this._onQueryResult = this._onQueryResult.bind(this), this.clear = this.clear.bind(this), this._updateProximity = this._updateProximity.bind(this), this._collapse = this._collapse.bind(this), this._unCollapse = this._unCollapse.bind(this), this._clear = this._clear.bind(this), this._clearOnBlur = this._clearOnBlur.bind(this);\n    var e = this.container = document.createElement(\"div\");\n    e.className = \"mapboxgl-ctrl-geocoder mapboxgl-ctrl\";\n    var n = this.createIcon(\"search\", '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>');\n    this._inputEl = document.createElement(\"input\"), this._inputEl.type = \"text\", this._inputEl.className = \"mapboxgl-ctrl-geocoder--input\", this.setPlaceholder(), this.options.collapsed && (this._collapse(), this.container.addEventListener(\"mouseenter\", this._unCollapse), this.container.addEventListener(\"mouseleave\", this._collapse), this._inputEl.addEventListener(\"focus\", this._unCollapse)), (this.options.collapsed || this.options.clearOnBlur) && this._inputEl.addEventListener(\"blur\", this._onBlur), this._inputEl.addEventListener(\"keydown\", function (t, e, n) {\n      var r,\n          i,\n          o,\n          a,\n          s,\n          u,\n          c = 0,\n          l = !1,\n          h = !1,\n          p = !0;\n      if (\"function\" != typeof t) throw new TypeError(\"Expected a function\");\n\n      function f(e) {\n        var n = r,\n            o = i;\n        return r = i = void 0, c = e, a = t.apply(o, n);\n      }\n\n      function d(t) {\n        var n = t - u;\n        return void 0 === u || n >= e || n < 0 || h && t - c >= o;\n      }\n\n      function y() {\n        var t = H();\n        if (d(t)) return g(t);\n        s = setTimeout(y, function (t) {\n          var n = e - (t - u);\n          return h ? Q(n, o - (t - c)) : n;\n        }(t));\n      }\n\n      function g(t) {\n        return s = void 0, p && r ? f(t) : (r = i = void 0, a);\n      }\n\n      function m() {\n        var t = H(),\n            n = d(t);\n\n        if (r = arguments, i = this, u = t, n) {\n          if (void 0 === s) return function (t) {\n            return c = t, s = setTimeout(y, e), l ? f(t) : a;\n          }(u);\n          if (h) return s = setTimeout(y, e), f(u);\n        }\n\n        return void 0 === s && (s = setTimeout(y, e)), a;\n      }\n\n      return e = K(e) || 0, W(void 0) && (l = !!(void 0).leading, o = (h = \"maxWait\" in void 0) ? Z(K((void 0).maxWait) || 0, e) : o, p = \"trailing\" in void 0 ? !!(void 0).trailing : p), m.cancel = function () {\n        void 0 !== s && clearTimeout(s), c = 0, r = u = i = s = void 0;\n      }, m.flush = function () {\n        return void 0 === s ? a : g(H());\n      }, m;\n    }(this._onKeyDown, 200)), this._inputEl.addEventListener(\"change\", this._onChange), this.container.addEventListener(\"mouseenter\", this._showButton), this.container.addEventListener(\"mouseleave\", this._hideButton), this._inputEl.addEventListener(\"keyup\", function (t) {\n      this.eventManager.keyevent(t, this);\n    }.bind(this));\n    var r = document.createElement(\"div\");\n    r.classList.add(\"mapboxgl-ctrl-geocoder--pin-right\"), this._clearEl = document.createElement(\"button\"), this._clearEl.setAttribute(\"aria-label\", \"Clear\"), this._clearEl.addEventListener(\"click\", this.clear), this._clearEl.className = \"mapboxgl-ctrl-geocoder--button\";\n    var i = this.createIcon(\"close\", '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>');\n    return this._clearEl.appendChild(i), this._loadingEl = this.createIcon(\"loading\", '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>'), r.appendChild(this._clearEl), r.appendChild(this._loadingEl), e.appendChild(n), e.appendChild(this._inputEl), e.appendChild(r), this._typeahead = new I(this._inputEl, [], {\n      filter: !1,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    }), this.setRenderFunction(this.options.render), this._typeahead.getItemValue = this.options.getItemValue, this.options.trackProximity && (this._updateProximity(), this._map.on(\"moveend\", this._updateProximity)), this.mapMarker = null, this._handleMarker = this._handleMarker.bind(this), this._mapboxgl = this.options.mapboxgl, !this._mapboxgl && this.options.marker && (console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\"), this.options.marker = !1), e;\n  },\n  createIcon: function (t, e) {\n    var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    return n.setAttribute(\"class\", \"mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-\" + t), n.setAttribute(\"viewBox\", \"0 0 18 18\"), n.setAttribute(\"xml:space\", \"preserve\"), n.setAttribute(\"width\", 18), n.setAttribute(\"height\", 18), n.innerHTML = e, n;\n  },\n  onRemove: function () {\n    return this.container.parentNode.removeChild(this.container), this.options.trackProximity && this._map.off(\"moveend\", this._updateProximity), this._removeMarker(), this._map = null, this;\n  },\n  _onKeyDown: function (t) {\n    var e = 27,\n        n = 9;\n    if (t.keyCode === e && this.options.clearAndBlurOnEsc) return this._clear(t), this._inputEl.blur();\n    var r = t.target && t.target.shadowRoot ? t.target.shadowRoot.activeElement : t.target;\n    if (!r || !r.value) return this.fresh = !0, t.keyCode !== n && this.clear(t), this._clearEl.style.display = \"none\";\n    t.metaKey || -1 !== [n, e, 37, 39, 13, 38, 40].indexOf(t.keyCode) || r.value.length >= this.options.minLength && this._geocode(r.value);\n  },\n  _showButton: function () {\n    this._typeahead.selected && (this._clearEl.style.display = \"block\");\n  },\n  _hideButton: function () {\n    this._typeahead.selected && (this._clearEl.style.display = \"none\");\n  },\n  _onBlur: function (t) {\n    this.options.clearOnBlur && this._clearOnBlur(t), this.options.collapsed && this._collapse();\n  },\n  _onChange: function () {\n    var t = this._typeahead.selected;\n\n    if (t && t.id !== this.lastSelected) {\n      var e;\n      if (this._clearEl.style.display = \"none\", this.options.flyTo) if (t.properties && !J[t.properties.short_code] && t.bbox) {\n        var n = t.bbox;\n        e = P({}, this.options.flyTo), this._map.fitBounds([[n[0], n[1]], [n[2], n[3]]], e);\n      } else t.properties && J[t.properties.short_code] ? (e = P({}, this.options.flyTo), this._map.fitBounds(J[t.properties.short_code].bbox, e)) : ((e = P({}, {\n        zoom: this.options.zoom\n      }, this.options.flyTo)).center = t.center, this._map.flyTo(e));\n      this.options.marker && this._mapboxgl && this._handleMarker(t), this._inputEl.focus(), this._inputEl.scrollLeft = 0, this._inputEl.setSelectionRange(0, 0), this._eventEmitter.emit(\"result\", {\n        result: t\n      }), this.eventManager.select(t, this), this.lastSelected = t.id;\n    }\n  },\n  _geocode: function (t) {\n    this._loadingEl.style.display = \"block\", this._eventEmitter.emit(\"loading\", {\n      query: t\n    }), this.inputString = t;\n    var e,\n        n = this,\n        r = [\"bbox\", \"limit\", \"proximity\", \"countries\", \"types\", \"language\", \"reverseMode\"].reduce(function (t, e) {\n      return n.options[e] && (t[e] = [\"countries\", \"types\", \"language\"].indexOf(e) > -1 ? n.options[e].split(/[\\s,]+/) : n.options[e], \"proximity\" === e && n.options[e] && n.options[e].longitude && n.options[e].latitude && (t[e] = [n.options[e].longitude, n.options[e].latitude])), t;\n    }, {});\n\n    if (this.options.reverseGeocode && /(-?\\d+\\.?\\d*)[, ]+(-?\\d+\\.?\\d*)[ ]*$/.test(t)) {\n      var i = t.split(/[\\s(,)?]+/).map(function (t) {\n        return parseFloat(t, 10);\n      }).reverse();\n      r = P(r, {\n        query: i,\n        limit: 1\n      }), e = this.geocoderService.reverseGeocode(r).send();\n    } else r = P(r, {\n      query: t\n    }), e = this.geocoderService.forwardGeocode(r).send();\n\n    var o = [];\n    return this.options.localGeocoder && ((o = this.options.localGeocoder(t)) || (o = [])), e.then(function (t) {\n      this._loadingEl.style.display = \"none\";\n      var e = {};\n      \"200\" == t.statusCode && (e = t.body), e.config = r, this.fresh && (this.eventManager.start(this), this.fresh = !1), e.features = e.features ? o.concat(e.features) : o, this.options.filter && e.features.length && (e.features = e.features.filter(this.options.filter)), e.features.length ? (this._clearEl.style.display = \"block\", this._eventEmitter.emit(\"results\", e), this._typeahead.update(e.features)) : (this._clearEl.style.display = \"none\", this._typeahead.selected = null, this._renderNoResults(), this._eventEmitter.emit(\"results\", e));\n    }.bind(this)), e.catch(function (t) {\n      this._loadingEl.style.display = \"none\", o.length && this.options.localGeocoder ? (this._clearEl.style.display = \"block\", this._typeahead.update(o)) : (this._clearEl.style.display = \"none\", this._typeahead.selected = null, this._renderError()), this._eventEmitter.emit(\"results\", {\n        features: o\n      }), this._eventEmitter.emit(\"error\", {\n        error: t\n      });\n    }.bind(this)), e;\n  },\n  _clear: function (t) {\n    t && t.preventDefault(), this._inputEl.value = \"\", this._typeahead.selected = null, this._typeahead.clear(), this._onChange(), this._clearEl.style.display = \"none\", this._removeMarker(), this.lastSelected = null, this._eventEmitter.emit(\"clear\"), this.fresh = !0;\n  },\n  clear: function (t) {\n    this._clear(t), this._inputEl.focus();\n  },\n  _clearOnBlur: function (t) {\n    t.relatedTarget && this._clear(t);\n  },\n  _onQueryResult: function (t) {\n    var e = t.body;\n\n    if (e.features.length) {\n      var n = e.features[0];\n      this._typeahead.selected = n, this._inputEl.value = n.place_name, this._onChange();\n    }\n  },\n  _updateProximity: function () {\n    if (this._map.getZoom() > 9) {\n      var t = this._map.getCenter().wrap();\n\n      this.setProximity({\n        longitude: t.lng,\n        latitude: t.lat\n      });\n    } else this.setProximity(null);\n  },\n  _collapse: function () {\n    this._inputEl.value || this._inputEl === document.activeElement || this.container.classList.add(\"mapboxgl-ctrl-geocoder--collapsed\");\n  },\n  _unCollapse: function () {\n    this.container.classList.remove(\"mapboxgl-ctrl-geocoder--collapsed\");\n  },\n  query: function (t) {\n    return this._geocode(t).then(this._onQueryResult), this;\n  },\n  _renderError: function () {\n    this._renderMessage(\"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\");\n  },\n  _renderNoResults: function () {\n    this._renderMessage(\"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\");\n  },\n  _renderMessage: function (t) {\n    this._typeahead.update([]), this._typeahead.selected = null, this._typeahead.clear(), this._typeahead.renderError(t);\n  },\n  _getPlaceholderText: function () {\n    if (this.options.placeholder) return this.options.placeholder;\n\n    if (this.options.language) {\n      var t = this.options.language.split(\",\")[0],\n          e = Dt.language(t),\n          n = Vt.placeholder[e];\n      if (n) return n;\n    }\n\n    return \"Search\";\n  },\n  setInput: function (t) {\n    return this._inputEl.value = t, this._typeahead.selected = null, this._typeahead.clear(), this._onChange(), this;\n  },\n  setProximity: function (t) {\n    return this.options.proximity = t, this;\n  },\n  getProximity: function () {\n    return this.options.proximity;\n  },\n  setRenderFunction: function (t) {\n    return t && \"function\" == typeof t && (this._typeahead.render = t), this;\n  },\n  getRenderFunction: function () {\n    return this._typeahead.render;\n  },\n  setLanguage: function (t) {\n    var e = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    return this.options.language = t || this.options.language || e, this;\n  },\n  getLanguage: function () {\n    return this.options.language;\n  },\n  getZoom: function () {\n    return this.options.zoom;\n  },\n  setZoom: function (t) {\n    return this.options.zoom = t, this;\n  },\n  getFlyTo: function () {\n    return this.options.flyTo;\n  },\n  setFlyTo: function (t) {\n    return this.options.flyTo = t, this;\n  },\n  getPlaceholder: function () {\n    return this.options.placeholder;\n  },\n  setPlaceholder: function (t) {\n    return this.placeholder = t || this._getPlaceholderText(), this._inputEl.placeholder = this.placeholder, this;\n  },\n  getBbox: function () {\n    return this.options.bbox;\n  },\n  setBbox: function (t) {\n    return this.options.bbox = t, this;\n  },\n  getCountries: function () {\n    return this.options.countries;\n  },\n  setCountries: function (t) {\n    return this.options.countries = t, this;\n  },\n  getTypes: function () {\n    return this.options.types;\n  },\n  setTypes: function (t) {\n    return this.options.types = t, this;\n  },\n  getMinLength: function () {\n    return this.options.minLength;\n  },\n  setMinLength: function (t) {\n    return this.options.minLength = t, this._typeahead && (this._typeahead.minLength = t), this;\n  },\n  getLimit: function () {\n    return this.options.limit;\n  },\n  setLimit: function (t) {\n    return this.options.limit = t, this._typeahead && (this._typeahead.options.limit = t), this;\n  },\n  getFilter: function () {\n    return this.options.filter;\n  },\n  setFilter: function (t) {\n    return this.options.filter = t, this;\n  },\n  _handleMarker: function (t) {\n    this._removeMarker();\n\n    var e = P({}, {\n      color: \"#4668F2\"\n    }, this.options.marker);\n    return this.mapMarker = new this._mapboxgl.Marker(e), this.mapMarker.setLngLat(t.center).addTo(this._map), this;\n  },\n  _removeMarker: function () {\n    this.mapMarker && (this.mapMarker.remove(), this.mapMarker = null);\n  },\n  on: function (t, e) {\n    return this._eventEmitter.on(t, e), this;\n  },\n  off: function (t, e) {\n    return this._eventEmitter.removeListener(t, e), this.eventManager.remove(), this;\n  }\n};\nvar Ut = Gt;\n\nfunction Zt(t, e) {\n  if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction Qt(t, e) {\n  for (var n = 0; n < e.length; n++) {\n    var r = e[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n  }\n}\n\nfunction Ht(t, e, n) {\n  return e && Qt(t.prototype, e), n && Qt(t, n), t;\n}\n\nfunction Wt(t) {\n  return (Wt = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n    return typeof t;\n  } : function (t) {\n    return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n  })(t);\n}\n\nfunction Kt(t) {\n  return (Kt = \"function\" == typeof Symbol && \"symbol\" === Wt(Symbol.iterator) ? function (t) {\n    return Wt(t);\n  } : function (t) {\n    return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : Wt(t);\n  })(t);\n}\n\nfunction Jt(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nfunction Yt(t) {\n  return (Yt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  })(t);\n}\n\nfunction Xt(t, e) {\n  return (Xt = Object.setPrototypeOf || function (t, e) {\n    return t.__proto__ = e, t;\n  })(t, e);\n}\n\nfunction te(t, e) {\n  return function (t) {\n    if (Array.isArray(t)) return t;\n  }(t) || function (t, e) {\n    var n = [],\n        r = !0,\n        i = !1,\n        o = void 0;\n\n    try {\n      for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); r = !0);\n    } catch (t) {\n      i = !0, o = t;\n    } finally {\n      try {\n        r || null == s.return || s.return();\n      } finally {\n        if (i) throw o;\n      }\n    }\n\n    return n;\n  }(t, e) || function () {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }();\n}\n\nvar ee,\n    ne = 1e-6,\n    re = \"undefined\" != typeof Float32Array ? Float32Array : Array;\n\nfunction ie(t, e) {\n  var n = function (t, n, r) {\n    var i = e[0],\n        o = e[1],\n        a = e[2],\n        s = e[3];\n    return t[0] = r[0] * i + r[4] * o + r[8] * a + r[12] * s, t[1] = r[1] * i + r[5] * o + r[9] * a + r[13] * s, t[2] = r[2] * i + r[6] * o + r[10] * a + r[14] * s, t[3] = r[3] * i + r[7] * o + r[11] * a + r[15] * s, t;\n  }([], 0, t);\n\n  return function (t, e, n) {\n    t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t[3] = e[3] * n;\n  }(n, n, 1 / n[3]), n;\n}\n\nfunction oe(t, e, n) {\n  var r = e[0],\n      i = e[1],\n      o = e[2],\n      a = e[3],\n      s = e[4],\n      u = e[5],\n      c = e[6],\n      l = e[7],\n      h = e[8],\n      p = e[9],\n      f = e[10],\n      d = e[11],\n      y = e[12],\n      g = e[13],\n      m = e[14],\n      v = e[15],\n      b = n[0],\n      _ = n[1],\n      x = n[2],\n      w = n[3];\n  return t[0] = b * r + _ * s + x * h + w * y, t[1] = b * i + _ * u + x * p + w * g, t[2] = b * o + _ * c + x * f + w * m, t[3] = b * a + _ * l + x * d + w * v, t[4] = (b = n[4]) * r + (_ = n[5]) * s + (x = n[6]) * h + (w = n[7]) * y, t[5] = b * i + _ * u + x * p + w * g, t[6] = b * o + _ * c + x * f + w * m, t[7] = b * a + _ * l + x * d + w * v, t[8] = (b = n[8]) * r + (_ = n[9]) * s + (x = n[10]) * h + (w = n[11]) * y, t[9] = b * i + _ * u + x * p + w * g, t[10] = b * o + _ * c + x * f + w * m, t[11] = b * a + _ * l + x * d + w * v, t[12] = (b = n[12]) * r + (_ = n[13]) * s + (x = n[14]) * h + (w = n[15]) * y, t[13] = b * i + _ * u + x * p + w * g, t[14] = b * o + _ * c + x * f + w * m, t[15] = b * a + _ * l + x * d + w * v, t;\n}\n\nfunction ae(t, e, n) {\n  var r,\n      i,\n      o,\n      a,\n      s,\n      u,\n      c,\n      l,\n      h,\n      p,\n      f,\n      d,\n      y = n[0],\n      g = n[1],\n      m = n[2];\n  return e === t ? (t[12] = e[0] * y + e[4] * g + e[8] * m + e[12], t[13] = e[1] * y + e[5] * g + e[9] * m + e[13], t[14] = e[2] * y + e[6] * g + e[10] * m + e[14], t[15] = e[3] * y + e[7] * g + e[11] * m + e[15]) : (i = e[1], o = e[2], a = e[3], s = e[4], u = e[5], c = e[6], l = e[7], h = e[8], p = e[9], f = e[10], d = e[11], t[0] = r = e[0], t[1] = i, t[2] = o, t[3] = a, t[4] = s, t[5] = u, t[6] = c, t[7] = l, t[8] = h, t[9] = p, t[10] = f, t[11] = d, t[12] = r * y + s * g + h * m + e[12], t[13] = i * y + u * g + p * m + e[13], t[14] = o * y + c * g + f * m + e[14], t[15] = a * y + l * g + d * m + e[15]), t;\n}\n\nfunction se(t, e, n) {\n  var r = n[0],\n      i = n[1],\n      o = n[2];\n  return t[0] = e[0] * r, t[1] = e[1] * r, t[2] = e[2] * r, t[3] = e[3] * r, t[4] = e[4] * i, t[5] = e[5] * i, t[6] = e[6] * i, t[7] = e[7] * i, t[8] = e[8] * o, t[9] = e[9] * o, t[10] = e[10] * o, t[11] = e[11] * o, t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15], t;\n}\n\nfunction ue(t, e) {\n  var n = t[0],\n      r = t[1],\n      i = t[2],\n      o = t[3],\n      a = t[4],\n      s = t[5],\n      u = t[6],\n      c = t[7],\n      l = t[8],\n      h = t[9],\n      p = t[10],\n      f = t[11],\n      d = t[12],\n      y = t[13],\n      g = t[14],\n      m = t[15],\n      v = e[0],\n      b = e[1],\n      _ = e[2],\n      x = e[3],\n      w = e[4],\n      E = e[5],\n      M = e[6],\n      O = e[7],\n      j = e[8],\n      P = e[9],\n      S = e[10],\n      k = e[11],\n      R = e[12],\n      C = e[13],\n      A = e[14],\n      T = e[15];\n  return Math.abs(n - v) <= ne * Math.max(1, Math.abs(n), Math.abs(v)) && Math.abs(r - b) <= ne * Math.max(1, Math.abs(r), Math.abs(b)) && Math.abs(i - _) <= ne * Math.max(1, Math.abs(i), Math.abs(_)) && Math.abs(o - x) <= ne * Math.max(1, Math.abs(o), Math.abs(x)) && Math.abs(a - w) <= ne * Math.max(1, Math.abs(a), Math.abs(w)) && Math.abs(s - E) <= ne * Math.max(1, Math.abs(s), Math.abs(E)) && Math.abs(u - M) <= ne * Math.max(1, Math.abs(u), Math.abs(M)) && Math.abs(c - O) <= ne * Math.max(1, Math.abs(c), Math.abs(O)) && Math.abs(l - j) <= ne * Math.max(1, Math.abs(l), Math.abs(j)) && Math.abs(h - P) <= ne * Math.max(1, Math.abs(h), Math.abs(P)) && Math.abs(p - S) <= ne * Math.max(1, Math.abs(p), Math.abs(S)) && Math.abs(f - k) <= ne * Math.max(1, Math.abs(f), Math.abs(k)) && Math.abs(d - R) <= ne * Math.max(1, Math.abs(d), Math.abs(R)) && Math.abs(y - C) <= ne * Math.max(1, Math.abs(y), Math.abs(C)) && Math.abs(g - A) <= ne * Math.max(1, Math.abs(g), Math.abs(A)) && Math.abs(m - T) <= ne * Math.max(1, Math.abs(m), Math.abs(T));\n}\n\nfunction ce(t, e, n) {\n  return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t;\n}\n\nfunction le(t, e) {\n  if (!t) throw new Error(e || \"viewport-mercator-project: assertion failed.\");\n}\n\nee = new re(4), re != Float32Array && (ee[0] = 0, ee[1] = 0, ee[2] = 0, ee[3] = 0), function () {\n  var t = new re(2);\n  re != Float32Array && (t[0] = 0, t[1] = 0);\n}(), function () {\n  var t = new re(3);\n  re != Float32Array && (t[0] = 0, t[1] = 0, t[2] = 0);\n}();\nvar he = Math.PI,\n    pe = he / 4,\n    fe = he / 180,\n    de = 180 / he,\n    ye = 512,\n    ge = 4003e4,\n    me = 1.5;\n\nfunction ve(t) {\n  return Math.pow(2, t);\n}\n\nfunction be(t, e) {\n  var n = te(t, 2),\n      r = n[0],\n      i = n[1];\n  return le(Number.isFinite(r) && Number.isFinite(e)), le(Number.isFinite(i) && i >= -90 && i <= 90, \"invalid latitude\"), [(e *= ye) * (r * fe + he) / (2 * he), e * (he - Math.log(Math.tan(pe + i * fe * .5))) / (2 * he)];\n}\n\nfunction _e(t, e) {\n  var n = te(t, 2),\n      r = n[0] / (e *= ye) * (2 * he) - he,\n      i = 2 * (Math.atan(Math.exp(he - n[1] / e * (2 * he))) - pe);\n  return [r * de, i * de];\n}\n\nfunction xe(t, e) {\n  var n = te(t, 3),\n      r = n[0],\n      i = n[1],\n      o = n[2],\n      a = void 0 === o ? 0 : o;\n  return le(Number.isFinite(r) && Number.isFinite(i) && Number.isFinite(a)), ie(e, [r, i, a, 1]);\n}\n\nfunction we(t, e) {\n  var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,\n      r = te(t, 3),\n      i = r[0],\n      o = r[1],\n      a = r[2];\n  if (le(Number.isFinite(i) && Number.isFinite(o), \"invalid pixel coordinate\"), Number.isFinite(a)) return ie(e, [i, o, a, 1]);\n  var s = ie(e, [i, o, 0, 1]),\n      u = ie(e, [i, o, 1, 1]),\n      c = s[2],\n      l = u[2];\n  return function (t, e, n, r) {\n    var i = s[0],\n        o = s[1];\n    return t[0] = i + r * (n[0] - i), t[1] = o + r * (n[1] - o), t;\n  }([], 0, u, c === l ? 0 : ((n || 0) - c) / (l - c));\n}\n\nvar Ee = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n    Me = function () {\n  function t() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n        n = e.width,\n        r = e.height,\n        i = e.viewMatrix,\n        o = void 0 === i ? Ee : i,\n        a = e.projectionMatrix,\n        s = void 0 === a ? Ee : a;\n    Zt(this, t), this.width = n || 1, this.height = r || 1, this.scale = 1, this.pixelsPerMeter = 1, this.viewMatrix = o, this.projectionMatrix = s;\n    var u = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    oe(u, u, this.projectionMatrix), oe(u, u, this.viewMatrix), this.viewProjectionMatrix = u;\n    var c = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    se(c, c, [this.width / 2, -this.height / 2, 1]), ae(c, c, [1, -1, 0]), oe(c, c, this.viewProjectionMatrix);\n\n    var l = function (t, e) {\n      var n = c[0],\n          r = c[1],\n          i = c[2],\n          o = c[3],\n          a = c[4],\n          s = c[5],\n          u = c[6],\n          l = c[7],\n          h = c[8],\n          p = c[9],\n          f = c[10],\n          d = c[11],\n          y = c[12],\n          g = c[13],\n          m = c[14],\n          v = c[15],\n          b = n * s - r * a,\n          _ = n * u - i * a,\n          x = n * l - o * a,\n          w = r * u - i * s,\n          E = r * l - o * s,\n          M = i * l - o * u,\n          O = h * g - p * y,\n          j = h * m - f * y,\n          P = h * v - d * y,\n          S = p * m - f * g,\n          k = p * v - d * g,\n          R = f * v - d * m,\n          C = b * R - _ * k + x * S + w * P - E * j + M * O;\n\n      return C ? (t[0] = (s * R - u * k + l * S) * (C = 1 / C), t[1] = (i * k - r * R - o * S) * C, t[2] = (g * M - m * E + v * w) * C, t[3] = (f * E - p * M - d * w) * C, t[4] = (u * P - a * R - l * j) * C, t[5] = (n * R - i * P + o * j) * C, t[6] = (m * x - y * M - v * _) * C, t[7] = (h * M - f * x + d * _) * C, t[8] = (a * k - s * P + l * O) * C, t[9] = (r * P - n * k - o * O) * C, t[10] = (y * E - g * x + v * b) * C, t[11] = (p * x - h * E - d * b) * C, t[12] = (s * j - a * S - u * O) * C, t[13] = (n * S - r * j + i * O) * C, t[14] = (g * _ - y * w - m * b) * C, t[15] = (h * w - p * _ + f * b) * C, t) : null;\n    }([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n\n    if (!l) throw new Error(\"Pixel project matrix not invertible\");\n    this.pixelProjectionMatrix = c, this.pixelUnprojectionMatrix = l, this.equals = this.equals.bind(this), this.project = this.project.bind(this), this.unproject = this.unproject.bind(this), this.projectPosition = this.projectPosition.bind(this), this.unprojectPosition = this.unprojectPosition.bind(this), this.projectFlat = this.projectFlat.bind(this), this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  return Ht(t, [{\n    key: \"equals\",\n    value: function (e) {\n      return e instanceof t && e.width === this.width && e.height === this.height && ue(e.projectionMatrix, this.projectionMatrix) && ue(e.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function (t) {\n      var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          n = e.topLeft,\n          r = void 0 === n || n,\n          i = this.projectPosition(t),\n          o = xe(i, this.pixelProjectionMatrix),\n          a = te(o, 2),\n          s = a[0],\n          u = a[1],\n          c = r ? u : this.height - u;\n      return 2 === t.length ? [s, c] : [s, c, o[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function (t) {\n      var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          n = e.topLeft,\n          r = void 0 === n || n,\n          i = e.targetZ,\n          o = te(t, 3),\n          a = o[0],\n          s = o[1],\n          u = o[2],\n          c = r ? s : this.height - s,\n          l = i && i * this.pixelsPerMeter,\n          h = we([a, c, u], this.pixelUnprojectionMatrix, l),\n          p = this.unprojectPosition(h),\n          f = te(p, 3),\n          d = f[0],\n          y = f[1],\n          g = f[2];\n      return Number.isFinite(u) ? [d, y, g] : Number.isFinite(i) ? [d, y, i] : [d, y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function (t) {\n      var e = te(this.projectFlat(t), 2);\n      return [e[0], e[1], (t[2] || 0) * this.pixelsPerMeter];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function (t) {\n      var e = te(this.unprojectFlat(t), 2);\n      return [e[0], e[1], (t[2] || 0) / this.pixelsPerMeter];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function (t) {\n      return t;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function (t) {\n      return t;\n    }\n  }]), t;\n}();\n\nfunction Oe(t) {\n  var e = t.width,\n      n = t.height,\n      r = t.padding,\n      i = void 0 === r ? 0 : r,\n      o = t.offset,\n      a = void 0 === o ? [0, 0] : o,\n      s = te(t.bounds, 2),\n      u = te(s[0], 2),\n      c = u[0],\n      l = u[1],\n      h = te(s[1], 2),\n      p = h[0],\n      f = h[1];\n  Number.isFinite(i) ? i = {\n    top: i,\n    bottom: i,\n    left: i,\n    right: i\n  } : le(Number.isFinite(i.top) && Number.isFinite(i.bottom) && Number.isFinite(i.left) && Number.isFinite(i.right));\n  var d = new je({\n    width: e,\n    height: n,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  }),\n      y = d.project([c, f]),\n      g = d.project([p, l]),\n      m = [Math.abs(g[0] - y[0]), Math.abs(g[1] - y[1])],\n      v = [e - i.left - i.right - 2 * Math.abs(a[0]), n - i.top - i.bottom - 2 * Math.abs(a[1])];\n  le(v[0] > 0 && v[1] > 0);\n\n  var b = v[0] / m[0],\n      _ = v[1] / m[1],\n      x = d.unproject([(g[0] + y[0]) / 2 + (i.right - i.left) / 2 / b, (g[1] + y[1]) / 2 + (i.bottom - i.top) / 2 / _]),\n      w = d.zoom + Math.log2(Math.abs(Math.min(b, _)));\n\n  return {\n    longitude: x[0],\n    latitude: x[1],\n    zoom: w\n  };\n}\n\nvar je = function (t) {\n  function e() {\n    var t,\n        n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n        r = n.width,\n        i = n.height,\n        o = n.latitude,\n        a = void 0 === o ? 0 : o,\n        s = n.longitude,\n        u = void 0 === s ? 0 : s,\n        c = n.zoom,\n        l = void 0 === c ? 0 : c,\n        h = n.pitch,\n        p = void 0 === h ? 0 : h,\n        f = n.bearing,\n        d = void 0 === f ? 0 : f,\n        y = n.altitude,\n        g = void 0 === y ? 1.5 : y,\n        m = n.nearZMultiplier,\n        v = n.farZMultiplier;\n    Zt(this, e), r = r || 1, i = i || 1;\n    var b = ve(l);\n    g = Math.max(.75, g);\n\n    var _ = be([u, a], b);\n\n    _[2] = 0;\n\n    var x,\n        w,\n        E = function (t, e, n, r, i) {\n      var o,\n          a = 1 / Math.tan(w.fov / 2);\n      return t[0] = a / n, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = a, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[11] = -1, t[12] = 0, t[13] = 0, t[15] = 0, null != i && Infinity !== i ? (t[10] = (i + r) * (o = 1 / (r - i)), t[14] = 2 * i * r * o) : (t[10] = -1, t[14] = -2 * r), t;\n    }([], 0, (w = function (t) {\n      var e = t.width,\n          n = t.height,\n          r = t.altitude,\n          i = void 0 === r ? me : r,\n          o = t.pitch,\n          a = t.nearZMultiplier,\n          s = void 0 === a ? 1 : a,\n          u = t.farZMultiplier,\n          c = void 0 === u ? 1 : u,\n          l = (void 0 === o ? 0 : o) * fe,\n          h = Math.atan(.5 / i),\n          p = Math.sin(h) * i / Math.sin(Math.PI / 2 - l - h),\n          f = Math.cos(Math.PI / 2 - l) * p + i;\n      return {\n        fov: 2 * Math.atan(n / 2 / i),\n        aspect: e / n,\n        focalDistance: i,\n        near: s,\n        far: f * c\n      };\n    }({\n      width: (x = {\n        width: r,\n        height: i,\n        pitch: p,\n        bearing: d,\n        altitude: g,\n        nearZMultiplier: m || 1 / i,\n        farZMultiplier: v || 1.01\n      }).width,\n      height: x.height,\n      altitude: x.altitude,\n      pitch: x.pitch,\n      nearZMultiplier: x.nearZMultiplier,\n      farZMultiplier: x.farZMultiplier\n    })).aspect, w.near, w.far),\n        M = function (t) {\n      var e = t.height,\n          n = t.pitch,\n          r = t.bearing,\n          i = t.center,\n          o = void 0 === i ? null : i,\n          a = t.flipY,\n          s = void 0 !== a && a,\n          u = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n      return ae(u, u, [0, 0, -t.altitude]), se(u, u, [1, 1, 1 / e]), function (t, e, n) {\n        var r = Math.sin(n),\n            i = Math.cos(n),\n            o = e[4],\n            a = e[5],\n            s = e[6],\n            u = e[7],\n            c = e[8],\n            l = e[9],\n            h = e[10],\n            p = e[11];\n        e !== t && (t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15]), t[4] = o * i + c * r, t[5] = a * i + l * r, t[6] = s * i + h * r, t[7] = u * i + p * r, t[8] = c * i - o * r, t[9] = l * i - a * r, t[10] = h * i - s * r, t[11] = p * i - u * r;\n      }(u, u, -n * fe), function (t, e, n) {\n        var r = Math.sin(n),\n            i = Math.cos(n),\n            o = e[0],\n            a = e[1],\n            s = e[2],\n            u = e[3],\n            c = e[4],\n            l = e[5],\n            h = e[6],\n            p = e[7];\n        e !== t && (t[8] = e[8], t[9] = e[9], t[10] = e[10], t[11] = e[11], t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15]), t[0] = o * i + c * r, t[1] = a * i + l * r, t[2] = s * i + h * r, t[3] = u * i + p * r, t[4] = c * i - o * r, t[5] = l * i - a * r, t[6] = h * i - s * r, t[7] = p * i - u * r;\n      }(u, u, r * fe), s && se(u, u, [1, -1, 1]), o && ae(u, u, function (t, e) {\n        return t[0] = -e[0], t[1] = -e[1], t[2] = -e[2], t;\n      }([], o)), u;\n    }({\n      height: i,\n      center: _,\n      pitch: p,\n      bearing: d,\n      altitude: g,\n      flipY: !0\n    });\n\n    return (t = function (t, e) {\n      return !e || \"object\" !== Kt(e) && \"function\" != typeof e ? Jt(t) : e;\n    }(this, Yt(e).call(this, {\n      width: r,\n      height: i,\n      viewMatrix: M,\n      projectionMatrix: E\n    }))).latitude = a, t.longitude = u, t.zoom = l, t.pitch = p, t.bearing = d, t.altitude = g, t.scale = b, t.center = _, t.pixelsPerMeter = function (t) {\n      var e = t.latitude,\n          n = t.longitude,\n          r = t.scale,\n          i = t.highPrecision,\n          o = void 0 !== i && i;\n      r = void 0 !== r ? r : ve(t.zoom), le(Number.isFinite(e) && Number.isFinite(n) && Number.isFinite(r));\n      var a = {},\n          s = ye * r,\n          u = Math.cos(e * fe),\n          c = s / 360,\n          l = c / u,\n          h = s / ge / u;\n\n      if (a.pixelsPerMeter = [h, -h, h], a.metersPerPixel = [1 / h, -1 / h, 1 / h], a.pixelsPerDegree = [c, -l, h], a.degreesPerPixel = [1 / c, -1 / l, 1 / h], o) {\n        var p = fe * Math.tan(e * fe) / u,\n            f = s / ge * p,\n            d = f / l * h;\n        a.pixelsPerDegree2 = [0, -c * p / 2, f], a.pixelsPerMeter2 = [d, 0, d];\n      }\n\n      return a;\n    }(Jt(Jt(t))).pixelsPerMeter[2], Object.freeze(Jt(Jt(t))), t;\n  }\n\n  return function (t, e) {\n    if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n    t.prototype = Object.create(e && e.prototype, {\n      constructor: {\n        value: t,\n        writable: !0,\n        configurable: !0\n      }\n    }), e && Xt(t, e);\n  }(e, Me), Ht(e, [{\n    key: \"projectFlat\",\n    value: function (t) {\n      var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.scale;\n      return be(t, e);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function (t) {\n      var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.scale;\n      return _e(t, e);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function (t) {\n      var e = t.lngLat,\n          n = we(t.pos, this.pixelUnprojectionMatrix),\n          r = ce([], be(e, this.scale), function (t, e) {\n        return t[0] = -e[0], t[1] = -e[1], t;\n      }([], n));\n      return _e(ce([], this.center, r), this.scale);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function (t) {\n      return this.getMapCenterByLngLatPosition({\n        lngLat: t.lngLat,\n        pos: t.pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function (t) {\n      var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          r = this.width,\n          i = this.height,\n          o = Oe(Object.assign({\n        width: r,\n        height: i,\n        bounds: t\n      }, n)),\n          a = o.longitude,\n          s = o.latitude,\n          u = o.zoom;\n      return new e({\n        width: r,\n        height: i,\n        longitude: a,\n        latitude: s,\n        zoom: u\n      });\n    }\n  }]), e;\n}(),\n    Pe = [\"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\"],\n    Se = function (t) {\n  var e, r;\n\n  function i() {\n    for (var e, r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];\n\n    return (e = t.call.apply(t, [this].concat(i)) || this).geocoder = null, e.cachedResult = null, e.initializeGeocoder = function () {\n      var t = e.getMapboxMap(),\n          n = e.getContainerNode(),\n          r = e.props,\n          i = r.inputValue,\n          o = r.render,\n          a = r.getItemValue,\n          s = r.onInit,\n          u = r.position,\n          c = {\n        accessToken: r.mapboxApiAccessToken,\n        origin: r.origin,\n        zoom: r.zoom,\n        flyTo: !1,\n        placeholder: r.placeholder,\n        proximity: r.proximity,\n        trackProximity: r.trackProximity,\n        collapsed: r.collapsed,\n        clearAndBlurOnEsc: r.clearAndBlurOnEsc,\n        clearOnBlur: r.clearOnBlur,\n        bbox: r.bbox,\n        types: r.types,\n        countries: r.countries,\n        minLength: r.minLength,\n        limit: r.limit,\n        language: r.language,\n        filter: r.filter,\n        localGeocoder: r.localGeocoder,\n        reverseGeocode: r.reverseGeocode,\n        enableEventLogging: r.enableEventLogging,\n        marker: !1\n      };\n      o && \"function\" == typeof o && (c.render = o), a && \"function\" == typeof a && (c.getItemValue = a), e.geocoder = new Ut(c), e.subscribeEvents(), n ? n.appendChild(e.geocoder.onAdd(t)) : t.addControl(e.geocoder, Pe.find(function (t) {\n        return u === t;\n      })), null != i ? e.geocoder.setInput(i) : e.cachedResult && e.geocoder.setInput(e.cachedResult.place_name), (e.cachedResult || null != i) && e.showClearIcon(), s(e.geocoder);\n    }, e.showClearIcon = function () {\n      e.geocoder._clearEl.style.display = \"block\";\n    }, e.getMapboxMap = function () {\n      var t = e.props.mapRef;\n      return t && t.current && t.current.getMap() || null;\n    }, e.getContainerNode = function () {\n      var t = e.props.containerRef;\n      return t && t.current || null;\n    }, e.subscribeEvents = function () {\n      e.geocoder.on(\"clear\", e.handleClear), e.geocoder.on(\"loading\", e.handleLoading), e.geocoder.on(\"results\", e.handleResults), e.geocoder.on(\"result\", e.handleResult), e.geocoder.on(\"error\", e.handleError);\n    }, e.unsubscribeEvents = function () {\n      e.geocoder.off(\"clear\", e.handleClear), e.geocoder.off(\"loading\", e.handleLoading), e.geocoder.off(\"results\", e.handleResults), e.geocoder.off(\"result\", e.handleResult), e.geocoder.off(\"error\", e.handleError);\n    }, e.removeGeocoder = function () {\n      var t = e.getMapboxMap();\n      e.unsubscribeEvents(), t && t.removeControl && e.getMapboxMap().removeControl(e.geocoder), e.geocoder = null;\n    }, e.handleClear = function () {\n      e.cachedResult = null, e.props.onClear();\n    }, e.handleLoading = function (t) {\n      e.props.onLoading(t);\n    }, e.handleResults = function (t) {\n      e.props.onResults(t);\n    }, e.handleResult = function (t) {\n      var r = t.result,\n          i = e.props,\n          o = i.onViewportChange,\n          a = i.onResult,\n          s = r.bbox,\n          u = r.center,\n          c = r.properties,\n          l = (void 0 === c ? {} : c).short_code,\n          h = u[0],\n          p = u[1],\n          f = {\n        fr: {\n          name: \"France\",\n          bbox: [[-4.59235, 41.380007], [9.560016, 51.148506]]\n        },\n        us: {\n          name: \"United States\",\n          bbox: [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n        },\n        ru: {\n          name: \"Russia\",\n          bbox: [[19.66064, 41.151416], [190.10042, 81.2504]]\n        },\n        ca: {\n          name: \"Canada\",\n          bbox: [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n        }\n      },\n          d = e.getMapboxMap().getContainer().getBoundingClientRect(),\n          y = d.width,\n          g = d.height,\n          m = e.geocoder.options.zoom,\n          v = function (t, e) {\n        return new je(e).fitBounds(t);\n      };\n\n      try {\n        !f[l] && s ? m = v([[s[0], s[1]], [s[2], s[3]]], {\n          width: y,\n          height: g\n        }).zoom : f[l] && (m = v(f[l].bbox, {\n          width: y,\n          height: g\n        }).zoom);\n      } catch (t) {\n        console.warn(\"following result caused an error when trying to zoom to bbox: \", r), m = e.geocoder.options.zoom;\n      }\n\n      o({\n        longitude: h,\n        latitude: p,\n        zoom: m,\n        transitionInterpolator: new n(),\n        transitionDuration: 3e3\n      }), a(t), e.cachedResult = r, e.geocoder._typeahead.selected = null, e.showClearIcon();\n    }, e.handleError = function (t) {\n      e.props.onError(t);\n    }, e;\n  }\n\n  r = t, (e = i).prototype = Object.create(r.prototype), e.prototype.constructor = e, e.__proto__ = r;\n  var o = i.prototype;\n  return o.componentDidMount = function () {\n    this.initializeGeocoder();\n  }, o.componentWillUnmount = function () {\n    this.removeGeocoder();\n  }, o.componentDidUpdate = function () {\n    this.removeGeocoder(), this.initializeGeocoder();\n  }, o.getGeocoder = function () {\n    return this.geocoder;\n  }, o.render = function () {\n    return null;\n  }, i;\n}(t);\n\nSe.propTypes = {\n  mapRef: j.object.isRequired,\n  containerRef: j.object,\n  onViewportChange: j.func,\n  mapboxApiAccessToken: j.string.isRequired,\n  inputValue: j.string,\n  origin: j.string,\n  zoom: j.number,\n  placeholder: j.string,\n  proximity: j.object,\n  trackProximity: j.bool,\n  collapsed: j.bool,\n  clearAndBlurOnEsc: j.bool,\n  clearOnBlur: j.bool,\n  bbox: j.array,\n  types: j.string,\n  countries: j.string,\n  minLength: j.number,\n  limit: j.number,\n  language: j.string,\n  filter: j.func,\n  localGeocoder: j.func,\n  reverseGeocode: j.bool,\n  enableEventLogging: j.bool,\n  render: j.func,\n  getItemValue: j.func,\n  position: j.oneOf(Pe),\n  onInit: j.func,\n  onClear: j.func,\n  onLoading: j.func,\n  onResults: j.func,\n  onResult: j.func,\n  onError: j.func\n}, Se.defaultProps = {\n  onViewportChange: function () {},\n  origin: \"https://api.mapbox.com\",\n  zoom: 16,\n  placeholder: \"Search\",\n  trackProximity: !1,\n  collapsed: !1,\n  clearAndBlurOnEsc: !1,\n  clearOnBlur: !1,\n  minLength: 2,\n  limit: 5,\n  reverseGeocode: !1,\n  enableEventLogging: !0,\n  position: \"top-right\",\n  onInit: function () {},\n  onClear: function () {},\n  onLoading: function () {},\n  onResults: function () {},\n  onResult: function () {},\n  onError: function () {}\n};\nexport default Se;","map":{"version":3,"sources":["../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/xtend/immutable.js","../node_modules/fuzzy/lib/fuzzy.js","../node_modules/suggestions/src/list.js","../node_modules/suggestions/src/suggestions.js","../node_modules/suggestions/index.js","../node_modules/lodash.debounce/index.js","../node_modules/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","../node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","../node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","../node_modules/@mapbox/mapbox-sdk/lib/constants.js","../node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","../node_modules/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","../node_modules/base-64/base64.js","../node_modules/@mapbox/parse-mapbox-token/index.js","../node_modules/eventemitter3/index.js","../node_modules/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","../node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","../node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","../node_modules/@mapbox/mapbox-sdk/lib/browser/browser-client.js","../node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","../node_modules/@mapbox/mapbox-sdk/index.js","../node_modules/is-plain-obj/index.js","../node_modules/@mapbox/fusspot/lib/index.js","../node_modules/@mapbox/mapbox-sdk/services/service-helpers/validator.js","../node_modules/@mapbox/mapbox-sdk/services/service-helpers/pick.js","../node_modules/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","../node_modules/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","../node_modules/@mapbox/mapbox-sdk/services/geocoding.js","../node_modules/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","../node_modules/nanoid/index.browser.js","../node_modules/@mapbox/mapbox-gl-geocoder/lib/events.js","../node_modules/@mapbox/mapbox-gl-geocoder/lib/localization.js","../node_modules/subtag/subtag.js","../node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/gl-matrix/esm/common.js","../node_modules/gl-matrix/esm/vec4.js","../node_modules/viewport-mercator-project/dist/esm/math-utils.js","../node_modules/gl-matrix/esm/mat4.js","../node_modules/gl-matrix/esm/vec2.js","../node_modules/viewport-mercator-project/dist/esm/assert.js","../node_modules/gl-matrix/esm/vec3.js","../node_modules/viewport-mercator-project/dist/esm/web-mercator-utils.js","../node_modules/viewport-mercator-project/dist/esm/viewport.js","../node_modules/viewport-mercator-project/dist/esm/fit-bounds.js","../node_modules/viewport-mercator-project/dist/esm/web-mercator-viewport.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../src/index.js"],"names":["Object","defineProperty","exports","value","b","Symbol","for","c","d","e","f","g","h","k","l","m","n","p","q","r","t","a","u","$$typeof","type","v","process","env","NODE_ENV","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","printWarning","format","_len","arguments","length","args","Array","_key","argIndex","message","replace","console","warn","Error","x","condition","undefined","_len2","_key2","apply","concat","typeOf","object","$$typeofType","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","hasWarnedAboutDeprecatedIsAsyncMode","lowPriorityWarning$1","isConcurrentMode","module","require$$0","require$$1","getOwnPropertySymbols","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","to","symbols","s","key","call","ReactPropTypesSecret","loggedTypeFailures","has","Function","bind","text","error","checkPropTypes","typeSpecs","values","location","componentName","getStack","typeSpecName","name","ex","stack","resetWarningCache","emptyFunctionThatReturnsNull","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","array","createPrimitiveTypeChecker","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","is","y","PropTypeError","this","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","props","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","getPropType","getPreciseType","typeChecker","isArray","ReactIs","isValidElementType","expectedClass","expectedValues","valuesString","JSON","stringify","propType","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","getIteratorFn","step","entries","next","done","entry","RegExp","isSymbol","Date","constructor","PropTypes","emptyFunction","emptyFunctionWithReset","shim","getShim","isElement","require$$2","fuzzy","simpleFilter","pattern","filter","str","test","match","opts","patternIdx","result","len","totalScore","currScore","pre","post","compareString","caseSensitive","toLowerCase","ch","idx","Infinity","rendered","score","arr","reduce","prev","extract","index","original","sort","List","component","items","active","wrapper","document","createElement","className","appendChild","selectingListItem","el","parentNode","insertBefore","nextSibling","show","style","display","hide","add","item","push","clear","isEmpty","isVisible","draw","innerHTML","drawItem","li","addEventListener","handleMouseUp","move","previous","drawError","msg","Suggestions","data","options","extend","minLength","limit","list","query","selected","handleKeyUp","keyCode","handleKeyDown","handleFocus","handleBlur","handlePaste","render","getItemValue","handleInputChange","preventDefault","clipboardData","getData","self","setTimeout","normalize","getCandidates","update","revisedData","candidate","indexOf","createEvent","initEvent","dispatchEvent","fireEvent","callback","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","slice","renderError","window","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","objectToString","toString","nativeMax","Math","max","nativeMin","min","now","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","clearTimeout","debounced","isInvoking","leadingEdge","cancel","flush","isObjectLike","other","valueOf","isBinary","fr","bbox","us","ru","ca","param","parts","link","linkUrl","linkParams","rel","parsedLinkParams","parsed","parseParam","url","params","linkHeader","parseLink","MapiResponse","request","responseData","headers","rawBody","body","statusCode","parse","parseError","links","parseLinkHeader","hasNextPage","nextPage","_extend","path","API_ORIGIN","EVENT_PROGRESS_DOWNLOAD","EVENT_PROGRESS_UPLOAD","EVENT_ERROR","EVENT_RESPONSE","ERROR_HTTP","ERROR_REQUEST_ABORTED","errorType","constants","requestsUnderway","xhr","id","abort","response","getAllResponseHeaders","status","normalizeBrowserProgressEvent","event","total","transferred","loaded","percent","Promise","resolve","reject","onprogress","emitter","emit","file","upload","onerror","onabort","mapiError","MapiError","onload","send","then","createResponse","accessToken","XMLHttpRequest","open","method","setRequestHeader","createRequestXhr","client","sendRequestXhr","freeExports","freeModule","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","input","bitCounter","bitStorage","buffer","output","position","charAt","padding","charCodeAt","base64","encode","decode","version","nodeType","tokenCache","token","usage","rawPayload","parsedPayload","parsePaylod","user","authorization","expires","exp","created","iat","scopes","lastLogin","ll","impersonator","iu","obj","prefix","Events","create","__proto__","EE","fn","context","once","addListener","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","names","events","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","j","on","removeAllListeners","off","prefixed","encodeURIComponent","encodeValue","appendQueryParam","punctuation","queryObject","origin","delimiter","route","_","paramId","appendQueryObject","prependOrigin","interpolateRouteParams","requestId","MapiRequest","defaultHeaders","headersWithDefaults","xtend","memo","_options","sent","aborted","urlUtils","routeParams","accessTokenOwnerId","parseToken","ownerId","sendRequest","_nextPageRequest","abortRequest","eachPage","handleResponse","nextPageRequest","getPage","handleError","clone","extendedOptions","MapiClient","createRequest","requestOptions","BrowserClient","raw","boundary","substring","trim","rawHeader","parseSingleHeader","getPrototypeOf","DEFAULT_ERROR_PATH","assert","rootValidator","errorMessage","processMessage","apiName","validatorObj","validators","validationResult","plainObject","errorMessages","objectId","strictShape","shapeValidator","shapeResult","invalidKeys","valueKey","validator","createArrayValidator","tuple","validatingTuple","plainArray","required","requiredValidator","formatErrorMessage","isArrayCulprit","__required","messages","Boolean","orList","equal","compareWith","range","boolean","prettifyResult","nounPhrase","prettyResult","Blob","ArrayBuffer","pipe","date","getTime","isNaN","coordinates","assertShape","objectMap","cb","Geocoding","featureTypes","forwardGeocode","config","mode","countries","proximity","types","autocomplete","language","stringifyBooleans","country","pick","reverseGeocode","reverseMode","ServicePrototype","clientOrConfig","isPrototypeOf","createClient","service","crypto","msCrypto","size","bytes","getRandomValues","Uint8Array","MapboxEventManager","endpoint","access_token","sessionID","generateSessionID","userAgent","getUserAgent","locale","navigator","enableEventLogging","shouldEnableLogging","eventQueue","flushInterval","maxQueueSize","timer","lastSentInput","lastSentIndex","select","geocoder","resultIndex","getSelectedIndex","payload","getEventPayload","resultPlaceName","place_name","resultId","queryString","start","keyevent","keyEvent","metaKey","lastAction","getRequestOptions","host","Content-Type","longitude","latitude","zoom","_map","getZoom","sessionIdentifier","mapZoom","keyboardLocale","inputString","_inputEl","xhttp","onreadystatechange","readyState","statusText","header","nanoid","_typeahead","selectedID","feature","localGeocoder","forceFlush","remove","de","it","en","nl","he","ja","lv","pt","sr","zh","cs","hu","ka","nb","sk","th","fi","ko","pl","sl","placeholder","make","empty","tag","api","extlang","script","region","expose","enumerable","part","MapboxGeocoder","_eventEmitter","fresh","lastSelected","flyTo","trackProximity","marker","mapboxgl","collapsed","clearAndBlurOnEsc","clearOnBlur","placeName","splice","onAdd","setLanguage","geocoderService","mbxGeocoder","MapboxClient","eventManager","_onChange","_onKeyDown","_onBlur","_showButton","_hideButton","_onQueryResult","_updateProximity","_collapse","_unCollapse","_clear","_clearOnBlur","container","searchIcon","createIcon","setPlaceholder","debounce","actions","classList","_clearEl","setAttribute","buttonIcon","_loadingEl","Typeahead","setRenderFunction","mapMarker","_handleMarker","_mapboxgl","icon","createElementNS","onRemove","removeChild","_removeMarker","ESC_KEY_CODE","TAB_KEY_CODE","blur","shadowRoot","activeElement","_geocode","flyOptions","properties","exceptions","short_code","fitBounds","center","focus","scrollLeft","setSelectionRange","searchInput","coords","parseFloat","reverse","localGeocoderRes","res","features","_renderNoResults","catch","_renderError","ev","relatedTarget","results","getCenter","wrap","setProximity","lng","lat","_renderMessage","_getPlaceholderText","firstLanguage","subtag","localizedValue","localization","setInput","getProximity","getRenderFunction","browserLocale","userLanguage","browserLanguage","getLanguage","setZoom","getFlyTo","setFlyTo","getPlaceholder","getBbox","setBbox","getCountries","setCountries","getTypes","setTypes","getMinLength","setMinLength","getLimit","setLimit","getFilter","setFilter","color","markerOptions","Marker","setLngLat","addTo","_classCallCheck","instance","Constructor","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_typeof2","_typeof","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","setPrototypeOf","_setPrototypeOf","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_arr","_n","_d","_e","_i","_s","EPSILON","ARRAY_TYPE","Float32Array","out","glMatrix.ARRAY_TYPE","z","w","transformVector","matrix","vector","vec4.transformMat4","vec4.scale","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiply","b0","b1","b2","b3","translate","scale","rad","sin","cos","fovy","aspect","near","far","tan","nf","equals","a0","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b12","b13","b14","b15","abs","glMatrix.EPSILON","ax","ay","PI","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","TILE_SIZE","EARTH_CIRCUMFERENCE","DEFAULT_ALTITUDE","zoomToScale","pow","lngLatToWorld","_ref","_ref2","Number","isFinite","log","worldToLngLat","_ref3","_ref4","lambda2","phi2","atan","_ref6","_ref6$highPrecision","highPrecision","worldSize","latCosine","pixelsPerDegreeX","pixelsPerDegreeY","altPixelsPerMeter","pixelsPerMeter","metersPerPixel","pixelsPerDegree","degreesPerPixel","latCosine2","altPixelsPerDegree2","altPixelsPerMeter2","pixelsPerDegree2","pixelsPerMeter2","_ref7","height","pitch","bearing","altitude","_ref7$center","_ref7$flipY","flipY","vm","mat4.translate","mat4.scale","mat4.rotateX","mat4.rotateZ","vec3.negate","_ref8","width","_ref8$altitude","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","pitchRadians","halfFov","topHalfSurfaceDistance","farZ","fov","focalDistance","_ref9","_getProjectionParamet","getProjectionParameters","mat4.perspective","worldToPixels","xyz","pixelProjectionMatrix","_xyz2","_xyz2$","pixelsToWorld","pixelUnprojectionMatrix","targetZ","_xyz3","coord0","coord1","z0","z1","vec2.lerp","IDENTITY","Viewport","_ref$viewMatrix","viewMatrix","_ref$projectionMatrix","projectionMatrix","vpm","mat4.multiply","viewProjectionMatrix","mInverse","mat4.invert","project","unproject","projectPosition","unprojectPosition","projectFlat","unprojectFlat","viewport","mat4.equals","_ref2$topLeft","topLeft","worldPosition","coord","_coord","y2","_ref3$topLeft","_xyz","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","_this$projectFlat2","_this$unprojectFlat2","bounds","_ref$padding","_ref$offset","offset","_bounds","_bounds$","west","south","_bounds$2","east","north","top","bottom","left","right","WebMercatorViewport","nw","se","targetSize","scaleX","scaleY","centerLngLat","log2","_Viewport","_inherits","_this","_ref$latitude","_ref$longitude","_ref$zoom","_ref$pitch","_ref$bearing","_ref$altitude","getViewMatrix","_possibleConstructorReturn","getDistanceScales","freeze","lngLat","xy","pos","fromLocation","vec2.add","vec2.negate","getMapCenterByLngLatPosition","_fitBounds2","_fitBounds","assertThisInitialized","subClass","superClass","VALID_POSITIONS","Geocoder","PureComponent","cachedResult","componentDidMount","initializeGeocoder","componentWillUnmount","removeGeocoder","componentDidUpdate","mapboxMap","getMapboxMap","containerNode","getContainerNode","mapboxApiAccessToken","inputValue","onInit","subscribeEvents","addControl","find","_position","showClearIcon","mapRef","current","getMap","containerRef","handleClear","handleLoading","handleResults","handleResult","unsubscribeEvents","removeControl","onClear","onLoading","onResults","onViewportChange","onResult","bboxExceptions","getContainer","getBoundingClientRect","transitionInterpolator","FlyToInterpolator","transitionDuration","onError","getGeocoder","propTypes","defaultProps"],"mappings":";;;;;;;;;;;;;;;;AASaA,EAAAA,MAAAA,CAAOC,cAAPD,CAAsBE,CAAtBF,EAA8B,YAA9BA,EAA2C;AAACG,IAAAA,KAAAA,EAAAA,CAAM;AAAP,GAA3CH;AACb,MAAII,CAAAA,GAAE,cAAA,OAAoBC,MAApB,IAA4BA,MAAAA,CAAOC,GAAzC;AAAA,MAA6CC,CAAAA,GAAEH,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,eAAXA,CAAFD,GAA8B,KAA7E;AAAA,MAAmFI,CAAAA,GAAEJ,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,cAAXA,CAAFD,GAA6B,KAAlH;AAAA,MAAwHK,CAAAA,GAAEL,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAFD,GAA+B,KAAzJ;AAAA,MAA+JM,CAAAA,GAAEN,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,mBAAXA,CAAFD,GAAkC,KAAnM;AAAA,MAAyMO,CAAAA,GAAEP,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAFD,GAA+B,KAA1O;AAAA,MAAgPQ,CAAAA,GAAER,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAFD,GAA+B,KAAjR;AAAA,MAAuRS,CAAAA,GAAET,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,eAAXA,CAAFD,GAA8B,KAAvT;AAAA,MAA6TU,CAAAA,GAAEV,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,kBAAXA,CAAFD,GAAiC,KAAhW;AAAA,MAAsWW,CAAAA,GAAEX,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,uBAAXA,CAAFD,GAAsC,KAA9Y;AAAA,MAAoZY,CAAAA,GAAEZ,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,mBAAXA,CAAFD,GAAkC,KAAxb;AAAA,MAA8ba,CAAAA,GAAEb,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAFD,GAA+B,KAA/d;AAAA,MAAqec,CAAAA,GAAEd,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,YAAXA,CAAFD,GACve,KADA;AAAA,MACMe,CAAAA,GAAEf,CAAAA,GAAEC,MAAAA,CAAOC,GAAPD,CAAW,YAAXA,CAAFD,GAA2B,KADnC;;AACyC,WAASgB,CAAT,CAAWC,CAAX,EAAWA;AAAG,QAAG,YAAA,OAAkBA,CAAlB,IAAqB,SAAOA,CAA/B,EAAiC;AAAC,UAAIC,CAAAA,GAAED,CAAAA,CAAEE,QAAR;;AAAiB,cAAOD,CAAP;AAAU,aAAKf,CAAL;AAAO,kBAAOc,CAAAA,GAAEA,CAAAA,CAAEG,IAAX;AAAmB,iBAAKV,CAAL;AAAO,iBAAKC,CAAL;AAAO,iBAAKN,CAAL;AAAO,iBAAKE,CAAL;AAAO,iBAAKD,CAAL;AAAO,iBAAKO,CAAL;AAAO,qBAAOI,CAAP;;AAAS;AAAQ,sBAAOA,CAAAA,GAAEA,CAAAA,IAAGA,CAAAA,CAAEE,QAAd;AAA0B,qBAAKV,CAAL;AAAO,qBAAKG,CAAL;AAAO,qBAAKJ,CAAL;AAAO,yBAAOS,CAAP;;AAAS;AAAQ,yBAAOC,CAAP;AAAhE;;AAA9E;;AAAwJ,aAAKH,CAAL;AAAO,aAAKD,CAAL;AAAO,aAAKV,CAAL;AAAO,iBAAOc,CAAP;AAA9L;AAAqMA;AAAI;;AAAA,WAASG,CAAT,CAAWJ,CAAX,EAAWA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOL,CAAd;AAAgBb;;AAAAA,EAAAA,CAAAA,CAAAA,MAAAA,GAAekB,CAAflB,EAAiBA,CAAAA,CAAAA,SAAAA,GAAkBY,CAAnCZ,EAAqCA,CAAAA,CAAAA,cAAAA,GAAuBa,CAA5Db,EAA8DA,CAAAA,CAAAA,eAAAA,GAAwBW,CAAtFX,EAAwFA,CAAAA,CAAAA,eAAAA,GAAwBU,CAAhHV,EAAkHA,CAAAA,CAAAA,OAAAA,GAAgBK,CAAlIL,EAAoIA,CAAAA,CAAAA,UAAAA,GAAmBc,CAAvJd,EACjVA,CAAAA,CAAAA,QAAAA,GAAiBO,CADgUP,EAC9TA,CAAAA,CAAAA,IAAAA,GAAaiB,CADiTjB,EAC/SA,CAAAA,CAAAA,IAAAA,GAAagB,CADkShB,EAChSA,CAAAA,CAAAA,MAAAA,GAAeM,CADiRN,EAC/QA,CAAAA,CAAAA,QAAAA,GAAiBS,CAD8PT,EAC5PA,CAAAA,CAAAA,UAAAA,GAAmBQ,CADyOR,EACvOA,CAAAA,CAAAA,QAAAA,GAAiBe,CADsNf,EACpNA,CAAAA,CAAAA,kBAAAA,GAA2B,UAASmB,CAAT,EAASA;AAAG,WAAM,YAAA,OAAkBA,CAAlB,IAAqB,cAAA,OAAoBA,CAAzC,IAA4CA,CAAAA,KAAIZ,CAAhD,IAAmDY,CAAAA,KAAIN,CAAvD,IAA0DM,CAAAA,KAAIV,CAA9D,IAAiEU,CAAAA,KAAIX,CAArE,IAAwEW,CAAAA,KAAIJ,CAA5E,IAA+E,YAAA,OAAkBI,CAAlB,IAAqB,SAAOA,CAA5B,KAAgCA,CAAAA,CAAEE,QAAFF,KAAaF,CAAbE,IAAgBA,CAAAA,CAAEE,QAAFF,KAAaH,CAA7BG,IAAgCA,CAAAA,CAAEE,QAAFF,KAAaT,CAA7CS,IAAgDA,CAAAA,CAAEE,QAAFF,KAAaR,CAA7DQ,IAAgEA,CAAAA,CAAEE,QAAFF,KAAaL,CAA7G,CAArF;AAAkMA,GADrBd,EACyBA,CAAAA,CAAAA,WAAAA,GAAoB,UAASmB,CAAT,EAASA;AAAG,WAAOI,CAAAA,CAAEJ,CAAFI,CAAAA,IAAML,CAAAA,CAAEC,CAAFD,CAAAA,KAAON,CAApB;AAAoBA,GAD7EZ,EACgFA,CAAAA,CAAAA,gBAAAA,GAAyBuB,CADzGvB,EAC2GA,CAAAA,CAAAA,iBAAAA,GAA0B,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOP,CAAd;AAAcA,GAD/JX,EAEjVA,CAAAA,CAAAA,iBAAAA,GAA0B,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOR,CAAd;AAAcA,GAF6RV,EAE1RA,CAAAA,CAAAA,SAAAA,GAAkB,UAASmB,CAAT,EAASA;AAAG,WAAM,YAAA,OAAkBA,CAAlB,IAAqB,SAAOA,CAA5B,IAA+BA,CAAAA,CAAEE,QAAFF,KAAad,CAAlD;AAAkDA,GAF0ML,EAEvMA,CAAAA,CAAAA,YAAAA,GAAqB,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOJ,CAAd;AAAcA,GAFwJd,EAErJA,CAAAA,CAAAA,UAAAA,GAAmB,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOX,CAAd;AAAcA,GAFwGP,EAErGA,CAAAA,CAAAA,MAAAA,GAAe,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOD,CAAd;AAAcA,GAF4DjB,EAEzDA,CAAAA,CAAAA,MAAAA,GAAe,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOF,CAAd;AAAcA,GAFgBhB,EAEbA,CAAAA,CAAAA,QAAAA,GAAiB,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOZ,CAAd;AAAcA,GAF9BN,EAEiCA,CAAAA,CAAAA,UAAAA,GAAmB,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOT,CAAd;AAAcA,GAF9ET,EAEiFA,CAAAA,CAAAA,YAAAA,GAAqB,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOV,CAAd;AAAcA,GAFhIR,EAGjVA,CAAAA,CAAAA,UAAAA,GAAmB,UAASmB,CAAT,EAASA;AAAG,WAAOD,CAAAA,CAAEC,CAAFD,CAAAA,KAAOH,CAAd;AAAcA,GAHoSf;AAGpSe,C;AAAAA,CAAAA,CAAAA,CAAAA,CAAAA;AAAAA,IAAAA,CAAAA,GAAAA,CAAAA,CAAAA,UAAAA,CAAAA,EAAAA,CAAAA,EAAAA;ACDhB,mBAAzBS,OAAAA,CAAQC,GAARD,CAAYE,QAAa,IAC3B,YAAA;AAGF5B,IAAAA,MAAAA,CAAOC,cAAPD,CAAsBE,CAAtBF,EAA+B,YAA/BA,EAA6C;AAAEG,MAAAA,KAAAA,EAAAA,CAAO;AAAT,KAA7CH;;AAIA,QAAI6B,CAAAA,GAA8B,cAAA,OAAXxB,MAAW,IAAcA,MAAAA,CAAOC,GAAvD;AAAA,QAEIwB,CAAAA,GAAqBD,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,eAAXA,CAAZwB,GAA0C,KAFnE;AAAA,QAGIE,CAAAA,GAAoBF,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,cAAXA,CAAZwB,GAAyC,KAHjE;AAAA,QAIIG,CAAAA,GAAsBH,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAZwB,GAA2C,KAJrE;AAAA,QAKII,CAAAA,GAAyBJ,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,mBAAXA,CAAZwB,GAA8C,KAL3E;AAAA,QAMIK,CAAAA,GAAsBL,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAZwB,GAA2C,KANrE;AAAA,QAOIM,CAAAA,GAAsBN,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAZwB,GAA2C,KAPrE;AAAA,QAQIO,CAAAA,GAAqBP,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,eAAXA,CAAZwB,GAA0C,KARnE;AAAA,QASIQ,CAAAA,GAAwBR,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,kBAAXA,CAAZwB,GAA6C,KATzE;AAAA,QAUIS,CAAAA,GAA6BT,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,uBAAXA,CAAZwB,GAAkD,KAVnF;AAAA,QAWIU,CAAAA,GAAyBV,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,mBAAXA,CAAZwB,GAA8C,KAX3E;AAAA,QAYIW,CAAAA,GAAsBX,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,gBAAXA,CAAZwB,GAA2C,KAZrE;AAAA,QAaIY,CAAAA,GAAkBZ,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,YAAXA,CAAZwB,GAAuC,KAb7D;AAAA,QAcIa,CAAAA,GAAkBb,CAAAA,GAAYxB,MAAAA,CAAOC,GAAPD,CAAW,YAAXA,CAAZwB,GAAuC,KAd7D;AAAA,QAuCMc,CAAAA,GAAe,UAAUC,CAAV,EAAUA;AAC3B,WAAK,IAAIC,CAAAA,GAAOC,SAAAA,CAAUC,MAArB,EAA6BC,CAAAA,GAAOC,KAAAA,CAAMJ,CAAAA,GAAO,CAAPA,GAAWA,CAAAA,GAAO,CAAlBA,GAAsB,CAA5BI,CAApC,EAAoEC,CAAAA,GAAO,CAAhF,EAAmFA,CAAAA,GAAOL,CAA1F,EAAgGK,CAAAA,EAAhG,EACEF,CAAAA,CAAKE,CAAAA,GAAO,CAAZF,CAAAA,GAAiBF,SAAAA,CAAUI,CAAVJ,CAAjBE;;AAGF,UAAIG,CAAAA,GAAW,CAAf;AAAA,UACIC,CAAAA,GAAU,cAAcR,CAAAA,CAAOS,OAAPT,CAAe,KAAfA,EAAsB,YAAA;AAChD,eAAOI,CAAAA,CAAKG,CAAAA,EAALH,CAAP;AAAYG,OADcP,CAD5B;AAIuB,qBAAA,OAAZU,OAAY,IACrBA,OAAAA,CAAQC,IAARD,CAAaF,CAAbE,CADqB;;AAGvB,UAAA;AAIE,cAAM,IAAIE,KAAJ,CAAUJ,CAAV,CAAN;AACA,OALF,CAKE,OAAOK,CAAP,EAAOA,CAAAA;AAAAA,KAxDb;;AA2EA,aAASO,CAAT,CAAgBC,CAAhB,EAAgBA;AACd,UAAsB,YAAA,OAAXA,CAAW,IAAuB,SAAXA,CAAlC,EAAmD;AACjD,YAAI1C,CAAAA,GAAW0C,CAAAA,CAAO1C,QAAtB;;AACA,gBAAQA,CAAR;AACE,eAAKO,CAAL;AACE,gBAAIN,CAAAA,GAAOyC,CAAAA,CAAOzC,IAAlB;;AAEA,oBAAQA,CAAR;AACE,mBAAKa,CAAL;AACA,mBAAKC,CAAL;AACA,mBAAKN,CAAL;AACA,mBAAKE,CAAL;AACA,mBAAKD,CAAL;AACA,mBAAKO,CAAL;AACE,uBAAOhB,CAAP;;AACF;AACE,oBAAI0C,CAAAA,GAAe1C,CAAAA,IAAQA,CAAAA,CAAKD,QAAhC;;AAEA,wBAAQ2C,CAAR;AACE,uBAAK9B,CAAL;AACA,uBAAKG,CAAL;AACA,uBAAKJ,CAAL;AACE,2BAAO+B,CAAP;;AACF;AACE,2BAAO3C,CAAP;AANJ;;AAXJ;;AAoBF,eAAKmB,CAAL;AACA,eAAKD,CAAL;AACA,eAAKV,CAAL;AACE,mBAAOR,CAAP;AA3BJ;AA2BWA;AAQf;;AAAA,QAAI4C,CAAAA,GAAY9B,CAAhB;AAAA,QACI+B,CAAAA,GAAiB9B,CADrB;AAAA,QAEI+B,CAAAA,GAAkBjC,CAFtB;AAAA,QAGIkC,CAAAA,GAAkBnC,CAHtB;AAAA,QAIIoC,CAAAA,GAAUzC,CAJd;AAAA,QAKI0C,CAAAA,GAAajC,CALjB;AAAA,QAMIkC,CAAAA,GAAWzC,CANf;AAAA,QAOI0C,CAAAA,GAAOhC,CAPX;AAAA,QAQIiC,CAAAA,GAAOlC,CARX;AAAA,QASImC,CAAAA,GAAS7C,CATb;AAAA,QAUI8C,CAAAA,GAAW3C,CAVf;AAAA,QAWI4C,CAAAA,GAAa7C,CAXjB;AAAA,QAYI8C,CAAAA,GAAWvC,CAZf;AAAA,QAcIwC,CAAAA,GAAAA,CAAsC,CAd1C;;AA0BA,aAASE,CAAT,CAA0BjB,CAA1B,EAA0BA;AACxB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmB1B,CAA1B;AAoCFpC;;AAAAA,IAAAA,CAAAA,CAAAA,MAAAA,GAAiB8D,CAAjB9D,EACAA,CAAAA,CAAAA,SAAAA,GAAoBiE,CADpBjE,EAEAA,CAAAA,CAAAA,cAAAA,GAAyBkE,CAFzBlE,EAGAA,CAAAA,CAAAA,eAAAA,GAA0BmE,CAH1BnE,EAIAA,CAAAA,CAAAA,eAAAA,GAA0BoE,CAJ1BpE,EAKAA,CAAAA,CAAAA,OAAAA,GAAkBqE,CALlBrE,EAMAA,CAAAA,CAAAA,UAAAA,GAAqBsE,CANrBtE,EAOAA,CAAAA,CAAAA,QAAAA,GAAmBuE,CAPnBvE,EAQAA,CAAAA,CAAAA,IAAAA,GAAewE,CARfxE,EASAA,CAAAA,CAAAA,IAAAA,GAAeyE,CATfzE,EAUAA,CAAAA,CAAAA,MAAAA,GAAiB0E,CAVjB1E,EAWAA,CAAAA,CAAAA,QAAAA,GAAmB2E,CAXnB3E,EAYAA,CAAAA,CAAAA,UAAAA,GAAqB4E,CAZrB5E,EAaAA,CAAAA,CAAAA,QAAAA,GAAmB6E,CAbnB7E,EAcAA,CAAAA,CAAAA,kBAAAA,GA9KA,UAA4BsB,CAA5B,EAA4BA;AAC1B,aAAuB,YAAA,OAATA,CAAS,IAA4B,cAAA,OAATA,CAAnB,IAEvBA,CAAAA,KAASQ,CAFc,IAESR,CAAAA,KAASc,CAFlB,IAEgDd,CAAAA,KAASU,CAFzD,IAEgFV,CAAAA,KAASS,CAFzF,IAEmHT,CAAAA,KAASgB,CAF5H,IAEmK,YAAA,OAAThB,CAAS,IAAqB,SAATA,CAAZ,KAA8BA,CAAAA,CAAKD,QAALC,KAAkBkB,CAAlBlB,IAAqCA,CAAAA,CAAKD,QAALC,KAAkBiB,CAAvDjB,IAA0EA,CAAAA,CAAKD,QAALC,KAAkBW,CAA5FX,IAAmHA,CAAAA,CAAKD,QAALC,KAAkBY,CAArIZ,IAA2JA,CAAAA,CAAKD,QAALC,KAAkBe,CAA3M,CAF1L;AAEqYA,KA6JvYrC,EAeAA,CAAAA,CAAAA,WAAAA,GA7DA,UAAqB+D,CAArB,EAAqBA;AAOnB,aALOe,CAAAA,KACHA,CAAAA,GAAAA,CAAsC,CAAtCA,EA1EiB,UAAUtB,CAAV,EAAqBd,CAArB,EAAqBA;AACxC,YAAA,KAAee,CAAf,KAAIf,CAAJ,EACE,MAAM,IAAIY,KAAJ,CAAU,sFAAV,CAAN;;AAEF,YAAA,CAAKE,CAAL,EAAgB;AACd,eAAK,IAAIE,CAAAA,GAAQd,SAAAA,CAAUC,MAAtB,EAA8BC,CAAAA,GAAOC,KAAAA,CAAMW,CAAAA,GAAQ,CAARA,GAAYA,CAAAA,GAAQ,CAApBA,GAAwB,CAA9BX,CAArC,EAAuEY,CAAAA,GAAQ,CAApF,EAAuFA,CAAAA,GAAQD,CAA/F,EAAsGC,CAAAA,EAAtG,EACEb,CAAAA,CAAKa,CAAAA,GAAQ,CAAbb,CAAAA,GAAkBF,SAAAA,CAAUe,CAAVf,CAAlBE;;AAGFL,UAAAA,CAAAA,CAAamB,KAAbnB,CAAamB,KAAMH,CAAnBhB,EAA8B,CAACC,CAAD,EAASmB,MAAT,CAAgBf,CAAhB,CAA9BL;AAA8CK;AAkE9CiC,OA3EiB,CA2EjBA,CAAqB,CA3EJ,EA2EW,+KA3EX,CAyEdD,CAAAA,EAKAE,CAAAA,CAAiBjB,CAAjBiB,CAAAA,IAA4BlB,CAAAA,CAAOC,CAAPD,CAAAA,KAAmB3B,CAAtD;AAAsDA,KAuCxDnC,EAgBAA,CAAAA,CAAAA,gBAAAA,GAA2BgF,CAhB3BhF,EAiBAA,CAAAA,CAAAA,iBAAAA,GAnDA,UAA2B+D,CAA3B,EAA2BA;AACzB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmB5B,CAA1B;AAA0BA,KAiC5BlC,EAkBAA,CAAAA,CAAAA,iBAAAA,GAjDA,UAA2B+D,CAA3B,EAA2BA;AACzB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmB7B,CAA1B;AAA0BA,KA8B5BjC,EAmBAA,CAAAA,CAAAA,SAAAA,GA/CA,UAAmB+D,CAAnB,EAAmBA;AACjB,aAAyB,YAAA,OAAXA,CAAW,IAAuB,SAAXA,CAAZ,IAA+BA,CAAAA,CAAO1C,QAAP0C,KAAoBnC,CAA5E;AAA4EA,KA2B9E5B,EAoBAA,CAAAA,CAAAA,YAAAA,GA7CA,UAAsB+D,CAAtB,EAAsBA;AACpB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmBzB,CAA1B;AAA0BA,KAwB5BrC,EAqBAA,CAAAA,CAAAA,UAAAA,GA3CA,UAAoB+D,CAApB,EAAoBA;AAClB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmBhC,CAA1B;AAA0BA,KAqB5B9B,EAsBAA,CAAAA,CAAAA,MAAAA,GAzCA,UAAgB+D,CAAhB,EAAgBA;AACd,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmBtB,CAA1B;AAA0BA,KAkB5BxC,EAuBAA,CAAAA,CAAAA,MAAAA,GAvCA,UAAgB+D,CAAhB,EAAgBA;AACd,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmBvB,CAA1B;AAA0BA,KAe5BvC,EAwBAA,CAAAA,CAAAA,QAAAA,GArCA,UAAkB+D,CAAlB,EAAkBA;AAChB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmBjC,CAA1B;AAA0BA,KAY5B7B,EAyBAA,CAAAA,CAAAA,UAAAA,GAnCA,UAAoB+D,CAApB,EAAoBA;AAClB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmB9B,CAA1B;AAA0BA,KAS5BhC,EA0BAA,CAAAA,CAAAA,YAAAA,GAjCA,UAAsB+D,CAAtB,EAAsBA;AACpB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmB/B,CAA1B;AAA0BA,KAM5B/B,EA2BAA,CAAAA,CAAAA,UAAAA,GA/BA,UAAoB+D,CAApB,EAAoBA;AAClB,aAAOD,CAAAA,CAAOC,CAAPD,CAAAA,KAAmBxB,CAA1B;AAA0BA,KAG5BtC;AAvLE,GAAA,EAD2B;AAC3B,CDA2Ce,CAAAA;ACA3C,CAAA,CAAA,CAAA,CAAA;AAAA,IAAA,CAAA,GAAA,CAAA,CAAA,UAAA,CAAA,EAAA;ACXAkE,EAAAA,CAAAA,CAAAA,OAAAA,GAD2B,iBAAzBzD,OAAAA,CAAQC,GAARD,CAAYE,QAAa,GACVwD,CADU,GAGVC,CAFjBF;AAEiBE,CDSjB,CAAA;AAAA,IENEC,CAAAA,GAAwBtF,MAAAA,CAAOsF,qBFMjC;AAAA,IELEC,CAAAA,GAAiBvF,MAAAA,CAAOwF,SAAPxF,CAAiBuF,cFKpC;AAAA,IEJEE,CAAAA,GAAmBzF,MAAAA,CAAOwF,SAAPxF,CAAiB0F,oBFItC;;AEFF,SAASC,CAAT,CAAkBC,CAAlB,EAAkBA;AACjB,MAAIA,QAAAA,CAAJ,EACC,MAAM,IAAIC,SAAJ,CAAc,uDAAd,CAAN;AAGD,SAAO7F,MAAAA,CAAO4F,CAAP5F,CAAP;AA+CD;;AAAA,IAAA,CAAA,GA5CA,YAAA;AACC,MAAA;AACC,QAAA,CAAKA,MAAAA,CAAO8F,MAAZ,EACC,OAAA,CAAO,CAAP;AAMD,QAAIC,CAAAA,GAAQ,IAAIC,MAAJ,CAAW,KAAX,CAAZ;AAEA,QADAD,CAAAA,CAAM,CAANA,CAAAA,GAAW,IAAXA,EAC6C,QAAzC/F,MAAAA,CAAOiG,mBAAPjG,CAA2B+F,CAA3B/F,EAAkC,CAAlCA,CAAJ,EACC,OAAA,CAAO,CAAP;;AAKD,SADA,IAAIkG,CAAAA,GAAQ,EAAZ,EACSC,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI,EAApB,EAAwBA,CAAAA,EAAxB,EACCD,CAAAA,CAAM,MAAMF,MAAAA,CAAOI,YAAPJ,CAAoBG,CAApBH,CAAZE,CAAAA,GAAsCC,CAAtCD;;AAKD,QAAwB,iBAHXlG,MAAAA,CAAOiG,mBAAPjG,CAA2BkG,CAA3BlG,EAAkCqG,GAAlCrG,CAAsC,UAAUgB,CAAV,EAAUA;AAC5D,aAAOkF,CAAAA,CAAMlF,CAANkF,CAAP;AAAalF,KADDhB,EAGFsG,IAHEtG,CAGG,EAHHA,CAGb,EACC,OAAA,CAAO,CAAP;AAID,QAAIuG,CAAAA,GAAQ,EAAZ;AAIA,WAHA,uBAAuBC,KAAvB,CAA6B,EAA7B,EAAiCC,OAAjC,CAAyC,UAAUC,CAAV,EAAUA;AAClDH,MAAAA,CAAAA,CAAMG,CAANH,CAAAA,GAAgBG,CAAhBH;AAAgBG,KADjB,GAIE,2BADE1G,MAAAA,CAAO2G,IAAP3G,CAAYA,MAAAA,CAAO8F,MAAP9F,CAAc,EAAdA,EAAkBuG,CAAlBvG,CAAZA,EAAsCsG,IAAtCtG,CAA2C,EAA3CA,CAAJ;AAMC,GArCF,CAqCE,OAAO4G,CAAP,EAAOA;AAER,WAAA,CAAO,CAAP;AAAO;AAIQC,CA5CjB,KA4CqC7G,MAAAA,CAAO8F,MA5C5C,GA4CqD,UAAUgB,CAAV,EAAkBC,CAAlB,EAAkBA;AAKtE,OAJA,IAAIC,CAAJ,EAEIE,CAFJ,EACID,CAAAA,GAAKtB,CAAAA,CAASmB,CAATnB,CADT,EAISwB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIrE,SAAAA,CAAUC,MAA9B,EAAsCoE,CAAAA,EAAtC,EAA2C;AAG1C,SAAK,IAAIC,CAAT,IAFAJ,CAAAA,GAAOhH,MAAAA,CAAO8C,SAAAA,CAAUqE,CAAVrE,CAAP9C,CAEP,EACKuF,CAAAA,CAAe8B,IAAf9B,CAAoByB,CAApBzB,EAA0B6B,CAA1B7B,MACH0B,CAAAA,CAAGG,CAAHH,CAAAA,GAAUD,CAAAA,CAAKI,CAALJ,CADPzB;;AAKL,QAAID,CAAJ,EAA2B;AAC1B4B,MAAAA,CAAAA,GAAU5B,CAAAA,CAAsB0B,CAAtB1B,CAAV4B;;AACA,WAAK,IAAIf,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIe,CAAAA,CAAQnE,MAA5B,EAAoCoD,CAAAA,EAApC,EACKV,CAAAA,CAAiB4B,IAAjB5B,CAAsBuB,CAAtBvB,EAA4ByB,CAAAA,CAAQf,CAARe,CAA5BzB,MACHwB,CAAAA,CAAGC,CAAAA,CAAQf,CAARe,CAAHD,CAAAA,GAAiBD,CAAAA,CAAKE,CAAAA,CAAQf,CAARe,CAALF,CADdvB;AAC2BU;AAMlC;;AAAA,SAAOc,CAAP;AAAOA,CAxBR;AAAA,IAwBQA,CAAAA,GC/EmB,8CDuD3B;AAAA,IEvDItE,CAAAA,GAAe,YAAA,CAAA,CFuDnB;;AErDA,IAA6B,iBAAzBjB,OAAAA,CAAQC,GAARD,CAAYE,QAAhB,EAA2C;AACzC,MAAI0F,CAAAA,GAAuBlC,CAA3B;AAAA,MACImC,CAAAA,GAAqB,EADzB;AAAA,MAEIC,CAAAA,GAAMC,QAAAA,CAASJ,IAATI,CAAcC,IAAdD,CAAmBzH,MAAAA,CAAOwF,SAAPxF,CAAiBuF,cAApCkC,CAFV;;AAIA9E,EAAAA,CAAAA,GAAe,UAASgF,CAAT,EAASA;AACtB,QAAIvE,CAAAA,GAAU,cAAcuE,CAA5B;AACuB,mBAAA,OAAZrE,OAAY,IACrBA,OAAAA,CAAQsE,KAARtE,CAAcF,CAAdE,CADqB;;AAGvB,QAAA;AAIE,YAAM,IAAIE,KAAJ,CAAUJ,CAAV,CAAN;AACA,KALF,CAKE,OAAOK,CAAP,EAAOA,CAAAA;AAAAA,GAVXd;AAyBF;;AAAA,SAASkF,CAAT,CAAwBC,CAAxB,EAAmCC,CAAnC,EAA2CC,CAA3C,EAAqDC,CAArD,EAAoEC,CAApE,EAAoEA;AAClE,MAA6B,iBAAzBxG,OAAAA,CAAQC,GAARD,CAAYE,QAAhB,EACE,KAAK,IAAIuG,CAAT,IAAyBL,CAAzB,EACE,IAAIN,CAAAA,CAAIM,CAAJN,EAAeW,CAAfX,CAAJ,EAAkC;AAChC,QAAII,CAAJ;;AAIA,QAAA;AAGE,UAAuC,cAAA,OAA5BE,CAAAA,CAAUK,CAAVL,CAAX,EAAmD;AACjD,YAAIlB,CAAAA,GAAMpD,KAAAA,CAAAA,CACPyE,CAAAA,IAAiB,aADVzE,IAC2B,IAD3BA,GACkCwE,CADlCxE,GAC6C,SAD7CA,GACyD2E,CADzD3E,GACwE,4FADxEA,GACwE,OACQsE,CAAAA,CAAUK,CAAVL,CAFhFtE,GAE0G,IAF1GA,CAAV;AAKA,cADAoD,CAAAA,CAAIwB,IAAJxB,GAAW,qBAAXA,EACMA,CAAN;AAEFgB;;AAAAA,MAAAA,CAAAA,GAAQE,CAAAA,CAAUK,CAAVL,CAAAA,CAAwBC,CAAxBD,EAAgCK,CAAhCL,EAA8CG,CAA9CH,EAA6DE,CAA7DF,EAAuE,IAAvEA,EAA6ER,CAA7EQ,CAARF;AACA,KAZF,CAYE,OAAOS,CAAP,EAAOA;AACPT,MAAAA,CAAAA,GAAQS,CAART;AAYF;;AAAA,QAAA,CAVIA,CAUJ,IAVeA,CAAAA,YAAiBpE,KAUhC,IATEb,CAAAA,CAAAA,CACGsF,CAAAA,IAAiB,aADpBtF,IACqC,0BADrCA,GAEEqF,CAFFrF,GAEa,IAFbA,GAEoBwF,CAFpBxF,GAEmC,0FAFnCA,GAEmC,OACoCiF,CAHvEjF,GAG+E,gKAH/EA,CASF,EAAIiF,CAAAA,YAAiBpE,KAAjBoE,IAAiBpE,EAAWoE,CAAAA,CAAMxE,OAANwE,IAAiBL,CAA5B/D,CAArB,EAAsE;AAGpE+D,MAAAA,CAAAA,CAAmBK,CAAAA,CAAMxE,OAAzBmE,CAAAA,GAAyBnE,CAAW,CAApCmE;AAEA,UAAIe,CAAAA,GAAQJ,CAAAA,GAAWA,CAAAA,EAAXA,GAAwB,EAApC;AAEAvF,MAAAA,CAAAA,CACE,YAAYqF,CAAZ,GAAuB,SAAvB,GAAmCJ,CAAAA,CAAMxE,OAAzC,IAA6D,QAATkF,CAAS,GAAOA,CAAP,GAAe,EAA5E,CADF3F,CAAAA;AAC8E;AAAA;AAaxFkF;;AAAAA,CAAAA,CAAeU,iBAAfV,GAAmC,YAAA;AACJ,mBAAzBnG,OAAAA,CAAQC,GAARD,CAAYE,QAAa,KAC3B2F,CAAAA,GAAqB,EADM;AACN,CAFzBM;;AAMA,IAAA,CAAA,GAAiBA,CAAjB;AAAA,ICtFIL,CAAAA,GAAMC,QAAAA,CAASJ,IAATI,CAAcC,IAAdD,CAAmBzH,MAAAA,CAAOwF,SAAPxF,CAAiBuF,cAApCkC,CDsFV;AAAA,ICrFI9E,CAAAA,GAAe,YAAA,CAAA,CDqFnB;;ACpEA,SAAS6F,CAAT,GAASA;AACP,SAAO,IAAP;ACvBF;;AAAA,SAAS4E,CAAT,GAASA,CACT;;AAAA,SAASC,CAAT,GAASA,CDMoB;;AAAA,iBAAzB3L,OAAAA,CAAQC,GAARD,CAAYE,QAAa,KAC3Be,CAAAA,GAAe,UAASgF,CAAT,EAASA;AACtB,MAAIvE,CAAAA,GAAU,cAAcuE,CAA5B;AACuB,iBAAA,OAAZrE,OAAY,IACrBA,OAAAA,CAAQsE,KAARtE,CAAcF,CAAdE,CADqB;;AAGvB,MAAA;AAIE,UAAM,IAAIE,KAAJ,CAAUJ,CAAV,CAAN;AACA,GALF,CAKE,OAAOK,CAAP,EAAOA,CAAAA;AAAAA,CAXgB,GCL7B4J,CAAAA,CAAuB9E,iBAAvB8E,GAA2CD,CDKd;;ACH7B,IAAA,CAAA,GAAA,CAAA,CAAA,UAAA,CAAA,EAAA;ACFEjI,EAAAA,CAAAA,CAAAA,OAAAA,GAN2B,iBAAzBzD,OAAAA,CAAQC,GAARD,CAAYE,QAAa,GF8BZ,UAAS6G,CAAT,EAAyBC,CAAzB,EAAyBA;AAExC,QAAIC,CAAAA,GAAoC,cAAA,OAAXtI,MAAW,IAAcA,MAAAA,CAAOuI,QAA7D;AAAA,QACIC,CAAAA,GAAuB,YAD3B;AAAA,QAuEIG,CAAAA,GAAY,eAvEhB;AAAA,QA2EIC,CAAAA,GAAiB;AACnBC,MAAAA,KAAAA,EAAOC,CAAAA,CAA2B,OAA3BA,CADY;AAEnBC,MAAAA,IAAAA,EAAMD,CAAAA,CAA2B,SAA3BA,CAFa;AAGnBE,MAAAA,IAAAA,EAAMF,CAAAA,CAA2B,UAA3BA,CAHa;AAInBG,MAAAA,MAAAA,EAAQH,CAAAA,CAA2B,QAA3BA,CAJW;AAKnBlF,MAAAA,MAAAA,EAAQkF,CAAAA,CAA2B,QAA3BA,CALW;AAMnBI,MAAAA,MAAAA,EAAQJ,CAAAA,CAA2B,QAA3BA,CANW;AAOnBK,MAAAA,MAAAA,EAAQL,CAAAA,CAA2B,QAA3BA,CAPW;AASnBM,MAAAA,GAAAA,EAyHOe,CAAAA,CAA2BhC,CAA3BgC,CAlIY;AAUnBd,MAAAA,OAAAA,EA2HF,UAAkC8B,CAAlC,EAAkCA;AAkBhC,eAAOhB,CAAAA,CAjBP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,cAA2B,cAAA,OAAhBQ,CAAX,EACE,OAAO,IAAIlB,CAAJ,CAAkB,eAAeU,CAAf,GAA8B,kBAA9B,GAAmD/C,CAAnD,GAAmE,iDAArF,CAAP;AAEF,cAAIoD,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AACA,cAAA,CAAK7H,KAAAA,CAAMwI,OAANxI,CAAcoI,CAAdpI,CAAL,EAEE,OAAO,IAAIqH,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GADVM,CAAAA,CAAYD,CAAZC,CACU,GAA+E,iBAA/E,GAAmGrD,CAAnG,GAAmH,uBAArI,CAAP;;AAEF,eAAK,IAAI9B,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIkF,CAAAA,CAAUtI,MAA9B,EAAsCoD,CAAAA,EAAtC,EAA2C;AACzC,gBAAIyB,CAAAA,GAAQ4D,CAAAA,CAAYH,CAAZG,EAAuBrF,CAAvBqF,EAA0BvD,CAA1BuD,EAAyCxD,CAAzCwD,EAAmDR,CAAAA,GAAe,GAAfA,GAAqB7E,CAArB6E,GAAyB,GAA5EQ,EAAiFlE,CAAjFkE,CAAZ;AACA,gBAAI5D,CAAAA,YAAiBpE,KAArB,EACE,OAAOoE,CAAP;AAGJ;;AAAA,iBAAO,IAAP;AAAO,SAEF4C,CAAP;AAFS,OArJU;AAWnBb,MAAAA,OAAAA,EAwJOa,CAAAA,CARP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,YAAIK,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AACA,eAAKrC,CAAAA,CAAe4C,CAAf5C,CAAAA,GAIE,IAJFA,GAEI,IAAI6B,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GADVM,CAAAA,CAAYD,CAAZC,CACU,GAA+E,iBAA/E,GAAmGrD,CAAnG,GAAmH,oCAArI,CAFT;AAE8I,OAIzIuC,CAnKY;AAYnBZ,MAAAA,WAAAA,EAmKOY,CAAAA,CARP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,YAAIK,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AACA,eAAKY,CAAAA,CAAQC,kBAARD,CAA2BL,CAA3BK,IAIE,IAJFA,GAEI,IAAIpB,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GADVM,CAAAA,CAAYD,CAAZC,CACU,GAA+E,iBAA/E,GAAmGrD,CAAnG,GAAmH,yCAArI,CAFT;AAE8I,OAIzIuC,CA/KY;AAanBX,MAAAA,UAAAA,EAqKF,UAAmC+B,CAAnC,EAAmCA;AASjC,eAAOpB,CAAAA,CARP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAExD,cA2RgBK,CA3RhB;AADF,iBAAMP,CAAAA,CAAMC,CAAND,CAAAA,YAA2Bc,CAA3Bd,GAKC,IALDA,GAGG,IAAIR,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,IAA8C,CAyRvDK,CAAAA,GA1RmBP,CAAAA,CAAMC,CAAND,CACoC,EA0R5DoC,WA1R4D,IA0R5C7B,CAAAA,CAAU6B,WAAV7B,CAAsBjD,IA1RsB,GA6RpEiD,CAAAA,CAAU6B,WAAV7B,CAAsBjD,IA7R8C,GA2RlEY,CA3RoB,IAAsF,iBAAtF,GAA0Gf,CAA1G,GAA0H,2BAA1H,IAFD2D,CAAAA,CAAcxD,IAAdwD,IAAsB5C,CAErB,IAAmL,IAArM,CAHT;AAG8M,SAIzMwB,CAAP;AAJgN,OAvL7L;AAcnBV,MAAAA,IAAAA,EA+QOU,CAAAA,CANP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,eAAKqB,CAAAA,CAAOvB,CAAAA,CAAMC,CAAND,CAAPuB,CAAAA,GAGE,IAHFA,GACI,IAAI/B,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,iBAA9C,GAAwE/C,CAAxE,GAAwF,0BAA1G,CADT;AACmH,OAI9GuC,CA7RY;AAenBT,MAAAA,QAAAA,EAkNF,UAAmCyB,CAAnC,EAAmCA;AAoBjC,eAAOhB,CAAAA,CAnBP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,cAA2B,cAAA,OAAhBQ,CAAX,EACE,OAAO,IAAIlB,CAAJ,CAAkB,eAAeU,CAAf,GAA8B,kBAA9B,GAAmD/C,CAAnD,GAAmE,kDAArF,CAAP;AAEF,cAAIoD,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AAAA,cACImB,CAAAA,GAAWX,CAAAA,CAAYD,CAAZC,CADf;AAEA,cAAiB,aAAbW,CAAJ,EACE,OAAO,IAAI3B,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GAAoEiB,CAApE,GAA+E,iBAA/E,GAAmGhE,CAAnG,GAAmH,wBAArI,CAAP;;AAEF,eAAK,IAAIb,CAAT,IAAgBiE,CAAhB,EACE,IAAI7D,CAAAA,CAAI6D,CAAJ7D,EAAeJ,CAAfI,CAAJ,EAAyB;AACvB,gBAAII,CAAAA,GAAQ4D,CAAAA,CAAYH,CAAZG,EAAuBpE,CAAvBoE,EAA4BvD,CAA5BuD,EAA2CxD,CAA3CwD,EAAqDR,CAAAA,GAAe,GAAfA,GAAqB5D,CAA1EoE,EAA+ElE,CAA/EkE,CAAZ;AACA,gBAAI5D,CAAAA,YAAiBpE,KAArB,EACE,OAAOoE,CAAP;AAIN;;AAAA,iBAAO,IAAP;AAAO,SAEF4C,CAAP;AAFS,OAnPU;AAgBnBR,MAAAA,KAAAA,EA8KF,UAA+B6B,CAA/B,EAA+BA;AAC7B,eAAK5I,KAAAA,CAAMwI,OAANxI,CAAc4I,CAAd5I,IA+BEuH,CAAAA,CAjBP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAE1D,eADA,IAAIK,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB,EACS3E,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI0F,CAAAA,CAAe9I,MAAnC,EAA2CoD,CAAAA,EAA3C,EACE,IAAIiE,CAAAA,CAAGiB,CAAHjB,EAAcyB,CAAAA,CAAe1F,CAAf0F,CAAdzB,CAAJ,EACE,OAAO,IAAP;;AAIJ,cAAI0B,CAAAA,GAAeC,IAAAA,CAAKC,SAALD,CAAeF,CAAfE,EAA+B,UAAkB3E,CAAlB,EAAuBjH,CAAvB,EAAuBA;AAEvE,mBAAa,aADFoL,CAAAA,CAAepL,CAAfoL,CACE,GACJvF,MAAAA,CAAO7F,CAAP6F,CADI,GAGN7F,CAHP;AAGOA,WALU4L,CAAnB;AAOA,iBAAO,IAAIzB,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,cAA9C,GAA+DhF,MAAAA,CAAOqF,CAAPrF,CAA/D,GAAmF,iBAAnF,GAA6GiC,CAA7G,GAA6H,qBAA7H,GAAqJ6D,CAArJ,GAAoK,GAAtL,CAAP;AAA6L,SAExLtB,CA/BFvH,IAC0B,iBAAzBvB,OAAAA,CAAQC,GAARD,CAAYE,QAAa,IAEzBe,CAAAA,CADEG,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,GAEA,iEAAiEA,SAAAA,CAAUC,MAA3E,GAAoF,sFAFpFD,GAMW,wDALbH,CAFyB,EAUtB6F,CAXJvF,CAAL;AAWSuF,OA1MU;AAiBnByB,MAAAA,SAAAA,EAuOF,UAAgCiC,CAAhC,EAAgCA;AAC9B,YAAA,CAAKjJ,KAAAA,CAAMwI,OAANxI,CAAciJ,CAAdjJ,CAAL,EAEE,OADyB,iBAAzBvB,OAAAA,CAAQC,GAARD,CAAYE,QAAa,IAAee,CAAAA,CAAa,wEAAbA,CAAf,EAClB6F,CAAP;;AAGF,aAAK,IAAIrC,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI+F,CAAAA,CAAoBnJ,MAAxC,EAAgDoD,CAAAA,EAAhD,EAAqD;AACnD,cAAIgG,CAAAA,GAAUD,CAAAA,CAAoB/F,CAApB+F,CAAd;AACA,cAAuB,cAAA,OAAZC,CAAX,EAKE,OAJAxJ,CAAAA,CACE,gGACcyJ,CAAAA,CAAyBD,CAAzBC,CADd,GACkD,YADlD,GACiEjG,CADjE,GACqE,GAFvExD,CAAAA,EAIO6F,CAAP;AAcJ;;AAAA,eAAOgC,CAAAA,CAVP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,eAAK,IAAI7E,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI+F,CAAAA,CAAoBnJ,MAAxC,EAAgDoD,CAAAA,EAAhD,EAEE,IAA6F,QAAA,CAAzFgG,GADUD,CAAAA,CAAoB/F,CAApB+F,CAC+E,EAAjFpB,CAAiF,EAA1EC,CAA0E,EAAhE9C,CAAgE,EAAjDD,CAAiD,EAAvCgD,CAAuC,EAAzB1D,CAAyB,CAA7F,EACE,OAAO,IAAP;;AAIJ,iBAAO,IAAIgD,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,iBAA9C,GAAwE/C,CAAxE,GAAwF,IAA1G,CAAP;AAAiH,SAE5GuC,CAAP;AAFmH,OAjRhG;AAkBnBN,MAAAA,KAAAA,EA8QF,UAAgCoC,CAAhC,EAAgCA;AAmB9B,eAAO9B,CAAAA,CAlBP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,cAAIK,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AAAA,cACImB,CAAAA,GAAWX,CAAAA,CAAYD,CAAZC,CADf;AAEA,cAAiB,aAAbW,CAAJ,EACE,OAAO,IAAI3B,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GAA8DiB,CAA9D,GAAyE,iBAAzE,GAAmGhE,CAAnG,GAAmH,uBAArI,CAAP;;AAEF,eAAK,IAAIb,CAAT,IAAgBkF,CAAhB,EAA4B;AAC1B,gBAAIH,CAAAA,GAAUG,CAAAA,CAAWlF,CAAXkF,CAAd;;AACA,gBAAKH,CAAL,EAAA;AAGA,kBAAIvE,CAAAA,GAAQuE,CAAAA,CAAQd,CAARc,EAAmB/E,CAAnB+E,EAAwBlE,CAAxBkE,EAAuCnE,CAAvCmE,EAAiDnB,CAAAA,GAAe,GAAfA,GAAqB5D,CAAtE+E,EAA2E7E,CAA3E6E,CAAZ;AACA,kBAAIvE,CAAJ,EACE,OAAOA,CAAP;AAAOA;AAGX;;AAAA,iBAAO,IAAP;AAAO,SAEF4C,CAAP;AAFS,OAjTU;AAmBnBL,MAAAA,KAAAA,EAmSF,UAAsCmC,CAAtC,EAAsCA;AA2BpC,eAAO9B,CAAAA,CA1BP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA4DA;AAC1D,cAAIK,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AAAA,cACImB,CAAAA,GAAWX,CAAAA,CAAYD,CAAZC,CADf;AAEA,cAAiB,aAAbW,CAAJ,EACE,OAAO,IAAI3B,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GAA8DiB,CAA9D,GAAyE,iBAAzE,GAAmGhE,CAAnG,GAAmH,uBAArI,CAAP;AAIF,cAAIsE,CAAAA,GAAUzG,CAAAA,CAAO,EAAPA,EAAWgF,CAAAA,CAAMC,CAAND,CAAXhF,EAA4BwG,CAA5BxG,CAAd;;AACA,eAAK,IAAIsB,CAAT,IAAgBmF,CAAhB,EAAyB;AACvB,gBAAIJ,CAAAA,GAAUG,CAAAA,CAAWlF,CAAXkF,CAAd;AACA,gBAAA,CAAKH,CAAL,EACE,OAAO,IAAI7B,CAAJ,CACL,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,SAA9C,GAA0D5D,CAA1D,GAAgE,iBAAhE,GAAoFa,CAApF,GAAoG,kBAApG,GACmB8D,IAAAA,CAAKC,SAALD,CAAejB,CAAAA,CAAMC,CAAND,CAAfiB,EAAgC,IAAhCA,EAAsC,IAAtCA,CADnB,GAEA,gBAFA,GAEoBA,IAAAA,CAAKC,SAALD,CAAe/L,MAAAA,CAAO2G,IAAP3G,CAAYsM,CAAZtM,CAAf+L,EAAwC,IAAxCA,EAA8C,IAA9CA,CAHf,CAAP;AAMF,gBAAInE,CAAAA,GAAQuE,CAAAA,CAAQd,CAARc,EAAmB/E,CAAnB+E,EAAwBlE,CAAxBkE,EAAuCnE,CAAvCmE,EAAiDnB,CAAAA,GAAe,GAAfA,GAAqB5D,CAAtE+E,EAA2E7E,CAA3E6E,CAAZ;AACA,gBAAIvE,CAAJ,EACE,OAAOA,CAAP;AAGJ;;AAAA,iBAAO,IAAP;AAAO,SAGF4C,CAAP;AAHS;AA9UU,KA3ErB;;AAsGA,aAASJ,CAAT,CAAY3G,CAAZ,EAAe4G,CAAf,EAAeA;AAEb,aAAI5G,CAAAA,KAAM4G,CAAN5G,GAGW,MAANA,CAAM,IAAK,IAAIA,CAAJ,IAAU,IAAI4G,CAH9B5G,GAMKA,CAAAA,IAAMA,CAANA,IAAW4G,CAAAA,IAAMA,CAN1B;AAkBF;;AAAA,aAASC,CAAT,CAAuBlH,CAAvB,EAAuBA;AACrBmH,WAAKnH,OAALmH,GAAenH,CAAfmH,EACAA,KAAKjC,KAALiC,GAAa,EADbA;AAMF;;AAAA,aAASC,CAAT,CAAoCC,CAApC,EAAoCA;AAClC,UAA6B,iBAAzB/I,OAAAA,CAAQC,GAARD,CAAYE,QAAhB,EACE,IAAI8I,CAAAA,GAA0B,EAA9B;AAAA,UACIC,CAAAA,GAA6B,CADjC;;AAGF,eAASC,CAAT,CAAmBC,CAAnB,EAA+BC,CAA/B,EAAsCC,CAAtC,EAAgD9C,CAAhD,EAA+DD,CAA/D,EAAyEgD,CAAzE,EAAuFC,CAAvF,EAAuFA;AAIrF,YAHAhD,CAAAA,GAAgBA,CAAAA,IAAiBe,CAAjCf,EACA+C,CAAAA,GAAeA,CAAAA,IAAgBD,CAD/B9C,EAGIgD,CAAAA,KAAW3D,CAAf,EAAqC;AACnC,cAAIoB,CAAJ,EAAyB;AAEvB,gBAAI9B,CAAAA,GAAM,IAAIpD,KAAJ,CACR,mLADQ,CAAV;AAMA,kBADAoD,CAAAA,CAAIwB,IAAJxB,GAAW,qBAAXA,EACMA,CAAN;AACK;;AAAA,cAA6B,iBAAzBlF,OAAAA,CAAQC,GAARD,CAAYE,QAAa,IAAmC,eAAA,OAAZ0B,OAApD,EAA6E;AAElF,gBAAI4H,CAAAA,GAAWjD,CAAAA,GAAgB,GAAhBA,GAAsB8C,CAArC;AAAqCA,aAElCL,CAAAA,CAAwBQ,CAAxBR,CAFkCK,IAInCJ,CAAAA,GAA6B,CAJMI,KAMnCpI,CAAAA,CACE,6EACuBqI,CADvB,GACsC,aADtC,GACsD/C,CADtD,GACuE,sNAFzEtF,CAAAA,EAOA+H,CAAAA,CAAwBQ,CAAxBR,CAAAA,GAAwBQ,CAAY,CAPpCvI,EAQAgI,CAAAA,EAdmCI;AAcnCJ;AAIN;;AAAA,eAAuB,QAAnBG,CAAAA,CAAMC,CAAND,CAAmB,GACjBD,CAAAA,GAEO,IAAIP,CAAJ,CADe,SAApBQ,CAAAA,CAAMC,CAAND,CAAoB,GACG,SAAS9C,CAAT,GAAoB,IAApB,GAA2BgD,CAA3B,GAA0C,8BAA1C,GAAiF/C,CAAjF,GAAiG,6BADpG,GAGC,SAASD,CAAT,GAAoB,IAApB,GAA2BgD,CAA3B,GAA0C,8BAA1C,GAAiF/C,CAAjF,GAAiG,kCAFjH,CAFP4C,GAMG,IAPc,GASdJ,CAAAA,CAASK,CAATL,EAAgBM,CAAhBN,EAA0BxC,CAA1BwC,EAAyCzC,CAAzCyC,EAAmDO,CAAnDP,CATT;AAaF;;AAAA,UAAIU,CAAAA,GAAmBP,CAAAA,CAAUlD,IAAVkD,CAAe,IAAfA,EAAe,CAAM,CAArBA,CAAvB;AAGA,aAFAO,CAAAA,CAAiBN,UAAjBM,GAA8BP,CAAAA,CAAUlD,IAAVkD,CAAe,IAAfA,EAAe,CAAM,CAArBA,CAA9BO,EAEOA,CAAP;AAGF;;AAAA,aAAShC,CAAT,CAAoCiC,CAApC,EAAoCA;AAclC,aAAOZ,CAAAA,CAbP,UAAkBM,CAAlB,EAAyBC,CAAzB,EAAmC9C,CAAnC,EAAkDD,CAAlD,EAA4DgD,CAA5D,EAA0EC,CAA1E,EAA0EA;AACxE,YAAII,CAAAA,GAAYP,CAAAA,CAAMC,CAAND,CAAhB;AAEA,eADeQ,CAAAA,CAAYD,CAAZC,CAAAA,KACEF,CADFE,GAON,IAAIhB,CAAJ,CAAkB,aAAatC,CAAb,GAAwB,IAAxB,GAA+BgD,CAA/B,GAA8C,aAA9C,GAFPO,CAAAA,CAAeF,CAAfE,CAEO,GAAkF,iBAAlF,GAAsGtD,CAAtG,GAAsH,eAAtH,GAA+ImD,CAA/I,GAA8J,IAAhL,CAPME,GASR,IARP;AAQO,OAEFd,CAAP;AAsNF;;AAAA,aAAS6B,CAAT,CAAgBhB,CAAhB,EAAgBA;AACd,cAAA,OAAeA,CAAf;AACE,aAAK,QAAL;AACA,aAAK,QAAL;AACA,aAAK,WAAL;AACE,iBAAA,CAAO,CAAP;;AACF,aAAK,SAAL;AACE,iBAAA,CAAQA,CAAR;;AACF,aAAK,QAAL;AACE,cAAIpI,KAAAA,CAAMwI,OAANxI,CAAcoI,CAAdpI,CAAJ,EACE,OAAOoI,CAAAA,CAAUmB,KAAVnB,CAAgBgB,CAAhBhB,CAAP;AAEF,cAAkB,SAAdA,CAAc,IAAQ5C,CAAAA,CAAe4C,CAAf5C,CAA1B,EACE,OAAA,CAAO,CAAP;;AAGF,cAAIM,CAAAA,GA9ZV,UAAuBD,CAAvB,EAAuBA;AACrB,gBAAIC,CAAAA,GA6Z+BsC,CAAAA,KA7ZA1C,CAAAA,IA6ZA0C,CAAAA,CA7ZiC1C,CA6ZjC0C,CA7ZA1C,IA6ZA0C,CAAAA,CA7ZmExC,CA6ZnEwC,CAAAA,CA7ZnC;AACA,gBAA0B,cAAA,OAAftC,CAAX,EACE,OAAOA,CAAP;AA2ZmB0D,WA9ZvB,EA8ZM;;AACA,cAAA,CAAI1D,CAAJ,EAqBE,OAAA,CAAO,CAAP;AApBA,cACI2D,CADJ;AAAA,cAAI9D,CAAAA,GAAWG,CAAAA,CAAW1B,IAAX0B,CAAgBsC,CAAhBtC,CAAf;;AAEA,cAAIA,CAAAA,KAAesC,CAAAA,CAAUsB,OAA7B,EAA6BA;AAC3B,mBAAA,CAAA,CAASD,CAAAA,GAAO9D,CAAAA,CAASgE,IAAThE,EAAhB,EAAiCiE,IAAjC,GACE,IAAA,CAAKR,CAAAA,CAAOK,CAAAA,CAAKvM,KAAZkM,CAAL,EACE,OAAA,CAAO,CAAP;AAAO,WAHb,MAQE,OAAA,CAAA,CAASK,CAAAA,GAAO9D,CAAAA,CAASgE,IAAThE,EAAhB,EAAiCiE,IAAjC,GAAuC;AACrC,gBAAIC,CAAAA,GAAQJ,CAAAA,CAAKvM,KAAjB;AACA,gBAAI2M,CAAAA,IAAAA,CACGT,CAAAA,CAAOS,CAAAA,CAAM,CAANA,CAAPT,CADP,EAEI,OAAA,CAAO,CAAP;AASV;;AAAA,iBAAA,CAAO,CAAP;;AACF;AACE,iBAAA,CAAO,CAAP;AA1CJ;AAuEF;;AAAA,aAASf,CAAT,CAAqBD,CAArB,EAAqBA;AACnB,UAAIY,CAAAA,GAAAA,OAAkBZ,CAAtB;AACA,aAAIpI,KAAAA,CAAMwI,OAANxI,CAAcoI,CAAdpI,IACK,OADLA,GAGAoI,CAAAA,YAAqB0B,MAArB1B,GAIK,QAJLA,GA9BN,UAAkBY,CAAlB,EAA4BZ,CAA5B,EAA4BA;AAE1B,eAAiB,aAAbY,CAAa,IAAbA,CAAAA,CAKCZ,CALDY,KAU+B,aAA/BZ,CAAAA,CAAU,eAAVA,CAA+B,IAKb,cAAA,OAAXhL,MAAW,IAAcgL,CAAAA,YAAqBhL,MAfrD4L,CAAJ;AAkCIe,OApCN,CAoCef,CApCf,EAoCyBZ,CApCzB,IAqCW,QArCX,GAuCSY,CAZP;AAiBF;;AAAA,aAASV,CAAT,CAAwBF,CAAxB,EAAwBA;AACtB,UAAI,QAAOA,CAAX,EACE,OAAO,KAAKA,CAAZ;AAEF,UAAIY,CAAAA,GAAWX,CAAAA,CAAYD,CAAZC,CAAf;;AACA,UAAiB,aAAbW,CAAJ,EAA2B;AACzB,YAAIZ,CAAAA,YAAqB4B,IAAzB,EACE,OAAO,MAAP;AACK,YAAI5B,CAAAA,YAAqB0B,MAAzB,EACL,OAAO,QAAP;AAGJ;;AAAA,aAAOd,CAAP;AAKF;;AAAA,aAASG,CAAT,CAAkCjM,CAAlC,EAAkCA;AAChC,UAAIqB,CAAAA,GAAO+J,CAAAA,CAAepL,CAAfoL,CAAX;;AACA,cAAQ/J,CAAR;AACE,aAAK,OAAL;AACA,aAAK,QAAL;AACE,iBAAO,QAAQA,CAAf;;AACF,aAAK,SAAL;AACA,aAAK,MAAL;AACA,aAAK,QAAL;AACE,iBAAO,OAAOA,CAAd;;AACF;AACE,iBAAOA,CAAP;AATJ;AAyBF;;AAAA,WAvaA8I,CAAAA,CAAc9E,SAAd8E,GAA0B9G,KAAAA,CAAMgC,SAAhC8E,EAmaArB,CAAAA,CAAepB,cAAfoB,GAAgCpB,CAnahCyC,EAoaArB,CAAAA,CAAeV,iBAAfU,GAAmCpB,CAAAA,CAAeU,iBApalD+B,EAqaArB,CAAAA,CAAekE,SAAflE,GAA2BA,CAra3BqB,EAuaOrB,CAAP;AEhkBiB5D,GFwBF,CE7BDD,CAAAA,CAKgDoI,SFwB/C,EExB+CA,CADpC,CFyBX,CE9BY,GDQZ,YAAA;AACf,aAASF,CAAT,CAAcxC,CAAd,EAAqBC,CAArB,EAA+B9C,CAA/B,EAA8CD,CAA9C,EAAwDgD,CAAxD,EAAsEC,CAAtE,EAAsEA;AACpE,UAAIA,CAAAA,KAAW3D,CAAf,EAAA;AAIA,YAAIV,CAAAA,GAAM,IAAIpD,KAAJ,CACR,iLADQ,CAAV;AAMA,cADAoD,CAAAA,CAAIwB,IAAJxB,GAAW,qBAAXA,EACMA,CAAN;AAAMA;AAGR;;AAAA,aAAS2G,CAAT,GAASA;AACP,aAAOD,CAAP;AAFFA;;AAAAA,IAAAA,CAAAA,CAAKzC,UAALyC,GAAkBA,CAAlBA;AAMA,QAAIrE,CAAAA,GAAiB;AACnBC,MAAAA,KAAAA,EAAOoE,CADY;AAEnBlE,MAAAA,IAAAA,EAAMkE,CAFa;AAGnBjE,MAAAA,IAAAA,EAAMiE,CAHa;AAInBhE,MAAAA,MAAAA,EAAQgE,CAJW;AAKnBrJ,MAAAA,MAAAA,EAAQqJ,CALW;AAMnB/D,MAAAA,MAAAA,EAAQ+D,CANW;AAOnB9D,MAAAA,MAAAA,EAAQ8D,CAPW;AASnB7D,MAAAA,GAAAA,EAAK6D,CATc;AAUnB5D,MAAAA,OAAAA,EAAS6D,CAVU;AAWnB5D,MAAAA,OAAAA,EAAS2D,CAXU;AAYnB1D,MAAAA,WAAAA,EAAa0D,CAZM;AAanBzD,MAAAA,UAAAA,EAAY0D,CAbO;AAcnBzD,MAAAA,IAAAA,EAAMwD,CAda;AAenBvD,MAAAA,QAAAA,EAAUwD,CAfS;AAgBnBvD,MAAAA,KAAAA,EAAOuD,CAhBY;AAiBnBtD,MAAAA,SAAAA,EAAWsD,CAjBQ;AAkBnBrD,MAAAA,KAAAA,EAAOqD,CAlBY;AAmBnBpD,MAAAA,KAAAA,EAAOoD,CAnBY;AAqBnB1F,MAAAA,cAAAA,EAAgBwF,CArBG;AAsBnB9E,MAAAA,iBAAAA,EAAmB6E;AAtBA,KAArB;AA2BA,WAFAnE,CAAAA,CAAekE,SAAflE,GAA2BA,CAA3BA,EAEOA,CAAP;AC7CiBwE,GDFF,ECFftI;AAIiBsI,CDFnB,CAAA;AAAA,ICEmBA,CAAAA,GCbnB,YAAA;AAGI,OAFA,IAAI3G,CAAAA,GAAS,EAAb,EAESX,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIrD,SAAAA,CAAUC,MAA9B,EAAsCoD,CAAAA,EAAtC,EAA2C;AACvC,QAAIY,CAAAA,GAASjE,SAAAA,CAAUqD,CAAVrD,CAAb;;AAEA,SAAK,IAAIsE,CAAT,IAAgBL,CAAhB,EACQxB,CAAAA,CAAe8B,IAAf9B,CAAoBwB,CAApBxB,EAA4B6B,CAA5B7B,MACAuB,CAAAA,CAAOM,CAAPN,CAAAA,GAAcC,CAAAA,CAAOK,CAAPL,CADdxB;AAMZ;;AAAA,SAAOuB,CAAP;AAAOA,CFFX;AAAA,IEbIvB,CAAAA,GAAiBvF,MAAAA,CAAOwF,SAAPxF,CAAiBuF,cFatC;AAAA,IEbsCA,CAAAA,GAAAA,CAAAA,CAAAA,UAAAA,CAAAA,EAAAA,CAAAA,EAAAA;AAAAA,GCMrC,YAAA;AAID,QAAImI,CAAAA,GAAQ,EAAZ;AAIEvI,IAAAA,CAAAA,CAAAA,OAAAA,GAAiBuI,CAAjBvI,EAOFuI,CAAAA,CAAMC,YAAND,GAAqB,UAASE,CAAT,EAAkB1E,CAAlB,EAAkBA;AACrC,aAAOA,CAAAA,CAAM2E,MAAN3E,CAAa,UAAS4E,CAAT,EAASA;AAC3B,eAAOJ,CAAAA,CAAMK,IAANL,CAAWE,CAAXF,EAAoBI,CAApBJ,CAAP;AAA2BI,OADtB5E,CAAP;AAC6B4E,KAT7B3I,EAcFuI,CAAAA,CAAMK,IAANL,GAAa,UAASE,CAAT,EAAkBE,CAAlB,EAAkBA;AAC7B,aAAqC,SAA9BJ,CAAAA,CAAMM,KAANN,CAAYE,CAAZF,EAAqBI,CAArBJ,CAAP;AAA4BI,KAf5B3I,EAoBFuI,CAAAA,CAAMM,KAANN,GAAc,UAASE,CAAT,EAAkBE,CAAlB,EAAuBG,CAAvB,EAAuBA;AAEnC,UAYIW,CAZJ;AAAA,UAAIV,CAAAA,GAAa,CAAjB;AAAA,UACIC,CAAAA,GAAS,EADb;AAAA,UAEIC,CAAAA,GAAMN,CAAAA,CAAI/K,MAFd;AAAA,UAGIsL,CAAAA,GAAa,CAHjB;AAAA,UAIIC,CAAAA,GAAY,CAJhB;AAAA,UAMIC,CAAAA,GAAAA,CAPJN,CAAAA,GAAOA,CAAAA,IAAQ,EAOXM,EAAWA,GAAXA,IAAkB,EANtB;AAAA,UAQIC,CAAAA,GAAOP,CAAAA,CAAKO,IAALP,IAAa,EARxB;AAAA,UAWIQ,CAAAA,GAAiBR,CAAAA,CAAKS,aAALT,IAAsBH,CAAtBG,IAA6BH,CAAAA,CAAIa,WAAJb,EAXlD;AAcAF,MAAAA,CAAAA,GAAUK,CAAAA,CAAKS,aAALT,IAAsBL,CAAtBK,IAAiCL,CAAAA,CAAQe,WAARf,EAA3CA;;AAIA,WAAI,IAAIiB,CAAAA,GAAM,CAAd,EAAiBA,CAAAA,GAAMT,CAAvB,EAA4BS,CAAAA,EAA5B,EACED,CAAAA,GAAKd,CAAAA,CAAIe,CAAJf,CAALc,EACGH,CAAAA,CAAcI,CAAdJ,CAAAA,KAAuBb,CAAAA,CAAQM,CAARN,CAAvBa,IACDG,CAAAA,GAAKL,CAAAA,GAAMK,CAANL,GAAWC,CAAhBI,EACAV,CAAAA,IAAc,CADdU,EAIAN,CAAAA,IAAa,IAAIA,CALhBG,IAODH,CAAAA,GAAY,CARdM,EAUAP,CAAAA,IAAcC,CAVdM,EAWAT,CAAAA,CAAOA,CAAAA,CAAOpL,MAAdoL,CAAAA,GAAwBS,CAXxBA;;AAeF,aAAGV,CAAAA,KAAeN,CAAAA,CAAQ7K,MAAvBmL,IAEDG,CAAAA,GAAcI,CAAAA,KAAkBb,CAAlBa,GAA6BK,QAA7BL,GAAwCJ,CAAtDA,EACO;AAACU,QAAAA,QAAAA,EAAUZ,CAAAA,CAAO7H,IAAP6H,CAAY,EAAZA,CAAX;AAA4Ba,QAAAA,KAAAA,EAAOX;AAAnC,OAHNH,IAMI,IANP;AAMO,KA9DP/I,EAyFFuI,CAAAA,CAAMG,MAANH,GAAe,UAASE,CAAT,EAAkBqB,CAAlB,EAAuBhB,CAAvB,EAAuBA;AACpC,aAAIgB,CAAAA,IAAsB,MAAfA,CAAAA,CAAIlM,MAAXkM,GAGmB,YAAA,OAAZrB,CAAY,GACdqB,CADc,IAGvBhB,CAAAA,GAAOA,CAAAA,IAAQ,EAAfA,EACOgB,CAAAA,CACJC,MADID,CACG,UAASE,CAAT,EAAexF,CAAf,EAAwBkF,CAAxB,EAA6BI,CAA7B,EAA6BA;AACnC,YAAInB,CAAAA,GAAMnE,CAAV;AACGsE,QAAAA,CAAAA,CAAKmB,OAALnB,KACDH,CAAAA,GAAMG,CAAAA,CAAKmB,OAALnB,CAAatE,CAAbsE,CADLA;AAGH,YAAIc,CAAAA,GAAWrB,CAAAA,CAAMM,KAANN,CAAYE,CAAZF,EAAqBI,CAArBJ,EAA0BO,CAA1BP,CAAf;AASA,eARe,QAAZqB,CAAY,KACbI,CAAAA,CAAKA,CAAAA,CAAKpM,MAAVoM,CAAAA,GAAoB;AAChB5F,UAAAA,MAAAA,EAAQwF,CAAAA,CAASA,QADD;AAEhBC,UAAAA,KAAAA,EAAOD,CAAAA,CAASC,KAFA;AAGhBK,UAAAA,KAAAA,EAAOR,CAHS;AAIhBS,UAAAA,QAAAA,EAAU3F;AAJM,SADP,GAQRwF,CAAP;AAAOA,OAfJF,EAgBF,EAhBEA,EAqBJM,IArBIN,CAqBC,UAAS5N,CAAT,EAAWjB,CAAX,EAAWA;AAEf,eADcA,CAAAA,CAAE4O,KAAF5O,GAAUiB,CAAAA,CAAE2N,KAAZ5O,IAEPiB,CAAAA,CAAEgO,KAAFhO,GAAUjB,CAAAA,CAAEiP,KADnB;AACmBA,OAxBhBJ,CAJgB,CAHnBA,GACK,EADT;AACS,KA3FT9J;AARF,GAAC,EDNqCI;ACMtC,CDNsCA,CFatC;AAAA,IIbIiK,CAAAA,GAAO,UAASC,CAAT,EAASA;AAgBlB,SAfAlF,KAAKkF,SAALlF,GAAiBkF,CAAjBlF,EACAA,KAAKmF,KAALnF,GAAa,EADbA,EAEAA,KAAKoF,MAALpF,GAAc,CAFdA,EAGAA,KAAKqF,OAALrF,GAAesF,QAAAA,CAASC,aAATD,CAAuB,KAAvBA,CAHftF,EAIAA,KAAKqF,OAALrF,CAAawF,SAAbxF,GAAyB,qBAJzBA,EAKAA,KAAKZ,OAALY,GAAesF,QAAAA,CAASC,aAATD,CAAuB,IAAvBA,CALftF,EAMAA,KAAKZ,OAALY,CAAawF,SAAbxF,GAAyB,aANzBA,EAOAA,KAAKqF,OAALrF,CAAayF,WAAbzF,CAAyBA,KAAKZ,OAA9BY,CAPAA,EAYAA,KAAK0F,iBAAL1F,GAAK0F,CAAoB,CAZzB1F,EAcAkF,CAAAA,CAAUS,EAAVT,CAAaU,UAAbV,CAAwBW,YAAxBX,CAAqClF,KAAKqF,OAA1CH,EAAmDA,CAAAA,CAAUS,EAAVT,CAAaY,WAAhEZ,CAdAlF,EAeOA,IAAP;AAAOA,CJHT;;AIMAiF,CAAAA,CAAKhK,SAALgK,CAAec,IAAfd,GAAsB,YAAA;AACpBjF,OAAKZ,OAALY,CAAagG,KAAbhG,CAAmBiG,OAAnBjG,GAA6B,OAA7BA;AAA6B,CAD/BiF,EAIAA,CAAAA,CAAKhK,SAALgK,CAAeiB,IAAfjB,GAAsB,YAAA;AACpBjF,OAAKZ,OAALY,CAAagG,KAAbhG,CAAmBiG,OAAnBjG,GAA6B,MAA7BA;AAA6B,CAL/BiF,EAQAA,CAAAA,CAAKhK,SAALgK,CAAekB,GAAflB,GAAqB,UAASmB,CAAT,EAASA;AAC5BpG,OAAKmF,KAALnF,CAAWqG,IAAXrG,CAAgBoG,CAAhBpG;AAAgBoG,CATlBnB,EAYAA,CAAAA,CAAKhK,SAALgK,CAAeqB,KAAfrB,GAAuB,YAAA;AACrBjF,OAAKmF,KAALnF,GAAa,EAAbA,EACAA,KAAKoF,MAALpF,GAAc,CADdA;AACc,CAdhBiF,EAiBAA,CAAAA,CAAKhK,SAALgK,CAAesB,OAAftB,GAAyB,YAAA;AACvB,SAAA,CAAQjF,KAAKmF,KAALnF,CAAWxH,MAAnB;AAAmBA,CAlBrByM,EAqBAA,CAAAA,CAAKhK,SAALgK,CAAeuB,SAAfvB,GAA2B,YAAA;AACzB,SAAsC,YAA/BjF,KAAKZ,OAALY,CAAagG,KAAbhG,CAAmBiG,OAA1B;AAA0BA,CAtB5BhB,EAyBAA,CAAAA,CAAKhK,SAALgK,CAAewB,IAAfxB,GAAsB,YAAA;AAGpB,MAFAjF,KAAKZ,OAALY,CAAa0G,SAAb1G,GAAyB,EAAzBA,EAE0B,MAAtBA,KAAKmF,KAALnF,CAAWxH,MAAf,EAAA;AAKA,SAAK,IAAIoD,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIoE,KAAKmF,KAALnF,CAAWxH,MAA/B,EAAuCoD,CAAAA,EAAvC,EACEoE,KAAK2G,QAAL3G,CAAcA,KAAKmF,KAALnF,CAAWpE,CAAXoE,CAAdA,EAA6BA,KAAKoF,MAALpF,KAAgBpE,CAA7CoE;;AAGFA,SAAK+F,IAAL/F;AAAK+F,GATL,MACE/F,KAAKkG,IAALlG;AAAKkG,CA7BTjB,EAwCAA,CAAAA,CAAKhK,SAALgK,CAAe0B,QAAf1B,GAA0B,UAASmB,CAAT,EAAehB,CAAf,EAAeA;AACvC,MAAIwB,CAAAA,GAAKtB,QAAAA,CAASC,aAATD,CAAuB,IAAvBA,CAAT;AAAA,MACExO,CAAAA,GAAIwO,QAAAA,CAASC,aAATD,CAAuB,GAAvBA,CADN;AAGIF,EAAAA,CAAAA,KAAQwB,CAAAA,CAAGpB,SAAHoB,IAAgB,SAAxBxB,CAAAA,EAEJtO,CAAAA,CAAE4P,SAAF5P,GAAcsP,CAAAA,CAAKpH,MAFfoG,EAIJwB,CAAAA,CAAGnB,WAAHmB,CAAe9P,CAAf8P,CAJIxB,EAKJpF,KAAKZ,OAALY,CAAayF,WAAbzF,CAAyB4G,CAAzB5G,CALIoF,EAOJwB,CAAAA,CAAGC,gBAAHD,CAAoB,WAApBA,EAAiC,YAAA;AAC/B5G,SAAK0F,iBAAL1F,GAAK0F,CAAoB,CAAzB1F;AAAyB,GADM,CAE/B7C,IAF+B,CAE1B6C,IAF0B,CAAjC4G,CAPIxB,EAWJwB,CAAAA,CAAGC,gBAAHD,CAAoB,SAApBA,EAA+B,YAAA;AAC7B5G,SAAK8G,aAAL9G,CAAmBlD,IAAnBkD,CAAwBA,IAAxBA,EAA8BoG,CAA9BpG;AAA8BoG,GADD,CAE7BjJ,IAF6B,CAExB6C,IAFwB,CAA/B4G,CAXIxB;AAaGpF,CAzDTiF,EA4DAA,CAAAA,CAAKhK,SAALgK,CAAe6B,aAAf7B,GAA+B,UAASmB,CAAT,EAASA;AACtCpG,OAAK0F,iBAAL1F,GAAK0F,CAAoB,CAAzB1F,EACAA,KAAKkF,SAALlF,CAAepK,KAAfoK,CAAqBoG,CAAAA,CAAKrB,QAA1B/E,CADAA,EAEAA,KAAKsG,KAALtG,EAFAA,EAGAA,KAAKyG,IAALzG,EAHAA;AAGKyG,CAhEPxB,EAmEAA,CAAAA,CAAKhK,SAALgK,CAAe8B,IAAf9B,GAAsB,UAASH,CAAT,EAASA;AAC7B9E,OAAKoF,MAALpF,GAAc8E,CAAd9E,EACAA,KAAKyG,IAALzG,EADAA;AACKyG,CArEPxB,EAwEAA,CAAAA,CAAKhK,SAALgK,CAAe+B,QAAf/B,GAA0B,YAAA;AACxBjF,OAAK+G,IAAL/G,CAA0B,MAAhBA,KAAKoF,MAAW,GAAIpF,KAAKmF,KAALnF,CAAWxH,MAAXwH,GAAoB,CAAxB,GAA4BA,KAAKoF,MAALpF,GAAc,CAApEA;AAAoE,CAzEtEiF,EA4EAA,CAAAA,CAAKhK,SAALgK,CAAe5C,IAAf4C,GAAsB,YAAA;AACpBjF,OAAK+G,IAAL/G,CAAUA,KAAKoF,MAALpF,KAAgBA,KAAKmF,KAALnF,CAAWxH,MAAXwH,GAAoB,CAApCA,GAAwC,CAAxCA,GAA4CA,KAAKoF,MAALpF,GAAc,CAApEA;AAAoE,CA7EtEiF,EAgFAA,CAAAA,CAAKhK,SAALgK,CAAegC,SAAfhC,GAA2B,UAASiC,CAAT,EAASA;AAClC,MAAIN,CAAAA,GAAKtB,QAAAA,CAASC,aAATD,CAAuB,IAAvBA,CAAT;AAEAsB,EAAAA,CAAAA,CAAGF,SAAHE,GAAeM,CAAfN,EAEA5G,KAAKZ,OAALY,CAAayF,WAAbzF,CAAyB4G,CAAzB5G,CAFA4G,EAGA5G,KAAK+F,IAAL/F,EAHA4G;AAGKb,CAtFPd;;AAyFA,IAAA,CAAA,GAAiBA,CAAjB;AAAA,ICxGIkC,CAAAA,GAAc,UAASxB,CAAT,EAAayB,CAAb,EAAmBC,CAAnB,EAAmBA;AA2CnC,SAxCArH,KAAKqH,OAALrH,GAAesH,CAAAA,CAAO;AACpBC,IAAAA,SAAAA,EAAW,CADS;AAEpBC,IAAAA,KAAAA,EAAO,CAFa;AAGpBlE,IAAAA,MAAAA,EAAAA,CAAQ;AAHY,GAAPgE,EAFfD,CAAAA,GAAUA,CAAAA,IAAW,EAENC,CAAftH,EAMAA,KAAK2F,EAAL3F,GAAU2F,CANV3F,EAOAA,KAAKoH,IAALpH,GAAYoH,CAAAA,IAAQ,EAPpBpH,EAQAA,KAAKyH,IAALzH,GAAY,IAAIiF,CAAJ,CAASjF,IAAT,CARZA,EAUAA,KAAK0H,KAAL1H,GAAa,EAVbA,EAWAA,KAAK2H,QAAL3H,GAAgB,IAXhBA,EAaAA,KAAKyH,IAALzH,CAAUyG,IAAVzG,EAbAA,EAeAA,KAAK2F,EAAL3F,CAAQ6G,gBAAR7G,CAAyB,OAAzBA,EAAkC,UAAS9J,CAAT,EAASA;AACzC8J,SAAK4H,WAAL5H,CAAiB9J,CAAAA,CAAE2R,OAAnB7H;AAAmB6H,GADa,CAEhC1K,IAFgC,CAE3B6C,IAF2B,CAAlCA,EAEOA,CAAO,CAFdA,CAfAA,EAmBAA,KAAK2F,EAAL3F,CAAQ6G,gBAAR7G,CAAyB,SAAzBA,EAAoC,UAAS9J,CAAT,EAASA;AAC3C8J,SAAK8H,aAAL9H,CAAmB9J,CAAnB8J;AAAmB9J,GADe,CAElCiH,IAFkC,CAE7B6C,IAF6B,CAApCA,CAnBAA,EAuBAA,KAAK2F,EAAL3F,CAAQ6G,gBAAR7G,CAAyB,OAAzBA,EAAkC,YAAA;AAChCA,SAAK+H,WAAL/H;AAAK+H,GAD2B,CAEhC5K,IAFgC,CAE3B6C,IAF2B,CAAlCA,CAvBAA,EA2BAA,KAAK2F,EAAL3F,CAAQ6G,gBAAR7G,CAAyB,MAAzBA,EAAiC,YAAA;AAC/BA,SAAKgI,UAALhI;AAAKgI,GAD0B,CAE/B7K,IAF+B,CAE1B6C,IAF0B,CAAjCA,CA3BAA,EA+BAA,KAAK2F,EAAL3F,CAAQ6G,gBAAR7G,CAAyB,OAAzBA,EAAkC,UAAS9J,CAAT,EAASA;AACzC8J,SAAKiI,WAALjI,CAAiB9J,CAAjB8J;AAAiB9J,GADe,CAEhCiH,IAFgC,CAE3B6C,IAF2B,CAAlCA,CA/BAA,EAoCAA,KAAKkI,MAALlI,GAAeA,KAAKqH,OAALrH,CAAmB,MAAnBA,GAAuBA,KAAKqH,OAALrH,CAAakI,MAAblI,CAAoB7C,IAApB6C,CAAyBA,IAAzBA,CAAvBA,GAAwDA,KAAKkI,MAALlI,CAAY7C,IAAZ6C,CAAiBA,IAAjBA,CApCvEA,EAsCAA,KAAKmI,YAALnI,GAAqBA,KAAKqH,OAALrH,CAAyB,YAAzBA,GAA6BA,KAAKqH,OAALrH,CAAamI,YAAbnI,CAA0B7C,IAA1B6C,CAA+BA,IAA/BA,CAA7BA,GAAoEA,KAAKmI,YAALnI,CAAkB7C,IAAlB6C,CAAuBA,IAAvBA,CAtCzFA,EAwCOA,IAAP;AAAOA,CD6DT;;AC1DAmH,CAAAA,CAAYlM,SAAZkM,CAAsBS,WAAtBT,GAAoC,UAASU,CAAT,EAASA;AAO3B,SAAZA,CAAY,IACA,OAAZA,CADY,IAEA,OAAZA,CAFY,IAGA,OAAZA,CAHY,IAIA,MAAZA,CAJY,IAMhB7H,KAAKoI,iBAALpI,CAAuBA,KAAK2F,EAAL3F,CAAQpK,KAA/BoK,CANgB;AAMepK,CAbjCuR,EAgBAA,CAAAA,CAAYlM,SAAZkM,CAAsBW,aAAtBX,GAAsC,UAASjR,CAAT,EAASA;AAC7C,UAAQA,CAAAA,CAAE2R,OAAV;AACE,SAAK,EAAL;AACA,SAAK,CAAL;AACO7H,WAAKyH,IAALzH,CAAUuG,OAAVvG,OACCA,KAAKyH,IAALzH,CAAUwG,SAAVxG,MACF9J,CAAAA,CAAEmS,cAAFnS,EADE8J,EAGJA,KAAKpK,KAALoK,CAAWA,KAAKyH,IAALzH,CAAUmF,KAAVnF,CAAgBA,KAAKyH,IAALzH,CAAUoF,MAA1BpF,EAAkC+E,QAA7C/E,CAHIA,EAIJA,KAAKyH,IAALzH,CAAUkG,IAAVlG,EALGA;AAOP;;AACA,SAAK,EAAL;AACOA,WAAKyH,IAALzH,CAAUuG,OAAVvG,MAAqBA,KAAKyH,IAALzH,CAAUkG,IAAVlG,EAArBA;AACP;;AACA,SAAK,EAAL;AACEA,WAAKyH,IAALzH,CAAUgH,QAAVhH;AACF;;AACA,SAAK,EAAL;AACEA,WAAKyH,IAALzH,CAAUqC,IAAVrC;AAlBJ;AAkBcqC,CAnChB8E,EAwCAA,CAAAA,CAAYlM,SAAZkM,CAAsBa,UAAtBb,GAAmC,YAAA;AAC5BnH,OAAKyH,IAALzH,CAAU0F,iBAAV1F,IACHA,KAAKyH,IAALzH,CAAUkG,IAAVlG,EADGA;AACOkG,CA1CdiB,EA8CAA,CAAAA,CAAYlM,SAAZkM,CAAsBc,WAAtBd,GAAoC,UAASjR,CAAT,EAASA;AAC3C,MAAIA,CAAAA,CAAEoS,aAAN,EACEtI,KAAKoI,iBAALpI,CAAuB9J,CAAAA,CAAEoS,aAAFpS,CAAgBqS,OAAhBrS,CAAwB,MAAxBA,CAAvB8J,EADF,KAEO;AACL,QAAIwI,CAAAA,GAAOxI,IAAX;AACAyI,IAAAA,UAAAA,CAAW,YAAA;AACTD,MAAAA,CAAAA,CAAKJ,iBAALI,CAAuBtS,CAAAA,CAAEqG,MAAFrG,CAASN,KAAhC4S;AAAgC5S,KADlC6S,EAEG,GAFHA,CAAAA;AAEG;AAAA,CArDPtB,EAyDAA,CAAAA,CAAYlM,SAAZkM,CAAsBiB,iBAAtBjB,GAA0C,UAASO,CAAT,EAASA;AACjD1H,OAAK0H,KAAL1H,GAAaA,KAAK0I,SAAL1I,CAAe0H,CAAf1H,CAAbA,EAEAA,KAAKyH,IAALzH,CAAUsG,KAAVtG,EAFAA,EAIIA,KAAK0H,KAAL1H,CAAWxH,MAAXwH,GAAoBA,KAAKqH,OAALrH,CAAauH,SAAjCvH,GACFA,KAAKyH,IAALzH,CAAUyG,IAAVzG,EADEA,GAKJA,KAAK2I,aAAL3I,CAAmB,UAASoH,CAAT,EAASA;AAC1B,SAAK,IAAIxL,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIwL,CAAAA,CAAK5O,MAAToD,KACdoE,KAAKyH,IAALzH,CAAUmG,GAAVnG,CAAcoH,CAAAA,CAAKxL,CAALwL,CAAdpH,GACIpE,CAAAA,KAAOoE,KAAKqH,OAALrH,CAAawH,KAAbxH,GAAqB,CAFlBpE,CAAhB,EAAiCA,CAAAA,EAAjC,CAAiCA;;AAIjCoE,SAAKyH,IAALzH,CAAUyG,IAAVzG;AAAUyG,GALO,CAMjBtJ,IANiB,CAMZ6C,IANY,CAAnBA,CATAA;AAeOA,CAzETmH,EA4EAA,CAAAA,CAAYlM,SAAZkM,CAAsBY,WAAtBZ,GAAoC,YAAA;AAC7BnH,OAAKyH,IAALzH,CAAUuG,OAAVvG,MAAqBA,KAAKyH,IAALzH,CAAU+F,IAAV/F,EAArBA,EACLA,KAAKyH,IAALzH,CAAU0F,iBAAV1F,GAAU0F,CAAoB,CADzB1F;AACyB,CA9EhCmH,EAsFAA,CAAAA,CAAYlM,SAAZkM,CAAsByB,MAAtBzB,GAA+B,UAAS0B,CAAT,EAASA;AACtC7I,OAAKoH,IAALpH,GAAY6I,CAAZ7I,EACAA,KAAK4H,WAAL5H,EADAA;AACK4H,CAxFPT,EA8FAA,CAAAA,CAAYlM,SAAZkM,CAAsBb,KAAtBa,GAA8B,YAAA;AAC5BnH,OAAKoH,IAALpH,GAAY,EAAZA,EACAA,KAAKyH,IAALzH,CAAUsG,KAAVtG,EADAA;AACUsG,CAhGZa,EAyGAA,CAAAA,CAAYlM,SAAZkM,CAAsBuB,SAAtBvB,GAAkC,UAASvR,CAAT,EAASA;AAEzC,SADQA,CAAAA,CAAMwO,WAANxO,EACR;AADcwO,CA1GhB+C,EAqHAA,CAAAA,CAAYlM,SAAZkM,CAAsB1D,KAAtB0D,GAA8B,UAAS2B,CAAT,EAAoBpB,CAApB,EAAoBA;AAChD,SAAOoB,CAAAA,CAAUC,OAAVD,CAAkBpB,CAAlBoB,IAAkBpB,CAAU,CAAnC;AAAmC,CAtHrCP,EAyHAA,CAAAA,CAAYlM,SAAZkM,CAAsBvR,KAAtBuR,GAA8B,UAASvR,CAAT,EAASA;AAIrC,MAHAoK,KAAK2H,QAAL3H,GAAgBpK,CAAhBoK,EACAA,KAAK2F,EAAL3F,CAAQpK,KAARoK,GAAgBA,KAAKmI,YAALnI,CAAkBpK,CAAlBoK,CADhBA,EAGIsF,QAAAA,CAAS0D,WAAb,EAA0B;AACxB,QAAI9S,CAAAA,GAAIoP,QAAAA,CAAS0D,WAAT1D,CAAqB,YAArBA,CAAR;AACApP,IAAAA,CAAAA,CAAE+S,SAAF/S,CAAY,QAAZA,EAAY,CAAU,CAAtBA,EAAsB,CAAM,CAA5BA,GACA8J,KAAK2F,EAAL3F,CAAQkJ,aAARlJ,CAAsB9J,CAAtB8J,CADA9J;AACsBA,GAHxB,MAKE8J,KAAK2F,EAAL3F,CAAQmJ,SAARnJ,CAAkB,UAAlBA;AAAkB,CAlItBmH,EAsIAA,CAAAA,CAAYlM,SAAZkM,CAAsBwB,aAAtBxB,GAAsC,UAASiC,CAAT,EAASA;AAC7C,MAAI/B,CAAAA,GAAU;AACZrD,IAAAA,GAAAA,EAAK,UADO;AAEZC,IAAAA,IAAAA,EAAM,WAFM;AAGZY,IAAAA,OAAAA,EAAS,UAAS5O,CAAT,EAASA;AAAK,aAAO+J,KAAKmI,YAALnI,CAAkB/J,CAAlB+J,CAAP;AAAyB/J,KAAvC,CAA6CkH,IAA7C,CAAkD6C,IAAlD;AAHG,GAAd;AAwBAoJ,EAAAA,CAAAA,CAlBGpJ,KAAKqH,OAALrH,CAAasD,MAAbtD,GACSmD,CAAAA,CAAMG,MAANH,CAAanD,KAAK0H,KAAlBvE,EAAyBnD,KAAKoH,IAA9BjE,EAAoCkE,CAApClE,EAEQrH,GAFRqH,CAEY,UAASiD,CAAT,EAASA;AAC7B,WAAO;AACLrB,MAAAA,QAAAA,EAAUqB,CAAAA,CAAKrB,QADV;AAEL/F,MAAAA,MAAAA,EAAQgB,KAAKkI,MAALlI,CAAYoG,CAAAA,CAAKrB,QAAjB/E,EAA2BoG,CAAAA,CAAKpH,MAAhCgB;AAFH,KAAP;AAE0ChB,GAHtB,CAKpB7B,IALoB,CAKf6C,IALe,CAFZmD,CADTnD,GAUSA,KAAKoH,IAALpH,CAAUlE,GAAVkE,CAAc,UAAS/J,CAAT,EAASA;AAE/B,WAAO;AACL8O,MAAAA,QAAAA,EAAU9O,CADL;AAEL+I,MAAAA,MAAAA,EAHmBgB,KAAKkI,MAALlI,CAAY/J,CAAZ+J;AACd,KAAP;AADiC/J,GADX,CAMtBkH,IANsB,CAMjB6C,IANiB,CAAdA,CAQZoJ,CAAAA;AAFSpJ,CA7JXmH,EAwKAA,CAAAA,CAAYlM,SAAZkM,CAAsBgB,YAAtBhB,GAAqC,UAASf,CAAT,EAASA;AAC5C,SAAOA,CAAP;AAAOA,CAzKTe,EAkLAA,CAAAA,CAAYlM,SAAZkM,CAAsBe,MAAtBf,GAA+B,UAASf,CAAT,EAAeiD,CAAf,EAAeA;AAC5C,MAAIA,CAAJ,EAEE,OAAOA,CAAP;;AAKF,OAHA,IAAIC,CAAAA,GAA+BtJ,KAAKmI,YAALnI,CAAjBoG,CAAAA,CAAa,QAAbA,GAAmCA,CAAAA,CAAKrB,QAAxCqB,GAAsEA,CAArDpG,CAAnC,EACIuJ,CAAAA,GAAcvJ,KAAK0I,SAAL1I,CAAesJ,CAAftJ,CADlB,EAEIwJ,CAAAA,GAAeD,CAAAA,CAAYE,WAAZF,CAAwBvJ,KAAK0H,KAA7B6B,CACnB,EAAOC,CAAAA,GAAAA,CAAgB,CAAvB,GAA0B;AACxB,QAAIE,CAAAA,GAAkBF,CAAAA,GAAexJ,KAAK0H,KAAL1H,CAAWxH,MAAhD;AACA8Q,IAAAA,CAAAA,GAAaA,CAAAA,CAAWK,KAAXL,CAAiB,CAAjBA,EAAoBE,CAApBF,IAAoC,UAApCA,GAAiDA,CAAAA,CAAWK,KAAXL,CAAiBE,CAAjBF,EAA+BI,CAA/BJ,CAAjDA,GAAmG,WAAnGA,GAAiHA,CAAAA,CAAWK,KAAXL,CAAiBI,CAAjBJ,CAA9HA,EACAE,CAAAA,GAAeD,CAAAA,CAAYI,KAAZJ,CAAkB,CAAlBA,EAAqBC,CAArBD,EAAmCE,WAAnCF,CAA+CvJ,KAAK0H,KAApD6B,CADfD;AAGF;;AAAA,SAAOA,CAAP;AAAOA,CA/LTnC,EAsMAA,CAAAA,CAAYlM,SAAZkM,CAAsByC,WAAtBzC,GAAoC,UAASD,CAAT,EAASA;AAC3ClH,OAAKyH,IAALzH,CAAUiH,SAAVjH,CAAoBkH,CAApBlH;AAAoBkH,CAvMtBC;;AA0MA,IAAA,CAAA,GAAiBA,CAAjB;AAAA,IAAiBA,CAAAA,GAAAA,CAAAA,CAAAA,UAAAA,CAAAA,EAAAA;ACtMjB0C,EAAAA,MAAAA,CAAO1C,WAAP0C,GAAqBjP,CAAAA,CAAAA,OAAAA,GAAiBuM,CAAtC0C;AAAsC1C,CDsMrBA,CAAjB;AAAA,IEjPI2C,CAAAA,GAAM,GFiPV;AAAA,IE9OIC,CAAAA,GAAY,iBF8OhB;AAAA,IE3OIC,CAAAA,GAAS,YF2Ob;AAAA,IExOIC,CAAAA,GAAa,oBFwOjB;AAAA,IErOIC,CAAAA,GAAa,YFqOjB;AAAA,IElOIC,CAAAA,GAAY,aFkOhB;AAAA,IE/NIC,CAAAA,GAAeC,QF+NnB;AAAA,IE5NIC,CAAAA,GAA8B,YAAA,OAAVC,CAAU,IAAYA,CAAZ,IAAsBA,CAAAA,CAAO9U,MAAP8U,KAAkB9U,MAAxC,IAAkD8U,CF4NpF;AAAA,IEzNIC,CAAAA,GAA0B,YAAA,OAARhC,IAAQ,IAAYA,IAAZ,IAAoBA,IAAAA,CAAK/S,MAAL+S,KAAgB/S,MAApC,IAA8C+S,IFyN5E;AAAA,IEtNIiC,CAAAA,GAAOH,CAAAA,IAAcE,CAAdF,IAA0BpN,QAAAA,CAAAA,aAAAA,CAAAA,EFsNrC;AAAA,IE5MIwN,CAAAA,GAPcjV,MAAAA,CAAOwF,SAAPxF,CAOekV,QF4MjC;AAAA,IEzMIC,CAAAA,GAAYC,IAAAA,CAAKC,GFyMrB;AAAA,IExMIC,CAAAA,GAAYF,IAAAA,CAAKG,GFwMrB;AAAA,IEtLIC,CAAAA,GAAM,YAAA;AACR,SAAOR,CAAAA,CAAK/H,IAAL+H,CAAUQ,GAAVR,EAAP;AAAiBQ,CFqLnB;;AEuBA,SAASY,CAAT,CAAkBjW,CAAlB,EAAkBA;AAChB,MAAIqB,CAAAA,GAAAA,OAAcrB,CAAlB;AACA,SAAA,CAAA,CAASA,CAAT,KAA2B,YAARqB,CAAQ,IAAoB,cAARA,CAAvC,CAAA;AA4EF;;AAAA,SAAS2U,CAAT,CAAkBhW,CAAlB,EAAkBA;AAChB,MAAoB,YAAA,OAATA,CAAX,EACE,OAAOA,CAAP;AAEF,MAhCF,UAAkBA,CAAlB,EAAkBA;AAChB,WAAuB,YAAA,OAATA,CAAS,IAtBzB,UAAsBA,CAAtB,EAAsBA;AACpB,aAAA,CAAA,CAASA,CAAT,IAAkC,YAAA,OAATA,CAAzB;AAsBGgX,KAvBL,CAuBkBhX,CAvBlB,KAuB4B8U,CAAAA,CAAe5N,IAAf4N,CAAoB9U,CAApB8U,KAA8BX,CADxD;AA+BItH,GAhCN,CAgCe7M,CAhCf,CAgCE,EACE,OAAOkU,CAAP;;AAEF,MAAI+B,CAAAA,CAASjW,CAATiW,CAAJ,EAAqB;AACnB,QAAIgB,CAAAA,GAAgC,cAAA,OAAjBjX,CAAAA,CAAMkX,OAAW,GAAalX,CAAAA,CAAMkX,OAANlX,EAAb,GAA+BA,CAAnE;AACAA,IAAAA,CAAAA,GAAQiW,CAAAA,CAASgB,CAAThB,CAAAA,GAAmBgB,CAAAA,GAAQ,EAA3BhB,GAAiCgB,CAAzCjX;AAEF;;AAAA,MAAoB,YAAA,OAATA,CAAX,EACE,OAAiB,MAAVA,CAAU,GAAIA,CAAJ,GAAIA,CAASA,CAA9B;AAEFA,EAAAA,CAAAA,GAAQA,CAAAA,CAAMkD,OAANlD,CAAcoU,CAAdpU,EAAsB,EAAtBA,CAARA;AACA,MAAImX,CAAAA,GAAW7C,CAAAA,CAAW1G,IAAX0G,CAAgBtU,CAAhBsU,CAAf;AACA,SAAQ6C,CAAAA,IAAY5C,CAAAA,CAAU3G,IAAV2G,CAAevU,CAAfuU,CAAZ4C,GACJ3C,CAAAA,CAAaxU,CAAAA,CAAM+T,KAAN/T,CAAY,CAAZA,CAAbwU,EAA6B2C,CAAAA,GAAW,CAAXA,GAAe,CAA5C3C,CADI2C,GAEH9C,CAAAA,CAAWzG,IAAXyG,CAAgBrU,CAAhBqU,IAAyBH,CAAzBG,GAAyBH,CAAOlU,CAFrC;AAKF;;AAAA,IAAA,CAAA,GCxXiB;AACfoX,EAAAA,EAAAA,EAAM;AACJnP,IAAAA,IAAAA,EAAQ,QADJ;AAEJoP,IAAAA,IAAAA,EAAQ,CAAC,CAAA,CAAE,OAAF,EAAW,SAAX,CAAD,EAAwB,CAAC,QAAD,EAAW,SAAX,CAAxB;AAFJ,GADS;AAKfC,EAAAA,EAAAA,EAAM;AACJrP,IAAAA,IAAAA,EAAQ,eADJ;AAEJoP,IAAAA,IAAAA,EAAQ,CAAC,CAAA,CAAE,UAAF,EAAc,QAAd,CAAD,EAA0B,CAAA,CAAE,QAAF,EAAY,SAAZ,CAA1B;AAFJ,GALS;AASfE,EAAAA,EAAAA,EAAM;AACJtP,IAAAA,IAAAA,EAAQ,QADJ;AAEJoP,IAAAA,IAAAA,EAAQ,CAAC,CAAC,QAAD,EAAW,SAAX,CAAD,EAAwB,CAAC,SAAD,EAAY,OAAZ,CAAxB;AAFJ,GATS;AAafG,EAAAA,EAAAA,EAAM;AACJvP,IAAAA,IAAAA,EAAQ,QADJ;AAEJoP,IAAAA,IAAAA,EAAQ,CAAC,CAAA,CAAE,SAAF,EAAa,SAAb,CAAD,EAA0B,CAAA,CAAE,SAAF,EAAa,QAAb,CAA1B;AAFJ;AAbS,CDwXjB;AAAA,ICzWmD,CAAA,GCuCnD,UAAyBe,CAAzB,EAAyBA;AACvB,SAAKA,CAAAA,GAEEA,CAAAA,CAAW/R,KAAX+R,CAAiB,OAAjBA,EAA0BrJ,MAA1BqJ,CAAiC,UAASpK,CAAT,EAAiB2J,CAAjB,EAAiBA;AACvD,QAAIK,CAAAA,GA3CR,UAAmBL,CAAnB,EAAmBA;AACjB,UAAID,CAAAA,GAAQC,CAAAA,CAAK9J,KAAL8J,CAAW,gBAAXA,CAAZ;AACA,UAAA,CAAKD,CAAL,EAAY,OAAO,IAAP;AAEZ,UAAIE,CAAAA,GAAUF,CAAAA,CAAM,CAANA,CAAd;AAAA,UACIG,CAAAA,GAAaH,CAAAA,CAAM,CAANA,CAAAA,CAASrR,KAATqR,CAAe,GAAfA,CADjB;AAAA,UAEII,CAAAA,GAAM,IAFV;AAAA,UAGIC,CAAAA,GAAmBF,CAAAA,CAAW9I,MAAX8I,CAAkB,UAAS7J,CAAT,EAAiByJ,CAAjB,EAAiBA;AACxD,YAAIO,CAAAA,GAlBR,UAAoBP,CAApB,EAAoBA;AAClB,cAAIC,CAAAA,GAAQD,CAAAA,CAAM5J,KAAN4J,CAAY,2BAAZA,CAAZ;AACA,iBAAKC,CAAAA,GAEE;AACLzQ,YAAAA,GAAAA,EAAKyQ,CAAAA,CAAM,CAANA,CADA;AAEL1X,YAAAA,KAAAA,EAAO0X,CAAAA,CAAM,CAANA;AAFF,WAFFA,GAAc,IAAnB;AAgBeO,SAlBjB,CAkB4BR,CAlB5B,CAkBI;;AACA,eAAKO,CAAAA,GACc,UAAfA,CAAAA,CAAO/Q,GAAQ,IACZ6Q,CAAAA,KACHA,CAAAA,GAAME,CAAAA,CAAOhY,KADV8X,CAAAA,EAGE9J,CAJU,KAMnBA,CAAAA,CAAOgK,CAAAA,CAAO/Q,GAAd+G,CAAAA,GAAqBgK,CAAAA,CAAOhY,KAA5BgO,EACOA,CAPY,CADdgK,GAAehK,CAApB;AAAoBA,OAFC6J,EAWpB,EAXoBA,CAHvB;AAeA,aAAKC,CAAAA,GAEE;AACLI,QAAAA,GAAAA,EAAKN,CADA;AAELE,QAAAA,GAAAA,EAAKA,CAFA;AAGLK,QAAAA,MAAAA,EAAQJ;AAHH,OAFFD,GAAY,IAAjB;AAwBeO,KA3CjB,CA2C2BV,CA3C3B,CA2CI;;AACA,WAAKK,CAAAA,IAEUA,CAAAA,CAAOF,GAAPE,CAAW3R,KAAX2R,CAAiB,KAAjBA,EACN1R,OADM0R,CACE,UAASF,CAAT,EAASA;AACnB9J,MAAAA,CAAAA,CAAO8J,CAAP9J,CAAAA,KACHA,CAAAA,CAAO8J,CAAP9J,CAAAA,GAAc;AACZkK,QAAAA,GAAAA,EAAKF,CAAAA,CAAOE,GADA;AAEZC,QAAAA,MAAAA,EAAQH,CAAAA,CAAOG;AAFH,OADXnK;AAGcmK,KALNH,GASRhK,CAXFgK,IAAehK,CAApB;AAAoBA,GAFfoK,EAcJ,EAdIA,CAFFA,GAAmB,EAAxB;AAAwB,CFiU1B;;AGhWA,SAASE,CAAT,CAAsBC,CAAtB,EAA+BC,CAA/B,EAA+BA;AAC7BpO,OAAKmO,OAALnO,GAAemO,CAAfnO,EACAA,KAAKqO,OAALrO,GAAeoO,CAAAA,CAAaC,OAD5BrO,EAEAA,KAAKsO,OAALtO,GAAeoO,CAAAA,CAAaG,IAF5BvO,EAGAA,KAAKwO,UAALxO,GAAkBoO,CAAAA,CAAaI,UAH/BxO;;AAIA,MAAA;AACEA,SAAKuO,IAALvO,GAAYwB,IAAAA,CAAKiN,KAALjN,CAAW4M,CAAAA,CAAaG,IAAbH,IAAqB,IAAhC5M,CAAZxB;AACA,GAFF,CAEE,OAAO0O,CAAP,EAAOA;AACP1O,SAAKuO,IAALvO,GAAYoO,CAAAA,CAAaG,IAAzBvO;AAEFA;;AAAAA,OAAK2O,KAAL3O,GAAa4O,CAAAA,CAAgB5O,KAAKqO,OAALrO,CAAauN,IAA7BqB,CAAb5O;AAQFkO;;AAAAA,CAAAA,CAAajT,SAAbiT,CAAuBW,WAAvBX,GAAqC,YAAA;AACnC,SAAA,CAAA,CAASlO,KAAK2O,KAAL3O,CAAWqC,IAApB;AAAoBA,CADtB6L,EAUAA,CAAAA,CAAajT,SAAbiT,CAAuBY,QAAvBZ,GAAkC,YAAA;AAChC,SAAKlO,KAAK6O,WAAL7O,KACEA,KAAKmO,OAALnO,CAAa+O,OAAb/O,CAAqB;AAC1BgP,IAAAA,IAAAA,EAAMhP,KAAK2O,KAAL3O,CAAWqC,IAAXrC,CAAgB8N;AADI,GAArB9N,CADFA,GAA2B,IAAhC;AAAgC,CAXlCkO;;AAiBA,IAAA,EAAA,GAAiBA,CAAjB;AAAA,IAAiBA,EAAAA,GCzDA;AACfe,EAAAA,UAAAA,EAAY,wBADG;AAEfC,EAAAA,uBAAAA,EAAyB,kBAFV;AAGfC,EAAAA,qBAAAA,EAAuB,gBAHR;AAIfC,EAAAA,WAAAA,EAAa,OAJE;AAKfC,EAAAA,cAAAA,EAAgB,UALD;AAMfC,EAAAA,UAAAA,EAAY,WANG;AAOfC,EAAAA,qBAAAA,EAAuB;AAPR,CDyDjB;AAAA,IClDyB,EAAA,GCsBzB,UAAmBlI,CAAnB,EAAmBA;AACjB,MAEIkH,CAFJ;AAAA,MAAIiB,CAAAA,GAAYnI,CAAAA,CAAQpQ,IAARoQ,IAAgBoI,EAAAA,CAAUH,UAA1C;AAGA,MAAIjI,CAAAA,CAAQkH,IAAZ,EACE,IAAA;AACEA,IAAAA,CAAAA,GAAO/M,IAAAA,CAAKiN,KAALjN,CAAW6F,CAAAA,CAAQkH,IAAnB/M,CAAP+M;AACA,GAFF,CAEE,OAAOrY,CAAP,EAAOA;AACPqY,IAAAA,CAAAA,GAAOlH,CAAAA,CAAQkH,IAAfA;AAAeA,GAJnB,MAOEA,CAAAA,GAAO,IAAPA;AAGF,MAAI1V,CAAAA,GAAUwO,CAAAA,CAAQxO,OAARwO,IAAmB,IAAjC;AACKxO,EAAAA,CAAAA,KACiB,YAAA,OAAT0V,CAAS,GAClB1V,CAAAA,GAAU0V,CADQ,GAETA,CAAAA,IAAgC,YAAA,OAAjBA,CAAAA,CAAK1V,OAApB0V,GACT1V,CAAAA,GAAU0V,CAAAA,CAAK1V,OADN0V,GAEAiB,CAAAA,KAAcC,EAAAA,CAAUF,qBAAxBC,KACT3W,CAAAA,GAAU,iBADD2W,CALR3W,CAAAA,EAULmH,KAAKnH,OAALmH,GAAenH,CAVVA,EAWLmH,KAAK/I,IAAL+I,GAAYwP,CAXP3W,EAYLmH,KAAKwO,UAALxO,GAAkBqH,CAAAA,CAAQmH,UAARnH,IAAsB,IAZnCxO,EAaLmH,KAAKmO,OAALnO,GAAeqH,CAAAA,CAAQ8G,OAblBtV,EAcLmH,KAAKuO,IAALvO,GAAYuO,CAdP1V;AAcO0V,CFDd;AAAA,IGnDImB,EAAAA,GAAmB,EHmDvB;;AGlCA,SAASO,EAAT,CAAuCC,CAAvC,EAAuCA;AACrC,MAAIC,CAAAA,GAAQD,CAAAA,CAAMC,KAAlB;AAAA,MACIC,CAAAA,GAAcF,CAAAA,CAAMG,MADxB;AAGA,SAAO;AACLF,IAAAA,KAAAA,EAAOA,CADF;AAELC,IAAAA,WAAAA,EAAaA,CAFR;AAGLE,IAAAA,OAAAA,EAJa,MAAMF,CAAN,GAAqBD;AAC7B,GAAP;AA0FF;;AAAA,IAAA,EAAA,GAAA,CAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,GCtHE,UAAS1F,CAAT,EAASA;AAGV,QAAIsH,CAAAA,GAA4Cpc,CAAhD;AAAA,QAGIqc,CAAAA,GAA0CpX,CAAAA,IAC7CA,CAAAA,CAAOjF,OAAPiF,IAAkBmX,CAD2BnX,IACZA,CAJlC;AAAA,QAQI0P,CAAAA,GAA8B,YAAA,OAAVC,CAAU,IAAYA,CAR9C;AASID,IAAAA,CAAAA,CAAWC,MAAXD,KAAsBA,CAAtBA,IAAoCA,CAAAA,CAAWT,MAAXS,KAAsBA,CAA1DA,KACHG,CAAAA,GAAOH,CADJA;;AAMJ,QAAI2H,CAAAA,GAAwB,UAASpZ,CAAT,EAASA;AACpCmH,WAAKnH,OAALmH,GAAenH,CAAfmH;AAAenH,KADhB;;AACgBA,KAEhBoZ,CAAAA,CAAsBhX,SAAtBgX,GAAkC,IAAIhZ,KAAJ,EAFlBJ,EAGgBgF,IAHhBhF,GAGuB,uBAHvBA;;AAKhB,QAAIwE,CAAAA,GAAQ,UAASxE,CAAT,EAASA;AAGpB,YAAM,IAAIoZ,CAAJ,CAA0BpZ,CAA1B,CAAN;AAAgCA,KAHjC;AAAA,QAMIqZ,CAAAA,GAAQ,kEANZ;AAAA,QAQIC,CAAAA,GAAyB,cAR7B;AAAA,QA+GIU,CAAAA,GAAS;AACZC,MAAAA,MAAAA,EA5DY,UAASV,CAAT,EAASA;AACrBA,QAAAA,CAAAA,GAAQ3W,MAAAA,CAAO2W,CAAP3W,CAAR2W,EACI,aAAa5O,IAAb,CAAkB4O,CAAlB,KAGH/U,CAAAA,CACC,2EADDA,CAJD+U;;AAoBA,aAXA,IAGItb,CAHJ,EAIIjB,CAJJ,EAKIG,CALJ,EAOIuc,CAPJ,EAAII,CAAAA,GAAUP,CAAAA,CAAM5Z,MAAN4Z,GAAe,CAA7B,EACII,CAAAA,GAAS,EADb,EAEIC,CAAAA,GAAAA,CAAY,CAFhB,EASIja,CAAAA,GAAS4Z,CAAAA,CAAM5Z,MAAN4Z,GAAeO,CAE5B,EAF4BA,EAEnBF,CAFmBE,GAERna,CAApB,GAEC1B,CAAAA,GAAIsb,CAAAA,CAAMQ,UAANR,CAAiBK,CAAjBL,KAA8B,EAAlCtb,EACAjB,CAAAA,GAAIuc,CAAAA,CAAMQ,UAANR,CAAMQ,EAAaH,CAAnBL,KAAgC,CADpCtb,EAEAd,CAAAA,GAAIoc,CAAAA,CAAMQ,UAANR,CAAMQ,EAAaH,CAAnBL,CAFJtb,EAMA0b,CAAAA,IACCN,CAAAA,CAAMQ,MAANR,CAAMQ,CAJPH,CAAAA,GAASzb,CAAAA,GAAIjB,CAAJiB,GAAQd,CAIV0c,KAAiB,EAAjBA,GAAsB,EAA5BR,IACAA,CAAAA,CAAMQ,MAANR,CAAaK,CAAAA,IAAU,EAAVA,GAAe,EAA5BL,CADAA,GAEAA,CAAAA,CAAMQ,MAANR,CAAaK,CAAAA,IAAU,CAAVA,GAAc,EAA3BL,CAFAA,GAGAA,CAAAA,CAAMQ,MAANR,CAAsB,KAATK,CAAbL,CAVDpb;;AAiCD,eAnBe,KAAX6b,CAAW,IACd7b,CAAAA,GAAIsb,CAAAA,CAAMQ,UAANR,CAAiBK,CAAjBL,KAA8B,CAAlCtb,EACAjB,CAAAA,GAAIuc,CAAAA,CAAMQ,UAANR,CAAMQ,EAAaH,CAAnBL,CADJtb,EAGA0b,CAAAA,IACCN,CAAAA,CAAMQ,MAANR,CAAMQ,CAFPH,CAAAA,GAASzb,CAAAA,GAAIjB,CAEN6c,KAAiB,EAAvBR,IACAA,CAAAA,CAAMQ,MAANR,CAAcK,CAAAA,IAAU,CAAVA,GAAe,EAA7BL,CADAA,GAEAA,CAAAA,CAAMQ,MAANR,CAAcK,CAAAA,IAAU,CAAVA,GAAe,EAA7BL,CAFAA,GAGA,GARa,IAUO,KAAXS,CAAW,KACrBJ,CAAAA,GAASH,CAAAA,CAAMQ,UAANR,CAAiBK,CAAjBL,CAATG,EACAC,CAAAA,IACCN,CAAAA,CAAMQ,MAANR,CAAaK,CAAAA,IAAU,CAAvBL,IACAA,CAAAA,CAAMQ,MAANR,CAAcK,CAAAA,IAAU,CAAVA,GAAe,EAA7BL,CADAA,GAEA,IALoB,CAVP,EAmBRM,CAAP;AAAOA,OAGK;AAEZO,MAAAA,MAAAA,EAnGY,UAASX,CAAT,EAASA;AAGrB,YAAI5Z,CAAAA,GAAAA,CAFJ4Z,CAAAA,GAAQ3W,MAAAA,CAAO2W,CAAP3W,CAAAA,CACN3C,OADM2C,CACE0W,CADF1W,EAC0B,EAD1BA,CAEJjD,EAAeA,MAAnB;AACIA,QAAAA,CAAAA,GAAS,CAATA,IAAc,CAAdA,KAEHA,CAAAA,GAAAA,CADA4Z,CAAAA,GAAQA,CAAAA,CAAMtZ,OAANsZ,CAAc,MAAdA,EAAsB,EAAtBA,CACR5Z,EAAeA,MAFZA,GAEYA,CAGfA,CAAAA,GAAS,CAATA,IAAc,CAAdA,IAEA,kBAAiBgL,IAAjB,CAAsB4O,CAAtB,CALe5Z,KAOf6E,CAAAA,CACC,uEADDA,CATG7E;;AAkBJ,aALA,IACI8Z,CADJ,EAEIC,CAFJ,EAAIF,CAAAA,GAAa,CAAjB,EAGIG,CAAAA,GAAS,EAHb,EAIIC,CAAAA,GAAAA,CAAY,CAChB,EADgB,EACPA,CADO,GACIja,CAApB,GACC+Z,CAAAA,GAASL,CAAAA,CAAMnJ,OAANmJ,CAAcE,CAAAA,CAAMM,MAANN,CAAaK,CAAbL,CAAdF,CAATK,EACAD,CAAAA,GAAaD,CAAAA,GAAa,CAAbA,GAA8B,KAAbC,CAAa,GAAKC,CAAnCF,GAA4CE,CADzDA,EAGIF,CAAAA,KAAe,CAAfA,KAEHG,CAAAA,IAAU/W,MAAAA,CAAOI,YAAPJ,CACT,MAAO6W,CAAAA,KAAAA,CAAgB,CAAhBA,GAAoBD,CAApBC,GAAiC,CAAjCA,CADE7W,CAFP4W,CAHJE;;AAUD,eAAOC,CAAP;AAAOA,OAgEK;AAGZQ,MAAAA,OAAAA,EAAW;AAHC,KA/Gb;;AA+HO,QAAIjB,CAAAA,IAAAA,CAAgBA,CAAAA,CAAYkB,QAAhC;AACN,UAAIjB,CAAJ,EACCA,CAAAA,CAAWrc,OAAXqc,GAAqBa,CAArBb,CADD,KAGC,KAAK,IAAInV,CAAT,IAAgBgW,CAAhB,EACCA,CAAAA,CAAO7X,cAAP6X,CAAsBhW,CAAtBgW,MAA+Bd,CAAAA,CAAYlV,CAAZkV,CAAAA,GAAmBc,CAAAA,CAAOhW,CAAPgW,CAAlDA;AALI,WASNpI,CAAAA,CAAKoI,MAALpI,GAAcoI,CAAdpI;AAjKF,GACE,CAmKAzK,CAnKA,CDsHF;AC6CEA,CD7CF,CAAA;AAAA,IEnHIkT,EAAAA,GAAa,EFmHjB;;AE3EA,SAASjW,EAAT,CAAakX,CAAb,EAAkBtX,CAAlB,EAAkBA;AAChB,SAAOpH,MAAAA,CAAOwF,SAAPxF,CAAiBuF,cAAjBvF,CAAgCqH,IAAhCrH,CAAqC0e,CAArC1e,EAA0CoH,CAA1CpH,CAAP;AAGF;;AAAA,IAAA,EAAA,GA1CA,UAAoB0d,CAApB,EAAoBA;AAClB,MAAID,EAAAA,CAAWC,CAAXD,CAAJ,EACE,OAAOA,EAAAA,CAAWC,CAAXD,CAAP;AAGF,MAAI5F,CAAAA,GAAQ6F,CAAAA,CAAMlX,KAANkX,CAAY,GAAZA,CAAZ;AAAA,MACIC,CAAAA,GAAQ9F,CAAAA,CAAM,CAANA,CADZ;AAAA,MAEI+F,CAAAA,GAAa/F,CAAAA,CAAM,CAANA,CAFjB;AAGA,MAAA,CAAK+F,CAAL,EACE,MAAM,IAAIpa,KAAJ,CAAU,eAAV,CAAN;;AAGF,MAAIqa,CAAAA,GAkBN,UAAqBD,CAArB,EAAqBA;AACnB,QAAA;AACE,aAAO7R,IAAAA,CAAKiN,KAALjN,CAAWqR,EAAAA,CAAOE,MAAPF,CAAcQ,CAAdR,CAAXrR,CAAP;AACA,KAFF,CAEE,OAAOkN,CAAP,EAAOA;AACP,YAAM,IAAIzV,KAAJ,CAAU,eAAV,CAAN;AAAgB;AAtBEsa,GAkBtB,CAlBkCF,CAkBlC,CAlBE;AAAA,MAEIzP,CAAAA,GAAS;AACXwP,IAAAA,KAAAA,EAAOA,CADI;AAEXI,IAAAA,IAAAA,EAAMF,CAAAA,CAAcvc;AAFT,GAFb;;AAeA,SATIkG,EAAAA,CAAIqW,CAAJrW,EAAmB,GAAnBA,CAAAA,KAAyB2G,CAAAA,CAAO6P,aAAP7P,GAAuB0P,CAAAA,CAAcxc,CAA9DmG,GACAA,EAAAA,CAAIqW,CAAJrW,EAAmB,KAAnBA,CAAAA,KAA2B2G,CAAAA,CAAO8P,OAAP9P,GAAqC,MAApB0P,CAAAA,CAAcK,GAA1D1W,CADAA,EAEAA,EAAAA,CAAIqW,CAAJrW,EAAmB,KAAnBA,CAAAA,KAA2B2G,CAAAA,CAAOgQ,OAAPhQ,GAAqC,MAApB0P,CAAAA,CAAcO,GAA1D5W,CAFAA,EAGAA,EAAAA,CAAIqW,CAAJrW,EAAmB,QAAnBA,CAAAA,KAA8B2G,CAAAA,CAAOkQ,MAAPlQ,GAAgB0P,CAAAA,CAAcQ,MAA5D7W,CAHAA,EAIAA,EAAAA,CAAIqW,CAAJrW,EAAmB,QAAnBA,CAAAA,KAA8B2G,CAAAA,CAAOiO,MAAPjO,GAAgB0P,CAAAA,CAAczB,MAA5D5U,CAJAA,EAKAA,EAAAA,CAAIqW,CAAJrW,EAAmB,IAAnBA,CAAAA,KAA0B2G,CAAAA,CAAOmQ,SAAPnQ,GAAmB0P,CAAAA,CAAcU,EAA3D/W,CALAA,EAMAA,EAAAA,CAAIqW,CAAJrW,EAAmB,IAAnBA,CAAAA,KAA0B2G,CAAAA,CAAOqQ,YAAPrQ,GAAsB0P,CAAAA,CAAcY,EAA9DjX,CANAA,EAQJiW,EAAAA,CAAWC,CAAXD,CAAAA,GAAoBtP,CARhB3G,EASG2G,CAAP;AAAOA,CAeT;AAAA,IAfSA,EAAAA,GAAAA,CAAAA,CAAAA,UAAAA,CAAAA,EAAAA;AC/BT,MAAI3G,CAAAA,GAAMxH,MAAAA,CAAOwF,SAAPxF,CAAiBuF,cAA3B;AAAA,MACIoZ,CAAAA,GAAS,GADb;;AAUA,WAASC,CAAT,GAASA,CA4BT;;AAAA,WAASG,CAAT,CAAYC,CAAZ,EAAgBC,CAAhB,EAAyBC,CAAzB,EAAyBA;AACvB3U,SAAKyU,EAALzU,GAAUyU,CAAVzU,EACAA,KAAK0U,OAAL1U,GAAe0U,CADf1U,EAEAA,KAAK2U,IAAL3U,GAAY2U,CAAAA,IAAAA,CAAQ,CAFpB3U;AAgBF;;AAAA,WAAS4U,CAAT,CAAqBjE,CAArB,EAA8BT,CAA9B,EAAqCuE,CAArC,EAAyCC,CAAzC,EAAkDC,CAAlD,EAAkDA;AAChD,QAAkB,cAAA,OAAPF,CAAX,EACE,MAAM,IAAInZ,SAAJ,CAAc,iCAAd,CAAN;AAGF,QAAIuZ,CAAAA,GAAW,IAAIL,CAAJ,CAAOC,CAAP,EAAWC,CAAAA,IAAW/D,CAAtB,EAA+BgE,CAA/B,CAAf;AAAA,QACIG,CAAAA,GAAMV,CAAAA,GAASA,CAAAA,GAASlE,CAAlBkE,GAA0BlE,CADpC;AAOA,WAJKS,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,IACKA,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,EAAqB8D,EAArB9D,GACLA,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,IAAuB,CAACA,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,CAAD,EAAuBkE,CAAvB,CADlBlE,GAAyBA,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,EAAqBtK,IAArBsK,CAA0BkE,CAA1BlE,CAD9BA,IAAsBA,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,IAAuBkE,CAAvBlE,EAAiCA,CAAAA,CAAQqE,YAARrE,EAAvDA,GAIEA,CAAP;AAUF;;AAAA,WAASsE,CAAT,CAAoBtE,CAApB,EAA6BmE,CAA7B,EAA6BA;AACI,SAAA,EAAzBnE,CAAAA,CAAQqE,YAAiB,GAAGrE,CAAAA,CAAQoE,OAARpE,GAAkB,IAAI0D,CAAJ,EAArB,GAAyBA,OAC5C1D,CAAAA,CAAQoE,OAARpE,CAAgBmE,CAAhBnE,CADmB;AAWjC;;AAAA,WAASuE,CAAT,GAASA;AACPlV,SAAK+U,OAAL/U,GAAe,IAAIqU,CAAJ,EAAfrU,EACAA,KAAKgV,YAALhV,GAAoB,CADpBA;AAvEEvK;;AAAAA,EAAAA,MAAAA,CAAO6e,MAAP7e,KACF4e,CAAAA,CAAOpZ,SAAPoZ,GAAmB5e,MAAAA,CAAO6e,MAAP7e,CAAc,IAAdA,CAAnB4e,EAMK,IAAIA,CAAJ,EAN4B,CAMfE,SANe,KAMJH,CAAAA,GAAAA,CAAS,CANL,CAD/B3e,GAkFJyf,CAAAA,CAAaja,SAAbia,CAAuBC,UAAvBD,GAAoC,YAAA;AAClC,QACIG,CADJ;AAAA,QAEIxX,CAFJ;AAAA,QAAIuX,CAAAA,GAAQ,EAAZ;AAIA,QAA0B,MAAtBpV,KAAKgV,YAAT,EAA6B,OAAOI,CAAP;;AAE7B,SAAKvX,CAAL,IAAcwX,CAAAA,GAASrV,KAAK+U,OAA5B,EACM9X,CAAAA,CAAIH,IAAJG,CAASoY,CAATpY,EAAiBY,CAAjBZ,KAAwBmY,CAAAA,CAAM/O,IAAN+O,CAAWhB,CAAAA,GAASvW,CAAAA,CAAK8L,KAAL9L,CAAW,CAAXA,CAATuW,GAAyBvW,CAApCuX,CAAxBnY;;AAGN,WAAIxH,MAAAA,CAAOsF,qBAAPtF,GACK2f,CAAAA,CAAM5b,MAAN4b,CAAa3f,MAAAA,CAAOsF,qBAAPtF,CAA6B4f,CAA7B5f,CAAb2f,CADL3f,GAIG2f,CAJP;AAIOA,GAjGL3f,EA2GJyf,CAAAA,CAAaja,SAAbia,CAAuBI,SAAvBJ,GAAmC,UAAmBhF,CAAnB,EAAmBA;AACpD,QACIqF,CAAAA,GAAWvV,KAAK+U,OAAL/U,CADLoU,CAAAA,GAASA,CAAAA,GAASlE,CAAlBkE,GAA0BlE,CACrBlQ,CADf;AAGA,QAAA,CAAKuV,CAAL,EAAe,OAAO,EAAP;AACf,QAAIA,CAAAA,CAASd,EAAb,EAAiB,OAAO,CAACc,CAAAA,CAASd,EAAV,CAAP;;AAEjB,SAAK,IAAI7Y,CAAAA,GAAI,CAAR,EAAWrF,CAAAA,GAAIgf,CAAAA,CAAS/c,MAAxB,EAAgCgd,CAAAA,GAAK,IAAI9c,KAAJ,CAAUnC,CAAV,CAA1C,EAAwDqF,CAAAA,GAAIrF,CAA5D,EAA+DqF,CAAAA,EAA/D,EACE4Z,CAAAA,CAAG5Z,CAAH4Z,CAAAA,GAAQD,CAAAA,CAAS3Z,CAAT2Z,CAAAA,CAAYd,EAApBe;;AAGF,WAAOA,CAAP;AAAOA,GAtHL/f,EAgIJyf,CAAAA,CAAaja,SAAbia,CAAuBO,aAAvBP,GAAuC,UAAuBhF,CAAvB,EAAuBA;AAC5D,QACIoF,CAAAA,GAAYtV,KAAK+U,OAAL/U,CADNoU,CAAAA,GAASA,CAAAA,GAASlE,CAAlBkE,GAA0BlE,CACpBlQ,CADhB;AAGA,WAAKsV,CAAAA,GACDA,CAAAA,CAAUb,EAAVa,GAAqB,CAArBA,GACGA,CAAAA,CAAU9c,MAFZ8c,GAAkB,CAAvB;AAAuB,GApIrB7f,EAgJJyf,CAAAA,CAAaja,SAAbia,CAAuBtE,IAAvBsE,GAA8B,UAAchF,CAAd,EAAqBwF,CAArB,EAAyBC,CAAzB,EAA6BC,CAA7B,EAAiCC,CAAjC,EAAqCC,CAArC,EAAqCA;AACjE,QAAIhB,CAAAA,GAAMV,CAAAA,GAASA,CAAAA,GAASlE,CAAlBkE,GAA0BlE,CAApC;AAEA,QAAA,CAAKlQ,KAAK+U,OAAL/U,CAAa8U,CAAb9U,CAAL,EAAwB,OAAA,CAAO,CAAP;AAExB,QAEIvH,CAFJ;AAAA,QAGImD,CAHJ;AAAA,QAAI0Z,CAAAA,GAAYtV,KAAK+U,OAAL/U,CAAa8U,CAAb9U,CAAhB;AAAA,QACI6D,CAAAA,GAAMtL,SAAAA,CAAUC,MADpB;;AAKA,QAAI8c,CAAAA,CAAUb,EAAd,EAAkB;AAGhB,cAFIa,CAAAA,CAAUX,IAAVW,IAAgBtV,KAAK+V,cAAL/V,CAAoBkQ,CAApBlQ,EAA2BsV,CAAAA,CAAUb,EAArCzU,EAAqCyU,KAAIrb,CAAzC4G,EAAyC5G,CAAW,CAApD4G,CAAhBsV,EAEIzR,CAAR;AACE,aAAK,CAAL;AAAQ,iBAAOyR,CAAAA,CAAUb,EAAVa,CAAaxY,IAAbwY,CAAkBA,CAAAA,CAAUZ,OAA5BY,GAA4BZ,CAAU,CAA7C;;AACR,aAAK,CAAL;AAAQ,iBAAOY,CAAAA,CAAUb,EAAVa,CAAaxY,IAAbwY,CAAkBA,CAAAA,CAAUZ,OAA5BY,EAAqCI,CAArCJ,GAAqCI,CAAK,CAAjD;;AACR,aAAK,CAAL;AAAQ,iBAAOJ,CAAAA,CAAUb,EAAVa,CAAaxY,IAAbwY,CAAkBA,CAAAA,CAAUZ,OAA5BY,EAAqCI,CAArCJ,EAAyCK,CAAzCL,GAAyCK,CAAK,CAArD;;AACR,aAAK,CAAL;AAAQ,iBAAOL,CAAAA,CAAUb,EAAVa,CAAaxY,IAAbwY,CAAkBA,CAAAA,CAAUZ,OAA5BY,EAAqCI,CAArCJ,EAAyCK,CAAzCL,EAA6CM,CAA7CN,GAA6CM,CAAK,CAAzD;;AACR,aAAK,CAAL;AAAQ,iBAAON,CAAAA,CAAUb,EAAVa,CAAaxY,IAAbwY,CAAkBA,CAAAA,CAAUZ,OAA5BY,EAAqCI,CAArCJ,EAAyCK,CAAzCL,EAA6CM,CAA7CN,EAAiDO,CAAjDP,GAAiDO,CAAK,CAA7D;;AACR,aAAK,CAAL;AAAQ,iBAAOP,CAAAA,CAAUb,EAAVa,CAAaxY,IAAbwY,CAAkBA,CAAAA,CAAUZ,OAA5BY,EAAqCI,CAArCJ,EAAyCK,CAAzCL,EAA6CM,CAA7CN,EAAiDO,CAAjDP,EAAqDQ,CAArDR,GAAqDQ,CAAK,CAAjE;AANV;;AASA,WAAKla,CAAAA,GAAI,CAAJA,EAAOnD,CAAAA,GAAO,IAAIC,KAAJ,CAAUmL,CAAAA,GAAK,CAAf,CAAnB,EAAsCjI,CAAAA,GAAIiI,CAA1C,EAA+CjI,CAAAA,EAA/C,EACEnD,CAAAA,CAAKmD,CAAAA,GAAI,CAATnD,CAAAA,GAAcF,SAAAA,CAAUqD,CAAVrD,CAAdE;;AAGF6c,MAAAA,CAAAA,CAAUb,EAAVa,CAAa/b,KAAb+b,CAAmBA,CAAAA,CAAUZ,OAA7BY,EAAsC7c,CAAtC6c;AAAsC7c,KAhBxC,MAiBO;AACL,UACIud,CADJ;AAAA,UAAIxd,CAAAA,GAAS8c,CAAAA,CAAU9c,MAAvB;;AAGA,WAAKoD,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIpD,CAAhB,EAAwBoD,CAAAA,EAAxB,EAGE,QAFI0Z,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaX,IAAbW,IAAmBtV,KAAK+V,cAAL/V,CAAoBkQ,CAApBlQ,EAA2BsV,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAxCzU,EAAwCyU,KAAIrb,CAA5C4G,EAA4C5G,CAAW,CAAvD4G,CAAnBsV,EAEIzR,CAAR;AACE,aAAK,CAAL;AAAQyR,UAAAA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAba,CAAgBxY,IAAhBwY,CAAqBA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaZ,OAAlCY;AAA4C;;AACpD,aAAK,CAAL;AAAQA,UAAAA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAba,CAAgBxY,IAAhBwY,CAAqBA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaZ,OAAlCY,EAA2CI,CAA3CJ;AAAgD;;AACxD,aAAK,CAAL;AAAQA,UAAAA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAba,CAAgBxY,IAAhBwY,CAAqBA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaZ,OAAlCY,EAA2CI,CAA3CJ,EAA+CK,CAA/CL;AAAoD;;AAC5D,aAAK,CAAL;AAAQA,UAAAA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAba,CAAgBxY,IAAhBwY,CAAqBA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaZ,OAAlCY,EAA2CI,CAA3CJ,EAA+CK,CAA/CL,EAAmDM,CAAnDN;AAAwD;;AAChE;AACE,cAAA,CAAK7c,CAAL,EAAW,KAAKud,CAAAA,GAAI,CAAJA,EAAOvd,CAAAA,GAAO,IAAIC,KAAJ,CAAUmL,CAAAA,GAAK,CAAf,CAAnB,EAAsCmS,CAAAA,GAAInS,CAA1C,EAA+CmS,CAAAA,EAA/C,EACTvd,CAAAA,CAAKud,CAAAA,GAAI,CAATvd,CAAAA,GAAcF,SAAAA,CAAUyd,CAAVzd,CAAdE;AAGF6c,UAAAA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAba,CAAgB/b,KAAhB+b,CAAsBA,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaZ,OAAnCY,EAA4C7c,CAA5C6c;AAVJ;AAeJ;;AAAA,WAAA,CAAO,CAAP;AAAO,GAjML7f,EA6MJyf,CAAAA,CAAaja,SAAbia,CAAuBe,EAAvBf,GAA4B,UAAYhF,CAAZ,EAAmBuE,CAAnB,EAAuBC,CAAvB,EAAuBA;AACjD,WAAOE,CAAAA,CAAY5U,IAAZ4U,EAAkB1E,CAAlB0E,EAAyBH,CAAzBG,EAA6BF,CAA7BE,EAA6BF,CAAS,CAAtCE,CAAP;AAA6C,GA9M3Cnf,EA0NJyf,CAAAA,CAAaja,SAAbia,CAAuBP,IAAvBO,GAA8B,UAAchF,CAAd,EAAqBuE,CAArB,EAAyBC,CAAzB,EAAyBA;AACrD,WAAOE,CAAAA,CAAY5U,IAAZ4U,EAAkB1E,CAAlB0E,EAAyBH,CAAzBG,EAA6BF,CAA7BE,EAA6BF,CAAS,CAAtCE,CAAP;AAA6C,GA3N3Cnf,EAwOJyf,CAAAA,CAAaja,SAAbia,CAAuBa,cAAvBb,GAAwC,UAAwBhF,CAAxB,EAA+BuE,CAA/B,EAAmCC,CAAnC,EAA4CC,CAA5C,EAA4CA;AAClF,QAAIG,CAAAA,GAAMV,CAAAA,GAASA,CAAAA,GAASlE,CAAlBkE,GAA0BlE,CAApC;AAEA,QAAA,CAAKlQ,KAAK+U,OAAL/U,CAAa8U,CAAb9U,CAAL,EAAwB,OAAOA,IAAP;AACxB,QAAA,CAAKyU,CAAL,EAEE,OADAQ,CAAAA,CAAWjV,IAAXiV,EAAiBH,CAAjBG,CAAAA,EACOjV,IAAP;AAGF,QAAIsV,CAAAA,GAAYtV,KAAK+U,OAAL/U,CAAa8U,CAAb9U,CAAhB;AAEA,QAAIsV,CAAAA,CAAUb,EAAd,EAEIa,CAAAA,CAAUb,EAAVa,KAAiBb,CAAjBa,IACEX,CAAAA,IAAAA,CAAQW,CAAAA,CAAUX,IADpBW,IAEEZ,CAAAA,IAAWY,CAAAA,CAAUZ,OAAVY,KAAsBZ,CAFnCY,IAIAL,CAAAA,CAAWjV,IAAXiV,EAAiBH,CAAjBG,CAJAK,CAFJ,KAQO;AACL,WAAK,IAAI1Z,CAAAA,GAAI,CAAR,EAAWyZ,CAAAA,GAAS,EAApB,EAAwB7c,CAAAA,GAAS8c,CAAAA,CAAU9c,MAAhD,EAAwDoD,CAAAA,GAAIpD,CAA5D,EAAoEoD,CAAAA,EAApE,EAAoEA,CAEhE0Z,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAab,EAAba,KAAoBb,CAApBa,IACCX,CAAAA,IAAAA,CAASW,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaX,IADvBW,IAECZ,CAAAA,IAAWY,CAAAA,CAAU1Z,CAAV0Z,CAAAA,CAAaZ,OAAbY,KAAyBZ,CAJ2B9Y,KAMhEyZ,CAAAA,CAAOhP,IAAPgP,CAAYC,CAAAA,CAAU1Z,CAAV0Z,CAAZD,CANgEzZ;;AAahEyZ,MAAAA,CAAAA,CAAO7c,MAAP6c,GAAerV,KAAK+U,OAAL/U,CAAa8U,CAAb9U,IAAsC,MAAlBqV,CAAAA,CAAO7c,MAAW,GAAI6c,CAAAA,CAAO,CAAPA,CAAJ,GAAgBA,CAArEA,GACCJ,CAAAA,CAAWjV,IAAXiV,EAAiBH,CAAjBG,CADDI;AAIN;AAAA,WAAOrV,IAAP;AAAOA,GA7QLvK,EAuRJyf,CAAAA,CAAaja,SAAbia,CAAuBgB,kBAAvBhB,GAA4C,UAA4BhF,CAA5B,EAA4BA;AACtE,QAAI4E,CAAJ;AAUA,WARI5E,CAAAA,GAEElQ,KAAK+U,OAAL/U,CADJ8U,CAAAA,GAAMV,CAAAA,GAASA,CAAAA,GAASlE,CAAlBkE,GAA0BlE,CAC5BlQ,KAAmBiV,CAAAA,CAAWjV,IAAXiV,EAAiBH,CAAjBG,CAFrB/E,IAIFlQ,KAAK+U,OAAL/U,GAAe,IAAIqU,CAAJ,EAAfrU,EACAA,KAAKgV,YAALhV,GAAoB,CALlBkQ,CAAAA,EAQGlQ,IAAP;AAAOA,GAlSLvK,EAwSJyf,CAAAA,CAAaja,SAAbia,CAAuBiB,GAAvBjB,GAA6BA,CAAAA,CAAaja,SAAbia,CAAuBa,cAxShDtgB,EAySJyf,CAAAA,CAAaja,SAAbia,CAAuBN,WAAvBM,GAAqCA,CAAAA,CAAaja,SAAbia,CAAuBe,EAzSxDxgB,EA8SJyf,CAAAA,CAAakB,QAAblB,GAAwBd,CA9SpB3e,EAmTJyf,CAAAA,CAAaA,YAAbA,GAA4BA,CAnTxBzf,EAyTFmF,CAAAA,CAAAA,OAAAA,GAAiBsa,CAzTfzf;AAyTeyf,CD7SVtR,CAeT;;AExCA,SAAS0S,EAAT,CAAqB1gB,CAArB,EAAqBA;AACnB,SAAI8C,KAAAA,CAAMwI,OAANxI,CAAc9C,CAAd8C,IACiB9C,CAAAA,CALHkG,GAKGlG,CALCygB,kBAKDzgB,EALqBmG,IAKrBnG,CAL0B,GAK1BA,CADjB8C,GAGG2d,kBAAAA,CAAmB5a,MAAAA,CAAO7F,CAAP6F,CAAnB4a,CAHP;AAgBF;;AAAA,SAASE,EAAT,CAA0BzI,CAA1B,EAA+BjR,CAA/B,EAAoCjH,CAApC,EAAoCA;AAClC,MAAA,CAAc,CAAd,KAAIA,CAAJ,IAAiC,SAAVA,CAAvB,EACE,OAAOkY,CAAP;AAEF,MAAI0I,CAAAA,GAAc,KAAKhT,IAAL,CAAUsK,CAAV,IAAiB,GAAjB,GAAuB,GAAzC;AAAA,MACIpG,CAAAA,GAAQ2O,kBAAAA,CAAmBxZ,CAAnBwZ,CADZ;AAKA,SAAA,KAHcjd,CAGd,KAHIxD,CAGJ,IAHqC,OAAVA,CAG3B,IAH2BA,CAA0B,CAA1BA,KAAgBA,CAG3C,KAFE8R,CAAAA,IAAS,MAAM4O,EAAAA,CAAY1gB,CAAZ0gB,CAEjB,GAAO,KAAKxI,CAAL,GAAW0I,CAAX,GAAyB9O,CAAhC;AAgFF;;AAAA,IAAA,EAAA,GAAiB;AACfqP,EAAAA,iBAAAA,EAtEF,UAA2BjJ,CAA3B,EAAgC2I,CAAhC,EAAgCA;AAC9B,QAAA,CAAKA,CAAL,EACE,OAAO3I,CAAP;AAGF,QAAIlK,CAAAA,GAASkK,CAAb;AAeA,WAdArY,MAAAA,CAAO2G,IAAP3G,CAAYghB,CAAZhhB,EAAyByG,OAAzBzG,CAAiC,UAASoH,CAAT,EAASA;AACxC,UAAIjH,CAAAA,GAAQ6gB,CAAAA,CAAY5Z,CAAZ4Z,CAAZ;AAAwB5Z,WACVzD,CADUyD,KACpBjH,CADoBiH,KAIpBnE,KAAAA,CAAMwI,OAANxI,CAAc9C,CAAd8C,MACF9C,CAAAA,GAAQA,CAAAA,CACL0N,MADK1N,CACE,UAASsB,CAAT,EAASA;AACf,eAAA,CAAA,CAASA,CAAT;AAASA,OAFLtB,EAILmG,IAJKnG,CAIA,GAJAA,CADN8C,GAOJkL,CAAAA,GAAS2S,EAAAA,CAAiB3S,CAAjB2S,EAAyB1Z,CAAzB0Z,EAA8B3gB,CAA9B2gB,CAXe1Z;AAWejH,KAZzCH,GAcOmO,CAAP;AAAOA,GAiDQ;AAEf2S,EAAAA,gBAAAA,EAAkBA,EAFH;AAGfS,EAAAA,aAAAA,EAzCF,UAAuBlJ,CAAvB,EAA4B4I,CAA5B,EAA4BA;AAC1B,QAAA,CAAKA,CAAL,EACE,OAAO5I,CAAP;AAGF,QAAwB,WAApBA,CAAAA,CAAInE,KAAJmE,CAAU,CAAVA,EAAa,CAAbA,CAAJ,EACE,OAAOA,CAAP;AAGF,QAAI6I,CAAAA,GAAuB,QAAX7I,CAAAA,CAAI,CAAJA,CAAW,GAAM,EAAN,GAAW,GAAtC;AACA,WAAO,KAAK4I,CAAAA,CAAO5d,OAAP4d,CAAe,KAAfA,EAAsB,EAAtBA,CAAL,GAAiCC,CAAjC,GAA6C7I,CAApD;AAAoDA,GA4BrC;AAIfmJ,EAAAA,sBAAAA,EAlBF,UAAgCL,CAAhC,EAAuC7I,CAAvC,EAAuCA;AACrC,WAAKA,CAAAA,GAGE6I,CAAAA,CAAM9d,OAAN8d,CAAc,oBAAdA,EAAoC,UAASC,CAAT,EAAYC,CAAZ,EAAYA;AACrD,UAAIlhB,CAAAA,GAAQmY,CAAAA,CAAO+I,CAAP/I,CAAZ;AACA,UAAA,KAAc3U,CAAd,KAAIxD,CAAJ,EACE,MAAM,IAAIqD,KAAJ,CAAU,iCAAiC6d,CAA3C,CAAN;AAGF,aAAO,MADYR,EAAAA,CAAY1gB,CAAZ0gB,CACnB;AAD+B1gB,KAL1BghB,CAHF7I,GACI6I,CADT;AACSA;AAYM,CAAjB;AAAA,IC1GIM,EAAAA,GAAY,CD0GhB;;AC/CA,SAASC,EAAT,CAAqBtF,CAArB,EAA6BxK,CAA7B,EAA6BA;AAC3B,MAAA,CAAKwK,CAAL,EACE,MAAM,IAAI5Y,KAAJ,CAAU,+BAAV,CAAN;AAEF,MAAA,CAAKoO,CAAL,IAAKA,CAAYA,CAAAA,CAAQ2H,IAAzB,IAAyBA,CAAS3H,CAAAA,CAAQqK,MAA1C,EACE,MAAM,IAAIzY,KAAJ,CACJ,wEADI,CAAN;AAKF,MAAIme,CAAAA,GAAiB,EAArB;AACI/P,EAAAA,CAAAA,CAAQkH,IAARlH,KACF+P,CAAAA,CAAe,cAAfA,CAAAA,GAAiC,kBAD/B/P;AAIJ,MAAIgQ,CAAAA,GAAsBC,CAAAA,CAAMF,CAANE,EAAsBjQ,CAAAA,CAAQgH,OAA9BiJ,CAA1B;AAAA,MAIIjJ,CAAAA,GAAU5Y,MAAAA,CAAO2G,IAAP3G,CAAY4hB,CAAZ5hB,EAAiCkP,MAAjClP,CAAwC,UAAS8hB,CAAT,EAAe1Z,CAAf,EAAeA;AAEnE,WADA0Z,CAAAA,CAAK1Z,CAAAA,CAAKuG,WAALvG,EAAL0Z,CAAAA,GAA2BF,CAAAA,CAAoBxZ,CAApBwZ,CAA3BE,EACOA,CAAP;AAAOA,GAFK9hB,EAGX,EAHWA,CAJd;AASAuK,OAAK4P,EAAL5P,GAAUkX,EAAAA,EAAVlX,EACAA,KAAKwX,QAALxX,GAAgBqH,CADhBrH,EAGAA,KAAK2Q,OAAL3Q,GAAe,IAAIkV,EAAJ,EAHflV,EAIAA,KAAK6R,MAAL7R,GAAc6R,CAJd7R,EAKAA,KAAK8P,QAAL9P,GAAgB,IALhBA,EAMAA,KAAK3C,KAAL2C,GAAa,IANbA,EAOAA,KAAKyX,IAALzX,GAAKyX,CAAO,CAPZzX,EAQAA,KAAK0X,OAAL1X,GAAK0X,CAAU,CARf1X,EASAA,KAAKgP,IAALhP,GAAYqH,CAAAA,CAAQ2H,IATpBhP,EAUAA,KAAK0R,MAAL1R,GAAcqH,CAAAA,CAAQqK,MAVtB1R,EAWAA,KAAK0W,MAAL1W,GAAcqH,CAAAA,CAAQqP,MAARrP,IAAkBwK,CAAAA,CAAO6E,MAXvC1W,EAYAA,KAAK0H,KAAL1H,GAAaqH,CAAAA,CAAQK,KAARL,IAAiB,EAZ9BrH,EAaAA,KAAK+N,MAAL/N,GAAcqH,CAAAA,CAAQ0G,MAAR1G,IAAkB,EAbhCrH,EAcAA,KAAKuO,IAALvO,GAAYqH,CAAAA,CAAQkH,IAARlH,IAAgB,IAd5BrH,EAeAA,KAAK6Q,IAAL7Q,GAAYqH,CAAAA,CAAQwJ,IAARxJ,IAAgB,IAf5BrH,EAgBAA,KAAKqO,OAALrO,GAAeqO,CAhBfrO;AA0BFmX;;AAAAA,EAAAA,CAAYlc,SAAZkc,CAAsBrJ,GAAtBqJ,GAA4B,UAAa5F,CAAb,EAAaA;AACvC,MAAIzD,CAAAA,GAAM6J,EAAAA,CAASX,aAATW,CAAuB3X,KAAKgP,IAA5B2I,EAAkC3X,KAAK0W,MAAvCiB,CAAV;AACA7J,EAAAA,CAAAA,GAAM6J,EAAAA,CAASZ,iBAATY,CAA2B7J,CAA3B6J,EAAgC3X,KAAK0H,KAArCiQ,CAAN7J;AACA,MAAI8J,CAAAA,GAAc5X,KAAK+N,MAAvB;;AACA,MAAIwD,CAAJ,EAAiB;AACfzD,IAAAA,CAAAA,GAAM6J,EAAAA,CAASpB,gBAAToB,CAA0B7J,CAA1B6J,EAA+B,cAA/BA,EAA+CpG,CAA/CoG,CAAN7J;AACA,QAAI+J,CAAAA,GAAqBC,EAAAA,CAAWvG,CAAXuG,CAAAA,CAAwBtE,IAAjD;AACAoE,IAAAA,CAAAA,GAAcN,CAAAA,CAAM;AAAES,MAAAA,OAAAA,EAASF;AAAX,KAANP,EAAuCM,CAAvCN,CAAdM;AAGF;;AAAA,SADMD,EAAAA,CAASV,sBAATU,CAAgC7J,CAAhC6J,EAAqCC,CAArCD,CACN;AAD2CC,CAT7CT,EAwBAA,EAAAA,CAAYlc,SAAZkc,CAAsB/F,IAAtB+F,GAA6B,YAAA;AAC3B,MAAI3O,CAAAA,GAAOxI,IAAX;AAEA,MAAIwI,CAAAA,CAAKiP,IAAT,EACE,MAAM,IAAIxe,KAAJ,CACJ,iHADI,CAAN;AAMF,SAFAuP,CAAAA,CAAKiP,IAALjP,GAAKiP,CAAO,CAAZjP,EAEOA,CAAAA,CAAKqJ,MAALrJ,CAAYwP,WAAZxP,CAAwBA,CAAxBA,EAA8B6I,IAA9B7I,CACL,UAASsH,CAAT,EAASA;AAGP,WAFAtH,CAAAA,CAAKsH,QAALtH,GAAgBsH,CAAhBtH,EACAA,CAAAA,CAAKmI,OAALnI,CAAaoI,IAAbpI,CAAkBiH,EAAAA,CAAUJ,cAA5B7G,EAA4CsH,CAA5CtH,CADAA,EAEOsH,CAAP;AAAOA,GAJJtH,EAML,UAASnL,CAAT,EAASA;AAGP,UAFAmL,CAAAA,CAAKnL,KAALmL,GAAanL,CAAbmL,EACAA,CAAAA,CAAKmI,OAALnI,CAAaoI,IAAbpI,CAAkBiH,EAAAA,CAAUL,WAA5B5G,EAAyCnL,CAAzCmL,CADAA,EAEMnL,CAAN;AAAMA,GATHmL,CAAP;AASUnL,CA3CZ8Z,EA6DAA,EAAAA,CAAYlc,SAAZkc,CAAsBtH,KAAtBsH,GAA8B,YAAA;AACxBnX,OAAKiY,gBAALjY,KACFA,KAAKiY,gBAALjY,CAAsB6P,KAAtB7P,IAAsB6P,OACf7P,KAAKiY,gBAFVjY,GAKAA,KAAK8P,QAAL9P,IAAiBA,KAAK3C,KAAtB2C,IAA+BA,KAAK0X,OAApC1X,KAEJA,KAAK0X,OAAL1X,GAAK0X,CAAU,CAAf1X,EACAA,KAAK6R,MAAL7R,CAAYkY,YAAZlY,CAAyBA,IAAzBA,CAHIA,CALAA;AAQqBA,CAtE3BmX,EA2FAA,EAAAA,CAAYlc,SAAZkc,CAAsBgB,QAAtBhB,GAAiC,UAAkB/N,CAAlB,EAAkBA;AACjD,MAAIZ,CAAAA,GAAOxI,IAAX;;AAEA,WAASoY,CAAT,CAAwBtI,CAAxB,EAAwBA;AAStB1G,IAAAA,CAAAA,CAAS,IAATA,EAAe0G,CAAf1G,EARA,YAAA;AAAA,aACSZ,CAAAA,CAAKyP,gBADd;AAEE,UAAII,CAAAA,GAAkBvI,CAAAA,CAAShB,QAATgB,EAAtB;AACIuI,MAAAA,CAAAA,KACF7P,CAAAA,CAAKyP,gBAALzP,GAAwB6P,CAAxB7P,EACA8P,CAAAA,CAAQD,CAARC,CAFED,CAAAA;AAEMA,KAGZjP,CAAAA;AAGF;;AAAA,WAASmP,CAAT,CAAqBlb,CAArB,EAAqBA;AACnB+L,IAAAA,CAAAA,CAAS/L,CAAT+L,EAAgB,IAAhBA,EAAsB,YAAA,CAAA,CAAtBA,CAAAA;AAGF;;AAAA,WAASkP,CAAT,CAAiBnK,CAAjB,EAAiBA;AACfA,IAAAA,CAAAA,CAAQiD,IAARjD,GAAekD,IAAflD,CAAoBiK,CAApBjK,EAAoCoK,CAApCpK;AAEFmK;;AAAAA,EAAAA,CAAAA,CAAQtY,IAARsY,CAAAA;AAAQtY,CAjHVmX,EA4HAA,EAAAA,CAAYlc,SAAZkc,CAAsBqB,KAAtBrB,GAA8B,YAAA;AAC5B,SAAOnX,KAAK+O,OAAL/O,EAAP;AAAY+O,CA7HdoI,EAmIAA,EAAAA,CAAYlc,SAAZkc,CAAsBpI,OAAtBoI,GAAgC,UAAiB9P,CAAjB,EAAiBA;AAC/C,MAAIoR,CAAAA,GAAkBnB,CAAAA,CAAMtX,KAAKwX,QAAXF,EAAqBjQ,CAArBiQ,CAAtB;AACA,SAAO,IAAIH,EAAJ,CAAgBnX,KAAK6R,MAArB,EAA6B4G,CAA7B,CAAP;AAAoCA,CArItCtB;AAwIA,IAAA,EAAA,GAAiBA,EAAjB;;ACvOA,SAASuB,EAAT,CAAoBrR,CAApB,EAAoBA;AAClB,MAAA,CAAKA,CAAL,IAAKA,CAAYA,CAAAA,CAAQkK,WAAzB,EACE,MAAM,IAAItY,KAAJ,CAAU,gDAAV,CAAN;AAGF6e,EAAAA,EAAAA,CAAWzQ,CAAAA,CAAQkK,WAAnBuG,CAAAA,EAEA9X,KAAKuR,WAALvR,GAAmBqH,CAAAA,CAAQkK,WAF3BuG,EAGA9X,KAAK0W,MAAL1W,GAAcqH,CAAAA,CAAQqP,MAARrP,IAAkBoI,EAAAA,CAAUR,UAH1C6I;AAMFY;;AAAAA,EAAAA,CAAWzd,SAAXyd,CAAqBC,aAArBD,GAAqC,UAAuBE,CAAvB,EAAuBA;AAC1D,SAAO,IAAIzB,EAAJ,CAAgBnX,IAAhB,EAAsB4Y,CAAtB,CAAP;AAA6BA,CAD/BF;;AAIA,IAAA,EAAA,GAAiBA,EAAjB;;AChCA,SAASG,EAAT,CAAuBxR,CAAvB,EAAuBA;AACrBqR,EAAAA,EAAAA,CAAW5b,IAAX4b,CAAgB1Y,IAAhB0Y,EAAsBrR,CAAtBqR;AAAsBrR;;AAAAA,CAExBwR,EAAAA,CAAc5d,SAAd4d,GAA0BpjB,MAAAA,CAAO6e,MAAP7e,CAAcijB,EAAAA,CAAWzd,SAAzBxF,CAFF4R,EAGA1E,WAHA0E,GAGcwR,EAHdxR,EAKxBwR,EAAAA,CAAc5d,SAAd4d,CAAwBb,WAAxBa,GPqGA,UAAqB1K,CAArB,EAAqBA;AACnB,SAAOoC,OAAAA,CAAQC,OAARD,GAAkBc,IAAlBd,CAAuB,YAAA;AAC5B,QAAIZ,CAAAA,GAZR,UAA0BxB,CAA1B,EAAmCoD,CAAnC,EAAmCA;AACjC,UAAIzD,CAAAA,GAAMK,CAAAA,CAAQL,GAARK,CAAYoD,CAAZpD,CAAV;AAAA,UACIwB,CAAAA,GAAM,IAAI9F,MAAAA,CAAO2H,cAAX,EADV;AAMA,aAJA7B,CAAAA,CAAI8B,IAAJ9B,CAASxB,CAAAA,CAAQuD,MAAjB/B,EAAyB7B,CAAzB6B,GACAla,MAAAA,CAAO2G,IAAP3G,CAAY0Y,CAAAA,CAAQE,OAApB5Y,EAA6ByG,OAA7BzG,CAAqC,UAASoH,CAAT,EAASA;AAC5C8S,QAAAA,CAAAA,CAAIgC,gBAAJhC,CAAqB9S,CAArB8S,EAA0BxB,CAAAA,CAAQE,OAARF,CAAgBtR,CAAhBsR,CAA1BwB;AAA0C9S,OAD5CpH,CADAka,EAIOA,CAAP;AAKYiC,KAZd,CAY+BzD,CAZ/B,EAYwCA,CAAAA,CAAQ0D,MAAR1D,CAAeoD,WAZvD,CAYI;;AACA,WA/EJ,UAAwBpD,CAAxB,EAAiCwB,CAAjC,EAAiCA;AAC/B,aAAO,IAAIY,OAAJ,CAAY,UAASC,CAAT,EAAkBC,CAAlB,EAAkBA;AACnCd,QAAAA,CAAAA,CAAIe,UAAJf,GAAiB,UAASO,CAAT,EAASA;AACxB/B,UAAAA,CAAAA,CAAQwC,OAARxC,CAAgByC,IAAhBzC,CACEsB,EAAAA,CAAUP,uBADZf,EAEE8B,EAAAA,CAA8BC,CAA9BD,CAFF9B;AAEgC+B,SAHlCP;;AAOA,YAAIkB,CAAAA,GAAO1C,CAAAA,CAAQ0C,IAAnB;AACIA,QAAAA,CAAAA,KACFlB,CAAAA,CAAImB,MAAJnB,CAAWe,UAAXf,GAAwB,UAASO,CAAT,EAASA;AAC/B/B,UAAAA,CAAAA,CAAQwC,OAARxC,CAAgByC,IAAhBzC,CACEsB,EAAAA,CAAUN,qBADZhB,EAEE8B,EAAAA,CAA8BC,CAA9BD,CAFF9B;AAEgC+B,SAJhCW,CAAAA,EASJlB,CAAAA,CAAIoB,OAAJpB,GAAc,UAAStS,CAAT,EAASA;AACrBoT,UAAAA,CAAAA,CAAOpT,CAAPoT,CAAAA;AAAOpT,SAVLwT,EAaJlB,CAAAA,CAAIqB,OAAJrB,GAAc,YAAA;AACZ,cAAIsB,CAAAA,GAAY,IAAIC,EAAJ,CAAc;AAC5B/C,YAAAA,OAAAA,EAASA,CADmB;AAE5BlX,YAAAA,IAAAA,EAAMwY,EAAAA,CAAUF;AAFY,WAAd,CAAhB;AAIAkB,UAAAA,CAAAA,CAAOQ,CAAPR,CAAAA;AAAOQ,SAlBLJ,EAqBJlB,CAAAA,CAAIwB,MAAJxB,GAAa,YAAA;AAEX,cAAA,OADOD,EAAAA,CAAiBvB,CAAAA,CAAQyB,EAAzBF,CACP,EAAIC,CAAAA,CAAIK,MAAJL,GAAa,GAAbA,IAAoBA,CAAAA,CAAIK,MAAJL,IAAc,GAAtC,EAAA;AACE,gBAAIsB,CAAAA,GAAY,IAAIC,EAAJ,CAAc;AAC5B/C,cAAAA,OAAAA,EAASA,CADmB;AAE5BI,cAAAA,IAAAA,EAAMoB,CAAAA,CAAIG,QAFkB;AAG5BtB,cAAAA,UAAAA,EAAYmB,CAAAA,CAAIK;AAHY,aAAd,CAAhB;AAKAS,YAAAA,CAAAA,CAAOQ,CAAPR,CAAAA;AAAOQ,WANT,MASAT,CAAAA,CAAQb,CAARa,CAAAA;AAAQb,SAhCNkB;AAmCJ,YAAItC,CAAAA,GAAOJ,CAAAA,CAAQI,IAAnB;AAGoB,oBAAA,OAATA,CAAS,GAClBoB,CAAAA,CAAIyB,IAAJzB,CAASpB,CAAToB,CADkB,GAETpB,CAAAA,GACToB,CAAAA,CAAIyB,IAAJzB,CAASnO,IAAAA,CAAKC,SAALD,CAAe+M,CAAf/M,CAATmO,CADSpB,GAEAsC,CAAAA,GACTlB,CAAAA,CAAIyB,IAAJzB,CAASkB,CAATlB,CADSkB,GAGTlB,CAAAA,CAAIyB,IAAJzB,EAPkB,EAUpBD,EAAAA,CAAiBvB,CAAAA,CAAQyB,EAAzBF,CAAAA,GAA+BC,CAVX;AAUWA,OAzD1B,EA0DJ0B,IA1DI,CA0DC,UAAS1B,CAAT,EAASA;AACf,eA/EJ,UAAwBxB,CAAxB,EAAiCwB,CAAjC,EAAiCA;AAC/B,iBAAO,IAAIzB,EAAJ,CAAiBC,CAAjB,EAA0B;AAC/BI,YAAAA,IAAAA,EAAMoB,CAAAA,CAAIG,QADqB;AAE/BzB,YAAAA,OAAAA,GQKkByK,CAAAA,GRLInJ,CAAAA,CAAII,qBAAJJ,EQKJmJ,EAChBzK,CAAAA,GAAU,EADMyK,EAEfA,CAAAA,IAILA,CAAAA,CACGG,IADHH,GAEG7c,KAFH6c,CAES,UAFTA,EAGG5c,OAHH4c,CAGW,UAASI,CAAT,EAASA;AAChB,kBAAItL,CAAAA,GAjCV,UAA2BkL,CAA3B,EAA2BA;AACzB,oBAAIC,CAAAA,GAAWD,CAAAA,CAAI/P,OAAJ+P,CAAY,GAAZA,CAAf;AAMA,uBAAO;AACLjb,kBAAAA,IAAAA,EANSib,CAAAA,CACRE,SADQF,CACE,CADFA,EACKC,CADLD,EAERG,IAFQH,GAGR1U,WAHQ0U,EAKJ;AAELljB,kBAAAA,KAAAA,EAHUkjB,CAAAA,CAAIE,SAAJF,CAAcC,CAAAA,GAAW,CAAzBD,EAA4BG,IAA5BH;AACL,iBAAP;AA0BiBK,eAjCnB,CAiCqCD,CAjCrC,CAiCM;;AACA7K,cAAAA,CAAAA,CAAQT,CAAAA,CAAO/P,IAAfwQ,CAAAA,GAAuBT,CAAAA,CAAOhY,KAA9ByY;AAA8BzY,aALlCkjB,GAQOzK,CAZFyK,IACIzK,CRRPA,CAF+B;AAG/BG,YAAAA,UAAAA,EAAYmB,CAAAA,CAAIK;AAHe,WAA1B,CAAP;AQOF,cAAsB8I,CAAtB,EACMzK,CADN;ARuEWiD,SA/EX,CA+E0BnD,CA/E1B,EA+EmCwB,CA/EnC,CA+EI;AAA+BA,OA3D1B,CAAP;AA8ESmC,KA/EX,CA+E0B3D,CA/E1B,EA+EmCwB,CA/EnC,CA+EI;AAA+BA,GAF1BY,CAAP;AAEiCZ,CO7GXtI,EAMxBwR,EAAAA,CAAc5d,SAAd4d,CAAwBX,YAAxBW,GPFA,UAAsB1K,CAAtB,EAAsBA;AACpB,MAAIwB,CAAAA,GAAMD,EAAAA,CAAiBvB,CAAAA,CAAQyB,EAAzBF,CAAV;AACKC,EAAAA,CAAAA,KACLA,CAAAA,CAAIE,KAAJF,IAAIE,OACGH,EAAAA,CAAiBvB,CAAAA,CAAQyB,EAAzBF,CAFFC,CAAAA;AAE2BC,CORVvI;;AAoBxB,IAAA,EAAA,GAJA,UAA6BA,CAA7B,EAA6BA;AAC3B,SAAO,IAAIwR,EAAJ,CAAkBxR,CAAlB,CAAP;AAAyBA,CAG3B;AAAA,IAH2BA,EAAAA,GEnBVwK,EFsBjB;AAAA,IGzBIlH,EAAAA,GAAWlV,MAAAA,CAAOwF,SAAPxF,CAAiBkV,QHyBhC;AAAA,IIhBI0O,EAAAA,GAAqB,OJgBzB;AAAA,IIbIniB,EAAAA,GAAI,EJaR;;AIyGA,SAASqjB,EAAT,CAA8BX,CAA9B,EAA8BA;AAC5B,MAAIa,CAAAA,GAAkB/hB,KAAAA,CAAMwI,OAANxI,CAAckhB,CAAdlhB,CAAtB;AAQA,SAAO,UAAwB9C,CAAxB,EAAwBA;AAC7B,QAAIikB,CAAAA,GAAmB3Z,EAAAA,CAAShJ,EAAAA,CAAEwjB,UAAXxa,EAAuBtK,CAAvBsK,CAAvB;AACA,QAAI2Z,CAAJ,EACE,OAAOA,CAAP;AAGF,QAAIY,CAAAA,IAAmB7kB,CAAAA,CAAM4C,MAAN5C,KAAiBgkB,CAAAA,CAAWphB,MAAnD,EACE,OAAO,mBAAmBohB,CAAAA,CAAWphB,MAA9B,GAAuC,QAA9C;;AAGF,SAAK,IAAIoD,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIhG,CAAAA,CAAM4C,MAA1B,EAAkCoD,CAAAA,EAAlC,EAEE,IADAie,CAAAA,GAAmB3Z,EAAAA,CAjBjBua,CAAAA,GACKb,CAAAA,CAgBkChe,CAhBlCge,CADLa,GAGGb,CAcc1Z,EAA0BtK,CAAAA,CAAMgG,CAANhG,CAA1BsK,CACnB,EACE,OAAO,CAACtE,CAAD,EAAIpC,MAAJ,CAAWqgB,CAAX,CAAP;AAAkBA,GAbxB;AA8JF;;AAAA,SAAS3Z,EAAT,CAAkBoa,CAAlB,EAA6B1kB,CAA7B,EAA6BA;AAE3B,MAAa,QAATA,CAAS,IAAS0kB,CAAAA,CAAUtf,cAAVsf,CAAyB,YAAzBA,CAAtB,EAAA;AAIA,QAAI1W,CAAAA,GAAS0W,CAAAA,CAAU1kB,CAAV0kB,CAAb;AAEA,WAAI1W,CAAAA,GACKlL,KAAAA,CAAMwI,OAANxI,CAAckL,CAAdlL,IAAwBkL,CAAxBlL,GAAiC,CAACkL,CAAD,CADtCA,GACuCA,KAD3C,CAAA;AAAA;AAKF;;AAAA,SAAS6V,EAAT,CAAwB5gB,CAAxB,EAAiCwO,CAAjC,EAAiCA;AAK/B,MAAIxD,CAAAA,GAAMhL,CAAAA,CAAQL,MAAlB;AAAA,MAEIoL,CAAAA,GAAS/K,CAAAA,CAAQgL,CAAAA,GAAM,CAAdhL,CAFb;AAAA,MAGImW,CAAAA,GAAOnW,CAAAA,CAAQ8Q,KAAR9Q,CAAc,CAAdA,EAAiBgL,CAAAA,GAAM,CAAvBhL,CAHX;AAUA,SALoB,MAAhBmW,CAAAA,CAAKxW,MAAW,KAClBwW,CAAAA,GAAO,CAACqK,EAAD,CADW,GAGpBhS,CAAAA,GAAUiQ,CAAAA,CAAMjQ,CAANiQ,EAAe;AAAEtI,IAAAA,IAAAA,EAAMA;AAAR,GAAfsI,CAHU,EAKK,cAAA,OAAX1T,CAAW,GACrBA,CAAAA,CAAOyD,CAAPzD,CADqB,GAErBiX,EAAAA,CAAmBxT,CAAnBwT,EAaN,UAAwBjX,CAAxB,EAAwBA;AACtB,WAAO,cAIH,QAAQJ,IAAR,CADcgY,CAAAA,GAHa5X,CAI3B,IACK4X,CADL,GAGA,YAAYhY,IAAZ,CAAiBgY,CAAjB,IACK,QAAQA,CADb,GAGA,UAAUhY,IAAV,CAAegY,CAAf,IACK,OAAOA,CADZ,GAGGA,CAbA,IAAkC,GAAzC;AAGF,QAAoBA,CAApB;AAjBkCD,GAalC,CAbiD3X,CAajD,CAbMiX,CAFJ;AAKF;;AAAA,SAASK,EAAT,CAAgBzT,CAAhB,EAAgBA;AACd,SAAIA,CAAAA,CAAKjP,MAALiP,GAAc,CAAdA,GACKA,CAAAA,CAAK,CAALA,CADLA,GAGgB,MAAhBA,CAAAA,CAAKjP,MAAW,GACXiP,CAAAA,CAAK1L,IAAL0L,CAAU,MAAVA,CADW,GAGbA,CAAAA,CAAKkC,KAALlC,CAAW,CAAXA,EAAW,CAAI,CAAfA,EAAkB1L,IAAlB0L,CAAuB,IAAvBA,IAA+B,OAA/BA,GAAyCA,CAAAA,CAAKkC,KAALlC,CAAKkC,CAAO,CAAZlC,CANhD;AA0BF;;AAAA,SAASoT,EAAT,CAA4BxT,CAA5B,EAAqCoU,CAArC,EAAqCA;AAKnC,SAAA,CAJmBX,EAAAA,CAAezT,CAAAA,CAAQ2H,IAAvB8L,CAAAA,GAEU,mBAFVA,GAEgC,EAEnD,IAHazT,CAAAA,CAAQ2H,IAAR3H,CAAatL,IAAbsL,CAAkB,GAAlBA,CAGb,GAHsC,GAGtC,GAH4CoU,CAG5C;AAGF;;AAAA,SAASX,EAAT,CAAwB9L,CAAxB,EAAwBA;AACtB,SAAuC,YAAA,OAAzBA,CAAAA,CAAKA,CAAAA,CAAKxW,MAALwW,GAAc,CAAnBA,CAAyB,IAA8B,YAAA,OAAXA,CAAAA,CAAK,CAALA,CAA1D;AA3VF9X;;AAAAA,EAAAA,CAAEoiB,MAAFpiB,GAAW,UAASqiB,CAAT,EAAwBlS,CAAxB,EAAwBA;AAEjC,SADAA,CAAAA,GAAUA,CAAAA,IAAW,EAArBA,EACO,UAASzR,CAAT,EAASA;AACd,QAAIiD,CAAAA,GAAUqH,EAAAA,CAASqZ,CAATrZ,EAAwBtK,CAAxBsK,CAAd;;AAEA,QAAKrH,CAAL,EAAA;AAIA,UAAI2gB,CAAAA,GAAeC,EAAAA,CAAe5gB,CAAf4gB,EAAwBpS,CAAxBoS,CAAnB;AAMA,YAJIpS,CAAAA,CAAQqS,OAARrS,KACFmS,CAAAA,GAAenS,CAAAA,CAAQqS,OAARrS,GAAkB,IAAlBA,GAAyBmS,CADtCnS,GAIE,IAAIpO,KAAJ,CAAUugB,CAAV,CAAN;AAAgBA;AAAAA,GAblB;AAakBA,CAfpBtiB,EAyBAA,EAAAA,CAAEyI,KAAFzI,GAAU,UAAeyiB,CAAf,EAAeA;AACvB,MAoUqBxF,CApUrB;AAAA,MAAIyF,CAAAA,IAoUiBzF,CAAAA,GApUUwF,CAoUVxF,EACd1e,MAAAA,CAAO2G,IAAP3G,CAAY0e,CAAAA,IAAO,EAAnB1e,EAAuBqG,GAAvBrG,CAA2B,UAASoH,CAAT,EAASA;AACzC,WAAO;AAAEA,MAAAA,GAAAA,EAAKA,CAAP;AAAYjH,MAAAA,KAAAA,EAAOue,CAAAA,CAAItX,CAAJsX;AAAnB,KAAP;AAA8BtX,GADzBpH,CArUHmkB,CAAJ;AACA,SAAO,UAAwBhkB,CAAxB,EAAwBA;AAC7B,QAMIiH,CANJ;AAAA,QAAIgd,CAAAA,GAAmB3Z,EAAAA,CAAShJ,EAAAA,CAAE4iB,WAAX5Z,EAAwBtK,CAAxBsK,CAAvB;AAEA,QAAI2Z,CAAJ,EACE,OAAOA,CAAP;;AAMF,SAFA,IAAIE,CAAAA,GAAgB,EAApB,EAESne,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIge,CAAAA,CAAWphB,MAA/B,EAAuCoD,CAAAA,EAAvC,EAAuCA,CAGrCie,CAAAA,GAAmB3Z,EAAAA,CADP0Z,CAAAA,CAAWhe,CAAXge,CAAAA,CAAchkB,KACPsK,EAAoBtK,CAAAA,CAFvCiH,CAAAA,GAAM+c,CAAAA,CAAWhe,CAAXge,CAAAA,CAAc/c,GAEmBjH,CAApBsK,CAHkBtE,KAOnCme,CAAAA,CAAc1T,IAAd0T,CAAmB,CAACld,CAAD,EAAMrD,MAAN,CAAaqgB,CAAb,CAAnBE,CAPmCne;;AAWvC,WAAIme,CAAAA,CAAcvhB,MAAduhB,GAAuB,CAAvBA,GACKA,CAAAA,CAAc,CAAdA,CADLA,GAKG,UAAS1S,CAAT,EAASA;AACd0S,MAAAA,CAAAA,GAAgBA,CAAAA,CAAcje,GAAdie,CAAkB,UAASlhB,CAAT,EAASA;AAKzC,eAAO,OAJGA,CAAAA,CAAQ,CAARA,CAIH,GAAa,IAAb,GAHe4gB,EAAAA,CAAe5gB,CAAf4gB,EAAwBpS,CAAxBoS,CAAAA,CACnBxd,KADmBwd,CACb,IADaA,EAEnB1d,IAFmB0d,CAjET,MAiESA,CAGtB;AApEa,OA+DCM,CAAhBA;AAQA,UAAIC,CAAAA,GAAW3S,CAAAA,CAAQ2H,IAAR3H,CAAatL,IAAbsL,CAAkB,GAAlBA,CAAf;AAGA,aACE,8BAHa2S,CAAAA,KAAaX,EAAbW,GAAkC,EAAlCA,GAAuC,SAASA,CAG7D,IAEA,2BAFA,GAIAD,CAAAA,CAAche,IAAdge,CA/Ea,MA+EbA,CALF;AA1Ee,KAyDjB;AAzDiB,GAoCnB;AApCmB,CASrB7iB,EA4EAA,EAAAA,CAAE+iB,WAAF/iB,GAAgB,UAAqByiB,CAArB,EAAqBA;AACnC,MAAIO,CAAAA,GAAiBhjB,EAAAA,CAAEyI,KAAFzI,CAAQyiB,CAARziB,CAArB;AACA,SAAO,UAA8BtB,CAA9B,EAA8BA;AACnC,QAAIukB,CAAAA,GAAcD,CAAAA,CAAetkB,CAAfskB,CAAlB;AACA,QAAIC,CAAJ,EACE,OAAOA,CAAP;AAGF,QAAIC,CAAAA,GAAc3kB,MAAAA,CAAO2G,IAAP3G,CAAYG,CAAZH,EAAmBkP,MAAnBlP,CAA0B,UAAS8hB,CAAT,EAAe8C,CAAf,EAAeA;AAIzD,aAAA,KAH+BjhB,CAG/B,KAHIugB,CAAAA,CAAaU,CAAbV,CAGJ,IAFEpC,CAAAA,CAAKlR,IAALkR,CAAU8C,CAAV9C,CAEF,EAAOA,CAAP;AAAOA,KAJS9hB,EAKf,EALeA,CAAlB;AAOA,WAA2B,MAAvB2kB,CAAAA,CAAY5hB,MAAW,GAClB,YAAA;AACL,aAAO,qCAAqC4hB,CAAAA,CAAYre,IAAZqe,CAAiB,IAAjBA,CAA5C;AAA6D,KAFtC,GAEsC,KAFjE,CAAA;AAAA,GAbF;AAaE,CA3FJljB,EAmGAA,EAAAA,CAAEiI,OAAFjI,GAAY,UAAiBojB,CAAjB,EAAiBA;AAC3B,SAAOC,EAAAA,CAAqBD,CAArBC,CAAP;AAA4BD,CApG9BpjB,EAuGAA,EAAAA,CAAEsjB,KAAFtjB,GAAU,YAAA;AACR,MAAI0iB,CAAAA,GAAalhB,KAAAA,CAAMwI,OAANxI,CAAcH,SAAAA,CAAU,CAAVA,CAAdG,IACbH,SAAAA,CAAU,CAAVA,CADaG,GAEbA,KAAAA,CAAMuC,SAANvC,CAAgBiR,KAAhBjR,CAAsBoE,IAAtBpE,CAA2BH,SAA3BG,CAFJ;AAGA,SAAO6hB,EAAAA,CAAqBX,CAArBW,CAAP;AAA4BX,CA3G9B1iB,EA2IAA,EAAAA,CAAEyjB,QAAFzjB,GAAa,UAAkBojB,CAAlB,EAAkBA;AAC7B,WAASM,CAAT,CAA2BhlB,CAA3B,EAA2BA;AACzB,WAAa,QAATA,CAAS,GACJ,UAASyR,CAAT,EAASA;AACd,aAAOwT,EAAAA,CACLxT,CADKwT,EAELC,EAAAA,CAAezT,CAAAA,CAAQ2H,IAAvB8L,CAAAA,GACI,2BADJA,GAEI,cAJCD,CAAP;AAIM,KANG,GAUNP,CAAAA,CAAU/gB,KAAV+gB,CAAgBta,IAAhBsa,EAAsB/hB,SAAtB+hB,CAVP;AAcF;;AAAA,SAFAM,CAAAA,CAAkBG,UAAlBH,GAAkBG,CAAa,CAA/BH,EAEOA,CAAP;AAAOA,CA3JT1jB,EA8JAA,EAAAA,CAAEwI,SAAFxI,GAAc,YAAA;AACZ,MAAI0iB,CAAAA,GAAalhB,KAAAA,CAAMwI,OAANxI,CAAcH,SAAAA,CAAU,CAAVA,CAAdG,IACbH,SAAAA,CAAU,CAAVA,CADaG,GAEbA,KAAAA,CAAMuC,SAANvC,CAAgBiR,KAAhBjR,CAAsBoE,IAAtBpE,CAA2BH,SAA3BG,CAFJ;AAGA,SAAO,UAA4B9C,CAA5B,EAA4BA;AACjC,QAAIolB,CAAAA,GAAWpB,CAAAA,CACZ9d,GADY8d,CACR,UAASU,CAAT,EAASA;AACZ,aAAOpa,EAAAA,CAASoa,CAATpa,EAAoBtK,CAApBsK,CAAP;AAA2BtK,KAFhBgkB,EAIZtW,MAJYsW,CAILqB,OAJKrB,CAAf;AAQA,QAAIoB,CAAAA,CAASxiB,MAATwiB,KAAoBpB,CAAAA,CAAWphB,MAAnC,EAKA,OACEwiB,CAAAA,CAAS/Y,KAAT+Y,CAAe,UAASniB,CAAT,EAASA;AACtB,aAA0B,MAAnBA,CAAAA,CAAQL,MAAW,IAA2B,YAAA,OAAfK,CAAAA,CAAQ,CAARA,CAAtC;AAA8C,KADhDmiB,IAIOE,EAAAA,CACLF,CAAAA,CAASlf,GAATkf,CAAa,UAASxkB,CAAT,EAASA;AACpB,aAAOA,CAAAA,CAAE,CAAFA,CAAP;AAAS,KADXwkB,CADKE,CAJPF,GAcKA,CAAAA,CAASrW,MAATqW,CAAgB,UAASlQ,CAAT,EAAcpG,CAAd,EAAcA;AACnC,aAAOA,CAAAA,CAAIlM,MAAJkM,GAAaoG,CAAAA,CAAItS,MAAjBkM,GAA0BA,CAA1BA,GAAgCoG,CAAvC;AAAuCA,KADlCkQ,CAfP;AAgByClQ,GA9B3C;AA8B2CA,CAhM7C5T,EA0MAA,EAAAA,CAAEikB,KAAFjkB,GAAU,UAAekkB,CAAf,EAAeA;AACvB,SAAO,UAAwBxlB,CAAxB,EAAwBA;AAC7B,QAAIA,CAAAA,KAAUwlB,CAAd,EACE,OAAO5Z,IAAAA,CAAKC,SAALD,CAAe4Z,CAAf5Z,CAAP;AAAsB4Z,GAF1B;AAE0BA,CA7M5BlkB,EAkNAA,EAAAA,CAAEuI,KAAFvI,GAAU,YAAA;AACR,MAAImQ,CAAAA,GAAU3O,KAAAA,CAAMwI,OAANxI,CAAcH,SAAAA,CAAU,CAAVA,CAAdG,IACVH,SAAAA,CAAU,CAAVA,CADUG,GAEVA,KAAAA,CAAMuC,SAANvC,CAAgBiR,KAAhBjR,CAAsBoE,IAAtBpE,CAA2BH,SAA3BG,CAFJ;AAAA,MAGIkhB,CAAAA,GAAavS,CAAAA,CAAQvL,GAARuL,CAAY,UAASzR,CAAT,EAASA;AACpC,WAAOsB,EAAAA,CAAEikB,KAAFjkB,CAAQtB,CAARsB,CAAP;AAAetB,GADAyR,CAHjB;AAOA,SAAOnQ,EAAAA,CAAEwI,SAAFxI,CAAYqC,KAAZrC,CAAkB8I,IAAlB9I,EAAwB0iB,CAAxB1iB,CAAP;AAA+B0iB,CA1NjC1iB,EA6NAA,EAAAA,CAAEmkB,KAAFnkB,GAAU,UAAekkB,CAAf,EAAeA;AACvB,MAAIpQ,CAAAA,GAAMoQ,CAAAA,CAAY,CAAZA,CAAV;AAAA,MACItQ,CAAAA,GAAMsQ,CAAAA,CAAY,CAAZA,CADV;AAEA,SAAO,UAAwBxlB,CAAxB,EAAwBA;AAG7B,QAFuBsK,EAAAA,CAAShJ,EAAAA,CAAE6H,MAAXmB,EAAmBtK,CAAnBsK,CAAAA,IAECtK,CAAAA,GAAQoV,CAFT9K,IAEgBtK,CAAAA,GAAQkV,CAA/C,EACE,OAAO,oBAAoBE,CAApB,GAA0B,KAA1B,GAAkCF,CAAlC,GAAwC,cAA/C;AAA+C,GAJnD;AAImD,CApOrD5T,EA8OAA,EAAAA,CAAEgI,GAAFhI,GAAQ,YAAA,CAAA,CA9ORA,EAkPAA,EAAAA,CAAEokB,OAAFpkB,GAAY,UAAiBtB,CAAjB,EAAiBA;AAC3B,MAAqB,aAAA,OAAVA,CAAX,EACE,OAAO,SAAP;AAAO,CApPXsB,EAwPAA,EAAAA,CAAE6H,MAAF7H,GAAW,UAAgBtB,CAAhB,EAAgBA;AACzB,MAAqB,YAAA,OAAVA,CAAX,EACE,OAAO,QAAP;AAAO,CA1PXsB,EA8PAA,EAAAA,CAAEwjB,UAAFxjB,GAAe,UAAoBtB,CAApB,EAAoBA;AACjC,MAAA,CAAK8C,KAAAA,CAAMwI,OAANxI,CAAc9C,CAAd8C,CAAL,EACE,OAAO,OAAP;AAAO,CAhQXxB,EAoQAA,EAAAA,CAAE4iB,WAAF5iB,GAAgB,UAAqBtB,CAArB,EAAqBA;AACnC,MDpR2B,sBAArB+U,EAAAA,CAAS7N,IAAT6N,CAFmBzR,CAAAA,GCsRNtD,CDpRb+U,CAAqB,IAA0E,UAApD1P,CAAAA,GAAYxF,MAAAA,CAAO2jB,cAAP3jB,CAAsByD,CAAtBzD,CAAwC,KAAQwF,CAAAA,KAAcxF,MAAAA,CAAO2jB,cAAP3jB,CAAsB,EAAtBA,CCoR3H,EACE,OAAO,QAAP;ADvRa,MAAUyD,CAAV,EACZ+B,CADY;AACZA,CCgBL/D,EA0QAA,EAAAA,CAAE8H,MAAF9H,GAAW,UAAgBtB,CAAhB,EAAgBA;AACzB,MAAqB,YAAA,OAAVA,CAAX,EACE,OAAO,QAAP;AAAO,CA5QXsB,EAgRAA,EAAAA,CAAE4H,IAAF5H,GAAS,UAActB,CAAd,EAAcA;AACrB,MAAqB,cAAA,OAAVA,CAAX,EACE,OAAO,UAAP;AAAO,CAlRXsB,EAoWAA,EAAAA,CAAEgJ,QAAFhJ,GAAagJ,EApWbhJ,EAqWAA,EAAAA,CAAEuiB,cAAFviB,GAAmBuiB,EArWnBviB;;AAuWA,IAAA,EAAA,GAAiBA,EAAjB;AAAA,IAAiBA,EAAAA,GChVAogB,CAAAA,CAAMpgB,EAANogB,EAAS;AACxBzG,EAAAA,IAAAA,EAvCF,UAAcjb,CAAd,EAAcA;AAGZ,QAAsB,eAAA,OAAXiU,MAAX,EAAmC;AACjC,UAAIjU,CAAAA,YAAiB2U,CAAAA,CAAOmR,IAAxB9lB,IAAgCA,CAAAA,YAAiB2U,CAAAA,CAAOoR,WAA5D,EACE;AAEF,aAAO,qBAAP;AAEF;;AAAA,QAAqB,YAAA,OAAV/lB,CAAU,IAAVA,KAAqCwD,CAArCxD,KAAsBA,CAAAA,CAAMgmB,IAAvC,EAGA,OAAO,6BAAP;AAAO,GA0BiB;AAExBC,EAAAA,IAAAA,EArBF,UAAcjmB,CAAd,EAAcA;AAEZ,QAAqB,aAAA,OAAVA,CAAX,EACE,OAFQ,MAER;;AAEF,QAAA;AACE,UAAIimB,CAAAA,GAAO,IAAInZ,IAAJ,CAAS9M,CAAT,CAAX;AACA,UAAIimB,CAAAA,CAAKC,OAALD,IAAgBE,KAAAA,CAAMF,CAAAA,CAAKC,OAALD,EAANE,CAApB,EACE,OAPM,MAON;AAEF,KALF,CAKE,OAAO7lB,CAAP,EAAOA;AACP,aAVQ,MAUR;AAVQ;AAAA,GAkBc;AAGxB8lB,EAAAA,WAAAA,EAPF,UAAqBpmB,CAArB,EAAqBA;AACnB,WAAOsB,EAAAA,CAAEsjB,KAAFtjB,CAAQA,EAAAA,CAAE6H,MAAV7H,EAAkBA,EAAAA,CAAlBA,MAAAA,EAA4BtB,CAA5BsB,CAAP;AAAmCtB,GAGX;AAIxBqmB,EAAAA,WAAAA,EA3BF,UAAqBtC,CAArB,EAAmCD,CAAnC,EAAmCA;AACjC,WAAOxiB,EAAAA,CAAEoiB,MAAFpiB,CAASA,EAAAA,CAAE+iB,WAAF/iB,CAAcyiB,CAAdziB,CAATA,EAAsCwiB,CAAtCxiB,CAAP;AAA6CwiB;AAsBrB,CAATpC,CDgVjB;AAAA,ICtW+CoC,EAAAA,GCX/C,UAAcld,CAAd,EAAsBJ,CAAtB,EAAsBA;AACpB,MAAIkH,CAAAA,GAAS,UAASzG,CAAT,EAAcxB,CAAd,EAAcA;AACzB,WAAA,CAA8B,CAA9B,KAAOe,CAAAA,CAAK2M,OAAL3M,CAAaS,CAAbT,CAAP,IAAoBS,KAAuBzD,CAAvByD,KAAexB,CAAnC;AAAmCA,GADrC;;AAQA,SAJoB,cAAA,OAATe,CAAS,KAClBkH,CAAAA,GAASlH,CADS,GAIb3G,MAAAA,CAAO2G,IAAP3G,CAAY+G,CAAZ/G,EACJ6N,MADI7N,CACG,UAASoH,CAAT,EAASA;AACf,WAAOyG,CAAAA,CAAOzG,CAAPyG,EAAY9G,CAAAA,CAAOK,CAAPL,CAAZ8G,CAAP;AAA0BzG,GAFvBpH,EAIJkP,MAJIlP,CAIG,UAASmO,CAAT,EAAiB/G,CAAjB,EAAiBA;AAEvB,WADA+G,CAAAA,CAAO/G,CAAP+G,CAAAA,GAAcpH,CAAAA,CAAOK,CAAPL,CAAdoH,EACOA,CAAP;AAAOA,GANJnO,EAOF,EAPEA,CAAP;AAOK,CFiWP;AAAA,IEjWO,EAAA,GChBP,UAA0B0e,CAA1B,EAA0BA;AACxB,SCTF,UAAmBA,CAAnB,EAAwBgI,CAAxB,EAAwBA;AACtB,WAAO1mB,MAAAA,CAAO2G,IAAP3G,CAAY0e,CAAZ1e,EAAiBkP,MAAjBlP,CAAwB,UAASmO,CAAT,EAAiB/G,CAAjB,EAAiBA;AAE9C,aADA+G,CAAAA,CAAO/G,CAAP+G,CAAAA,GDQwB,aAAA,QADQhO,CAAAA,GCPVue,CAAAA,CAAItX,CAAJsX,CDQE,CAAA,GAAY3S,IAAAA,CAAKC,SAALD,CAAe5L,CAAf4L,CAAZ,GAAoC5L,CCR5DgO,EACOA,CAAP;ADMoB,UAAYhO,CAAZ;AAAYA,KCR3BH,EAGJ,EAHIA,CAAP;ADQOymB,GCTT,CDSmB/H,CCTnB,CDSE;AAAiBA,CHgXnB;AAAA,IK7WIiI,EAAAA,GAAY,EL6WhB;AAAA,IK3WIC,EAAAA,GAAe,CACjB,SADiB,EAEjB,QAFiB,EAGjB,UAHiB,EAIjB,UAJiB,EAKjB,OALiB,EAMjB,UANiB,EAOjB,cAPiB,EAQjB,SARiB,EASjB,KATiB,EAUjB,cAViB,CL2WnB;;AK1UAD,EAAAA,CAAUE,cAAVF,GAA2B,UAASG,CAAT,EAASA;AAClCrlB,EAAAA,EAAAA,CAAE+kB,WAAF/kB,CAAc;AACZwQ,IAAAA,KAAAA,EAAOxQ,EAAAA,CAAEyjB,QAAFzjB,CAAWA,EAAAA,CAAE8H,MAAb9H,CADK;AAEZslB,IAAAA,IAAAA,EAAMtlB,EAAAA,CAAEuI,KAAFvI,CAAQ,eAARA,EAAyB,yBAAzBA,CAFM;AAGZulB,IAAAA,SAAAA,EAAWvlB,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAE8H,MAAZ9H,CAHC;AAIZwlB,IAAAA,SAAAA,EAAWxlB,EAAAA,CAAE8kB,WAJD;AAKZW,IAAAA,KAAAA,EAAOzlB,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAEuI,KAAFvI,CAAQmlB,EAARnlB,CAAVA,CALK;AAMZ0lB,IAAAA,YAAAA,EAAc1lB,EAAAA,CAAEokB,OANJ;AAOZrO,IAAAA,IAAAA,EAAM/V,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAE6H,MAAZ7H,CAPM;AAQZsQ,IAAAA,KAAAA,EAAOtQ,EAAAA,CAAE6H,MARG;AASZ8d,IAAAA,QAAAA,EAAU3lB,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CATtBA,MASYA;AATE,GAAdA,EAUGqlB,CAVHrlB,GAYAqlB,CAAAA,CAAOC,IAAPD,GAAcA,CAAAA,CAAOC,IAAPD,IAAe,eAZ7BrlB;AAcA,MAAIwQ,CAAAA,GAAQoV,EAAAA,CACVxF,CAAAA,CACE;AAAEyF,IAAAA,OAAAA,EAASR,CAAAA,CAAOE;AAAlB,GADFnF,EAEE0F,EAAAA,CAAKT,CAALS,EAAa,CACX,WADW,EAEX,OAFW,EAGX,cAHW,EAIX,MAJW,EAKX,OALW,EAMX,UANW,CAAbA,CAFF1F,CADUwF,CAAZ;AAcA,SAAO9c,KAAK6R,MAAL7R,CAAY2Y,aAAZ3Y,CAA0B;AAC/B0R,IAAAA,MAAAA,EAAQ,KADuB;AAE/B1C,IAAAA,IAAAA,EAAM,iCAFyB;AAG/BjB,IAAAA,MAAAA,EAAQiP,EAAAA,CAAKT,CAALS,EAAa,CAAC,MAAD,EAAS,OAAT,CAAbA,CAHuB;AAI/BtV,IAAAA,KAAAA,EAAOA;AAJwB,GAA1B1H,CAAP;AAIS0H,CAjCX0U,EAwDAA,EAAAA,CAAUa,cAAVb,GAA2B,UAASG,CAAT,EAASA;AAClCrlB,EAAAA,EAAAA,CAAE+kB,WAAF/kB,CAAc;AACZwQ,IAAAA,KAAAA,EAAOxQ,EAAAA,CAAEyjB,QAAFzjB,CAAWA,EAAAA,CAAE8kB,WAAb9kB,CADK;AAEZslB,IAAAA,IAAAA,EAAMtlB,EAAAA,CAAEuI,KAAFvI,CAAQ,eAARA,EAAyB,yBAAzBA,CAFM;AAGZulB,IAAAA,SAAAA,EAAWvlB,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAE8H,MAAZ9H,CAHC;AAIZylB,IAAAA,KAAAA,EAAOzlB,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAEuI,KAAFvI,CAAQmlB,EAARnlB,CAAVA,CAJK;AAKZ+V,IAAAA,IAAAA,EAAM/V,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAE6H,MAAZ7H,CALM;AAMZsQ,IAAAA,KAAAA,EAAOtQ,EAAAA,CAAE6H,MANG;AAOZ8d,IAAAA,QAAAA,EAAU3lB,EAAAA,CAAEiI,OAAFjI,CAAUA,EAAAA,CAAE8H,MAAZ9H,CAPE;AAQZgmB,IAAAA,WAAAA,EAAahmB,EAAAA,CAAEuI,KAAFvI,CAAQ,UAARA,EARfA,OAQeA;AARD,GAAdA,EASGqlB,CATHrlB,GAWAqlB,CAAAA,CAAOC,IAAPD,GAAcA,CAAAA,CAAOC,IAAPD,IAAe,eAX7BrlB;AAaA,MAAIwQ,CAAAA,GAAQoV,EAAAA,CACVxF,CAAAA,CACE;AAAEyF,IAAAA,OAAAA,EAASR,CAAAA,CAAOE;AAAlB,GADFnF,EAEE0F,EAAAA,CAAKT,CAALS,EAAa,CACX,SADW,EAEX,OAFW,EAGX,MAHW,EAIX,OAJW,EAKX,UALW,EAMX,aANW,CAAbA,CAFF1F,CADUwF,CAAZ;AAcA,SAAO9c,KAAK6R,MAAL7R,CAAY2Y,aAAZ3Y,CAA0B;AAC/B0R,IAAAA,MAAAA,EAAQ,KADuB;AAE/B1C,IAAAA,IAAAA,EAAM,iCAFyB;AAG/BjB,IAAAA,MAAAA,EAAQiP,EAAAA,CAAKT,CAALS,EAAa,CAAC,MAAD,EAAS,OAAT,CAAbA,CAHuB;AAI/BtV,IAAAA,KAAAA,EAAOA;AAJwB,GAA1B1H,CAAP;AAIS0H,CAxFX0U;AA4FA,ICvI8Be,EDuI9B;AAAA,ICvI8BA,EAAAA,IAAAA,EAAAA,GDuIQf,ECvIRe,EACrB,UAASC,CAAT,EAASA;AACd,MAAIvL,CAAJ;AAEEA,EAAAA,CAAAA,GADE6G,EAAAA,CAAWzd,SAAXyd,CAAqB2E,aAArB3E,CAAmC0E,CAAnC1E,IACO0E,CADP1E,GAGO4E,EAAAA,CAAaF,CAAbE,CAFTzL;AAIF,MAAI0L,CAAAA,GAAU9nB,MAAAA,CAAO6e,MAAP7e,CAAc0nB,EAAd1nB,CAAd;AAEA,SADA8nB,CAAAA,CAAQ1L,MAAR0L,GAAiB1L,CAAjB0L,EACOA,CAAP;AAAOA,CAVmBJ,CDuI9B;AE7IA,IAA6B,iBAAzBhmB,OAAAA,CAAQC,GAARD,CAAYE,QAAa,KACP,eAAA,OAATmR,IAAS,IAATA,CAA0BA,IAAAA,CAAKgV,MAA/BhV,IAA+BgV,CAAWhV,IAAAA,CAAKiV,QAD/B,CAA7B,EAEI,MAAM,IAAIxkB,KAAJ,CACJ,yHADI,CAAN;AAOJ,IAAIukB,EAAAA,GAAShV,IAAAA,CAAKgV,MAALhV,IAAeA,IAAAA,CAAKiV,QAAjC;;ACEA,SAASK,EAAT,CAA4BzW,CAA5B,EAA4BA;AAC1BrH,OAAK0W,MAAL1W,GAAcqH,CAAAA,CAAQqP,MAARrP,IAAkB,wBAAhCrH,EACAA,KAAK+d,QAAL/d,GAAgB,WADhBA,EAEAA,KAAKge,YAALhe,GAAoBqH,CAAAA,CAAQkK,WAF5BvR,EAGAA,KAAKgT,OAALhT,GAAe,OAHfA,EAIAA,KAAKie,SAALje,GAAiBA,KAAKke,iBAALle,EAJjBA,EAKAA,KAAKme,SAALne,GAAiBA,KAAKoe,YAALpe,EALjBA,EAOAA,KAAKqH,OAALrH,GAAeqH,CAPfrH,EAQAA,KAAKoR,IAALpR,GAAYA,KAAKoR,IAALpR,CAAU7C,IAAV6C,CAAeA,IAAfA,CARZA,EAYAA,KAAKyc,SAALzc,GAAkBqH,CAAAA,CAAiB,SAAjBA,GAAqBA,CAAAA,CAAQoV,SAARpV,CAAkBpL,KAAlBoL,CAAwB,GAAxBA,CAArBA,GAAoD,IAZtErH,EAaAA,KAAK2c,KAAL3c,GAAcqH,CAAAA,CAAa,KAAbA,GAAiBA,CAAAA,CAAQsV,KAARtV,CAAcpL,KAAdoL,CAAoB,GAApBA,CAAjBA,GAA4C,IAb1DrH,EAcAA,KAAKiN,IAALjN,GAAaqH,CAAAA,CAAY,IAAZA,GAAgBA,CAAAA,CAAQ4F,IAAxB5F,GAA+B,IAd5CrH,EAeAA,KAAK6c,QAAL7c,GAAiBqH,CAAAA,CAAgB,QAAhBA,GAAoBA,CAAAA,CAAQwV,QAARxV,CAAiBpL,KAAjBoL,CAAuB,GAAvBA,CAApBA,GAAkD,IAfnErH,EAgBAA,KAAKwH,KAALxH,GAAcqH,CAAAA,CAAa,KAAbA,GAAa,CAAKA,CAAAA,CAAQG,KAA1BH,GAAkC,IAhBhDrH,EAiBAA,KAAKqe,MAALre,GAAcse,SAAAA,CAAUzB,QAAVyB,IAAsB,IAjBpCte,EAkBAA,KAAKue,kBAALve,GAA0BA,KAAKwe,mBAALxe,CAAyBqH,CAAzBrH,CAlB1BA,EAmBAA,KAAKye,UAALze,GAAkB,IAAItH,KAAJ,EAnBlBsH,EAoBAA,KAAK0e,aAAL1e,GAAqBqH,CAAAA,CAAQqX,aAARrX,IAAyB,GApB9CrH,EAqBAA,KAAK2e,YAAL3e,GAAoBqH,CAAAA,CAAQsX,YAARtX,IAAwB,GArB5CrH,EAsBAA,KAAK4e,KAAL5e,GAAcA,KAAkB,aAAlBA,GAAsByI,UAAAA,CAAWzI,KAAK2M,KAAL3M,CAAW7C,IAAX6C,CAAgBA,IAAhBA,CAAXyI,EAAkCzI,KAAK0e,aAAvCjW,CAAtBzI,GAA8E,IAtB5FA,EAwBAA,KAAK6e,aAAL7e,GAAqB,EAxBrBA,EAyBAA,KAAK8e,aAAL9e,GAAqB,CAzBrBA;AA4BF8d;;AAAAA,EAAAA,CAAmB7iB,SAAnB6iB,GAA+B;AAS7BiB,EAAAA,MAAAA,EAAQ,UAASpX,CAAT,EAAmBqX,CAAnB,EAAmBA;AACzB,QAAIC,CAAAA,GAAcjf,KAAKkf,gBAALlf,CAAsB2H,CAAtB3H,EAAgCgf,CAAhChf,CAAlB;AAAA,QACImf,CAAAA,GAAUnf,KAAKof,eAALpf,CAAqB,eAArBA,EAAsCgf,CAAtChf,CADd;AAKA,QAHAmf,CAAAA,CAAQF,WAARE,GAAsBF,CAAtBE,EACAA,CAAAA,CAAQE,eAARF,GAA2BxX,CAAAA,CAAS2X,UADpCH,EAEAA,CAAAA,CAAQI,QAARJ,GAAmBxX,CAAAA,CAASiI,EAF5BuP,EAE4BvP,CACvBqP,CAAAA,KAAgBjf,KAAK8e,aAArBG,IAAsCE,CAAAA,CAAQK,WAARL,KAAwBnf,KAAK6e,aAD5CjP,KAC4CiP,CAAkC,CAAlCA,IAAkBI,CAD9DrP,KAK5B5P,KAAK8e,aAAL9e,GAAqBif,CAArBjf,EACAA,KAAK6e,aAAL7e,GAAqBmf,CAAAA,CAAQK,WAD7Bxf,EAEKmf,CAAAA,CAAQK,WAPe5P,CAC5B,EAOA,OAAO5P,KAAKqG,IAALrG,CAAUmf,CAAVnf,CAAP;AAAiBmf,GAtBU;AAgC7BM,EAAAA,KAAAA,EAAO,UAAST,CAAT,EAASA;AACd,QAAIG,CAAAA,GAAUnf,KAAKof,eAALpf,CAAqB,cAArBA,EAAqCgf,CAArChf,CAAd;AACA,QAAKmf,CAAAA,CAAQK,WAAb,EACA,OAAOxf,KAAKqG,IAALrG,CAAUmf,CAAVnf,CAAP;AAAiBmf,GAnCU;AA8C7BO,EAAAA,QAAAA,EAAU,UAASC,CAAT,EAAmBX,CAAnB,EAAmBA;AAE3B,QAAKW,CAAAA,CAAS9iB,GAAT8iB,IAAS9iB,CAGV8iB,CAAAA,CAASC,OAHRD,IAGQC,CAAsE,CAAtEA,KAAW,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B7W,OAA5B,CAAoC4W,CAAAA,CAAS9X,OAA7C,CAHxB,EAGA;AACA,UAAIsX,CAAAA,GAAUnf,KAAKof,eAALpf,CAAqB,kBAArBA,EAAyCgf,CAAzChf,CAAd;AAEA,UADAmf,CAAAA,CAAQU,UAARV,GAAqBQ,CAAAA,CAAS9iB,GAA9BsiB,EACKA,CAAAA,CAAQK,WAAb,EACA,OAAOxf,KAAKqG,IAALrG,CAAUmf,CAAVnf,CAAP;AAAiBmf;AAAAA,GAvDU;AAoE7B/N,EAAAA,IAAAA,EAAM,UAAU+N,CAAV,EAAmB/V,CAAnB,EAAmBA;AACvB,QAAA,CAAKpJ,KAAKue,kBAAV,EACE,OAAInV,CAAAA,GAAiBA,CAAAA,EAAjBA,GAAiBA,KACrB,CADA;AAGF,QAAI/B,CAAAA,GAAUrH,KAAK8f,iBAAL9f,CAAuBmf,CAAvBnf,CAAd;AACAA,SAAKmO,OAALnO,CAAaqH,CAAbrH,EAAsB,UAAS3D,CAAT,EAASA;AAC7B,aAAIA,CAAAA,GAAY2D,KAAKuY,WAALvY,CAAiB3D,CAAjB2D,EAAsBoJ,CAAtBpJ,CAAZ3D,GACA+M,CAAAA,GACKA,CAAAA,EADLA,GACKA,KADT,CADA;AACA,KAFoB,CAKpBjM,IALoB,CAKf6C,IALe,CAAtBA;AAKOA,GA/EoB;AAsF7B8f,EAAAA,iBAAAA,EAAmB,UAASX,CAAT,EAASA;AAY1B,WAXKzmB,KAAAA,CAAMwI,OAANxI,CAAcymB,CAAdzmB,MAAwBymB,CAAAA,GAAU,CAACA,CAAD,CAAlCzmB,GACS;AAEZgZ,MAAAA,MAAAA,EAAQ,MAFI;AAGZqO,MAAAA,IAAAA,EAAM/f,KAAK0W,MAHC;AAIZ1H,MAAAA,IAAAA,EAAMhP,KAAK+d,QAAL/d,GAAiB,gBAAjBA,GAAoCA,KAAKge,YAJnC;AAKZ3P,MAAAA,OAAAA,EAAS;AACP2R,wBAAgB;AADT,OALG;AAQZzR,MAAAA,IAAAA,EAAK/M,IAAAA,CAAKC,SAALD,CAAe2d,CAAf3d;AARO,KAUd;AAFsB2d,GAhGK;AA6G7BC,EAAAA,eAAAA,EAAiB,UAAUlP,CAAV,EAAiB8O,CAAjB,EAAiBA;AAChC,QAAItC,CAAJ;AAEKA,IAAAA,CAAAA,GADAsC,CAAAA,CAAS3X,OAAT2X,CAAiBtC,SAAjBsC,GACY,CAACA,CAAAA,CAAS3X,OAAT2X,CAAiBtC,SAAjBsC,CAA2BiB,SAA5B,EAAuCjB,CAAAA,CAAS3X,OAAT2X,CAAiBtC,SAAjBsC,CAA2BkB,QAAlE,CADZlB,GAAwC,IACxCtC;AAEL,QAAIyD,CAAAA,GAAQnB,CAAAA,CAAa,IAAbA,GAAiBA,CAAAA,CAASoB,IAATpB,CAAcqB,OAAdrB,EAAjBA,GAA2C,IAAvD;AAAA,QACIG,CAAAA,GAAU;AACZjP,MAAAA,KAAAA,EAAOA,CADK;AAEZ0D,MAAAA,OAAAA,EAAAA,CAAU,IAAIlR,IAAJ,EAFE;AAGZ4d,MAAAA,iBAAAA,EAAmBtgB,KAAKie,SAHZ;AAIZlB,MAAAA,OAAAA,EAAS/c,KAAKyc,SAJF;AAKZ0B,MAAAA,SAAAA,EAAWne,KAAKme,SALJ;AAMZtB,MAAAA,QAAAA,EAAU7c,KAAK6c,QANH;AAOZ5P,MAAAA,IAAAA,EAAMjN,KAAKiN,IAPC;AAQZ0P,MAAAA,KAAAA,EAAO3c,KAAK2c,KARA;AASZoB,MAAAA,QAAAA,EAAU,eATE;AAWZrB,MAAAA,SAAAA,EAAWA,CAXC;AAYZlV,MAAAA,KAAAA,EAAOwX,CAAAA,CAAS3X,OAAT2X,CAAiBxX,KAZZ;AAcZ+Y,MAAAA,OAAAA,EAASJ,CAdG;AAeZK,MAAAA,cAAAA,EAAgBxgB,KAAKqe;AAfT,KADd;AA2BA,WANEc,CAAAA,CAAQK,WAARL,GADY,oBAAVjP,CAAU,GACU8O,CAAAA,CAASyB,WADnB,GAEK,mBAATvQ,CAAS,IAAmB8O,CAAAA,CAAS0B,QAA5B,GACK1B,CAAAA,CAAS0B,QAAT1B,CAAkBppB,KADvB,GAGKopB,CAAAA,CAASyB,WAJ/BtB,EAMKA,CAAP;AAAOA,GA7IoB;AAuJ7BhR,EAAAA,OAAAA,EAAS,UAAUzK,CAAV,EAAgB0F,CAAhB,EAAgBA;AACvB,QAAIuX,CAAAA,GAAQ,IAAInP,cAAJ,EAAZ;;AAaA,SAAK,IAAIuP,CAAT,IAZAJ,CAAAA,CAAMC,kBAAND,GAA2B,YAAA;AACzB,UAAuB,KAAnB3gB,KAAK6gB,UAAT,EACE,OAESzX,CAAAA,CAFU,OAAfpJ,KAAKgQ,MAAU,GAED,IAFC,GAIDhQ,KAAK8gB,UAFd1X,CAFT;AAIuB0X,KAN3BH,EAWAA,CAAAA,CAAMlP,IAANkP,CAAWjd,CAAAA,CAAKgO,MAAhBiP,EAAwBjd,CAAAA,CAAKqc,IAALrc,GAAY,GAAZA,GAAkBA,CAAAA,CAAKsL,IAA/C2R,EAA+C3R,CAAM,CAArD2R,CAXAA,EAYmBjd,CAAAA,CAAK2K,OAAxB,EAEEsS,CAAAA,CAAMhP,gBAANgP,CAAuBI,CAAvBJ,EADkBjd,CAAAA,CAAK2K,OAAL3K,CAAaqd,CAAbrd,CAClBid;;AAEFA,IAAAA,CAAAA,CAAMvP,IAANuP,CAAWjd,CAAAA,CAAK6K,IAAhBoS;AAAgBpS,GAzKW;AAiL7BgK,EAAAA,WAAAA,EAAa,UAAUlc,CAAV,EAAe+M,CAAf,EAAeA;AAC1B,QAAIA,CAAJ,EAAc,OAAOA,CAAAA,CAAS/M,CAAT+M,CAAP;AAAgB/M,GAlLH;AA0L7B6hB,EAAAA,iBAAAA,EAAmB,YAAA;AACjB,WDlNa,UAAUR,CAAV,EAAUA;AACzBA,MAAAA,CAAAA,GAAOA,CAAAA,IAAQ,EAAfA;;AAGA,WAFA,IAAI9N,CAAAA,GAAK,EAAT,EACI+N,CAAAA,GAAQH,EAAAA,CAAOI,eAAPJ,CAAuB,IAAIK,UAAJ,CAAeH,CAAf,CAAvBF,CACZ,EAAO,IAAIE,CAAAA,EAAX,GACE9N,CAAAA,IAPM,mEAOkB,KAAd+N,CAAAA,CAAMD,CAANC,CAPJ,CAON/N;;AAEF,aAAOA,CAAP;AC2MSoR,KDlNM,ECkNb;AAAOA,GA3LoB;AAkM7B5C,EAAAA,YAAAA,EAAc,YAAA;AACZ,WAAO,wBAAwBpe,KAAKgT,OAA7B,GAAuC,GAAvC,GAA6CsL,SAAAA,CAAUH,SAA9D;AAA8DA,GAnMnC;AA6M7Be,EAAAA,gBAAAA,EAAkB,UAASvX,CAAT,EAAmBqX,CAAnB,EAAmBA;AACnC,QAAKA,CAAAA,CAASiC,UAAd,EAAA;AACA,UACIC,CAAAA,GAAavZ,CAAAA,CAASiI,EAD1B;AAMA,aANcoP,CAAAA,CAASiC,UAATjC,CAAoB5X,IAApB4X,CAEUljB,GAFVkjB,CAEc,UAAUmC,CAAV,EAAUA;AACpC,eAAOA,CAAAA,CAAQvR,EAAf;AAAeA,OAHHoP,EAKcjW,OALdiW,CAKsBkC,CALtBlC,CAMd;AADoCkC;AAAAA,GApNT;AA6N7B1C,EAAAA,mBAAAA,EAAqB,UAASnX,CAAT,EAASA;AAC5B,WAAA,EAAA,CAAmC,CAAnC,KAAIA,CAAAA,CAAQkX,kBAAZ,IACIlX,CAAAA,CAAQqP,MAARrP,IAAQqP,CAAuD,CAAvDA,IAAUrP,CAAAA,CAAQqP,MAARrP,CAAe0B,OAAf1B,CAAuB,gBAAvBA,CADtB,IAGIA,CAAAA,CAAQ+Z,aAHZ,IAKI/Z,CAAAA,CAAQ/D,MALZ,CAAA;AAKYA,GAnOe;AA2O7BqJ,EAAAA,KAAAA,EAAO,YAAA;AACD3M,SAAKye,UAALze,CAAgBxH,MAAhBwH,GAAyB,CAAzBA,KACFA,KAAKoR,IAALpR,CAAUA,KAAKye,UAAfze,GACAA,KAAKye,UAALze,GAAkB,IAAItH,KAAJ,EAFhBsH,GAKAA,KAAK4e,KAAL5e,IAAasM,YAAAA,CAAatM,KAAK4e,KAAlBtS,CALbtM,EAMAA,KAAK0e,aAAL1e,KAAoBA,KAAK4e,KAAL5e,GAAayI,UAAAA,CAAWzI,KAAK2M,KAAL3M,CAAW7C,IAAX6C,CAAgBA,IAAhBA,CAAXyI,EAAkCzI,KAAK0e,aAAvCjW,CAAjCzI,CANAA;AAMwE0e,GAlPjD;AA2P7BrY,EAAAA,IAAAA,EAAM,UAASyO,CAAT,EAAcuM,CAAd,EAAcA;AAClBrhB,SAAKye,UAALze,CAAgBqG,IAAhBrG,CAAqB8U,CAArB9U,GAAqB8U,CACjB9U,KAAKye,UAALze,CAAgBxH,MAAhBwH,IAA0BA,KAAK2e,YAA/B3e,IAA+CqhB,CAD9BvM,KAEnB9U,KAAK2M,KAAL3M,EAFFA;AAEO2M,GA9PoB;AAsQ7B2U,EAAAA,MAAAA,EAAQ,YAAA;AACNthB,SAAK2M,KAAL3M;AAAK2M;AAvQsB,CAA/BmR;AA6QA,IAAA,EAAA,GAAiBA,EAAjB;AAAA,IAAiBA,EAAAA,GCnRA;AAAC6E,EAAAA,WAAAA,EA3BA;AAEhBpB,IAAAA,EAAAA,EAAM,OAFU;AAGhBC,IAAAA,EAAAA,EAAM,SAHU;AAIhBC,IAAAA,EAAAA,EAAM,QAJU;AAKhBC,IAAAA,EAAAA,EAAM,QALU;AAMhB1U,IAAAA,EAAAA,EAAM,UANU;AAOhBI,IAAAA,EAAAA,EAAM,OAPU;AAQhBuU,IAAAA,EAAAA,EAAM,MARU;AAShBC,IAAAA,EAAAA,EAAM,KATU;AAUhBC,IAAAA,EAAAA,EAAM,QAVU;AAWhBC,IAAAA,EAAAA,EAAM,UAXU;AAYhBC,IAAAA,EAAAA,EAAM,UAZU;AAahBC,IAAAA,EAAAA,EAAM,IAbU;AAchBC,IAAAA,EAAAA,EAAM,aAdU;AAehBC,IAAAA,EAAAA,EAAM,SAfU;AAgBhBC,IAAAA,EAAAA,EAAM,OAhBU;AAiBhBC,IAAAA,EAAAA,EAAM,MAjBU;AAkBhBC,IAAAA,EAAAA,EAAM,cAlBU;AAmBhBC,IAAAA,EAAAA,EAAM,OAnBU;AAoBhBC,IAAAA,EAAAA,EAAM,KApBU;AAqBhB1iB,IAAAA,EAAAA,EAAM,OArBU;AAsBhB2iB,IAAAA,EAAAA,EAAM,IAtBU;AAuBhBC,IAAAA,EAAAA,EAAO,QAvBS;AAwBhBC,IAAAA,EAAAA,EAAM;AAxBU;AA2BD,CDmRjB;AAAA,ICtRQ,EAAA,GAAA,CAAA,CAAA,UAAA,CAAA,EAAA;AAAA,GC/BP,UAASjY,CAAT,EAAe5M,CAAf,EAAqB+kB,CAArB,EAAqBA;AACgBhoB,IAAAA,CAAAA,CAAOjF,OAAPiF,GAAgBA,CAAAA,CAAAA,OAAAA,GAAiBgoB,CAAAA,EAAjChoB,GAC/B6P,CAAAA,CAAS,MAATA,GAAamY,CAAAA,EADkBhoB;AADrC,GAAA,CAGCoF,CAHD,EAGO,CAHP,EAGiB,YAAA;AAEhB,QAAI6iB,CAAAA,GAAQ,EAAZ;AAAA,QACIxf,CAAAA,GAAU,iIADd;;AAGA,aAASI,CAAT,CAAeqf,CAAf,EAAeA;AACb,aAAOA,CAAAA,CAAIrf,KAAJqf,CAAUzf,CAAVyf,KAAsB,EAA7B;AAOF;;AAAA,aAASC,CAAT,CAAaD,CAAb,EAAaA;AAEX,aAAO;AACLjG,QAAAA,QAAAA,EAAAA,CAFFiG,CAAAA,GAAMrf,CAAAA,CAAMqf,CAANrf,CAEJoZ,EAAc,CAAdA,KAAoBgG,CADf;AAELG,QAAAA,OAAAA,EAASF,CAAAA,CAAI,CAAJA,CAAAA,IAAUD,CAFd;AAGLI,QAAAA,MAAAA,EAAQH,CAAAA,CAAI,CAAJA,CAAAA,IAAUD,CAHb;AAILK,QAAAA,MAAAA,EAAQJ,CAAAA,CAAI,CAAJA,CAAAA,IAAUD;AAJb,OAAP;AAQF;;AAAA,aAASM,CAAT,CAAgB5mB,CAAhB,EAAwBM,CAAxB,EAA6BjH,CAA7B,EAA6BA;AAC3BH,MAAAA,MAAAA,CAAOC,cAAPD,CAAsB8G,CAAtB9G,EAA8BoH,CAA9BpH,EAAmC;AACjCG,QAAAA,KAAAA,EAAOA,CAD0B;AAEjCwtB,QAAAA,UAAAA,EAAAA,CAAY;AAFqB,OAAnC3tB;AAMF;;AAAA,aAAS4tB,CAAT,CAAc5Q,CAAd,EAAwBpP,CAAxB,EAAiCpM,CAAjC,EAAiCA;AAC/B,eAASya,CAAT,CAAgBoR,CAAhB,EAAgBA;AACd,eAAOrf,CAAAA,CAAMqf,CAANrf,CAAAA,CAAWgP,CAAXhP,KAAwBof,CAA/B;AAEFM;;AAAAA,MAAAA,CAAAA,CAAOzR,CAAPyR,EAAe,SAAfA,EAA0B9f,CAA1B8f,CAAAA,EACAA,CAAAA,CAAOJ,CAAPI,EAAYlsB,CAAZksB,EAAkBzR,CAAlByR,CADAA;AAWF;;AAAA,WAPAE,CAAAA,CAAK,CAALA,EAAQ,iBAARA,EAA2B,UAA3BA,CAAAA,EACAA,CAAAA,CAAK,CAALA,EAAQ,eAARA,EAAyB,SAAzBA,CADAA,EAEAA,CAAAA,CAAK,CAALA,EAAQ,eAARA,EAAyB,QAAzBA,CAFAA,EAGAA,CAAAA,CAAK,CAALA,EAAQ,0BAARA,EAAoC,QAApCA,CAHAA,EAKAF,CAAAA,CAAOJ,CAAPI,EAAY,OAAZA,EAlCA,UAAeL,CAAf,EAAeA;AACb,aAAOrf,CAAAA,CAAMqf,CAANrf,CAAAA,CAAWH,MAAXG,CAAkB,UAASvM,CAAT,EAAY0E,CAAZ,EAAYA;AAAK,eAAO1E,CAAAA,IAAK0E,CAAZ;AAAYA,OAA/C6H,CAAP;AAAsD7H,KAiCxDunB,CALAE,EAOON,CAAP;AAAOA,GAhDR,CD+BO;ACiBCA,CDjBD,CDsRR;AAAA,IGhTI7N,EAAAA,GAAera,CAAAA,CAAkBqa,YHgTrC;;AG3PA,SAASoO,EAAT,CAAwBjc,CAAxB,EAAwBA;AACtBrH,OAAKujB,aAALvjB,GAAqB,IAAIkV,EAAJ,EAArBlV,EACAA,KAAKqH,OAALrH,GAAesH,CAAAA,CAAO,EAAPA,EAAWtH,KAAKqH,OAAhBC,EAAyBD,CAAzBC,CADftH,EAEAA,KAAKygB,WAALzgB,GAAmB,EAFnBA,EAGAA,KAAKwjB,KAALxjB,GAAKwjB,CAAQ,CAHbxjB,EAIAA,KAAKyjB,YAALzjB,GAAoB,IAJpBA;AAOFsjB;;AAAAA,EAAAA,CAAeroB,SAAfqoB,GAA2B;AACzBjc,EAAAA,OAAAA,EAAS;AACP8Y,IAAAA,IAAAA,EAAM,EADC;AAEPuD,IAAAA,KAAAA,EAAAA,CAAO,CAFA;AAGPC,IAAAA,cAAAA,EAAAA,CAAgB,CAHT;AAIPpc,IAAAA,SAAAA,EAAW,CAJJ;AAKP0V,IAAAA,cAAAA,EAAAA,CAAgB,CALT;AAMPzV,IAAAA,KAAAA,EAAO,CANA;AAOPkP,IAAAA,MAAAA,EAAQ,wBAPD;AAQP6H,IAAAA,kBAAAA,EAAAA,CAAoB,CARb;AASPqF,IAAAA,MAAAA,EAAAA,CAAQ,CATD;AAUPC,IAAAA,QAAAA,EAAU,IAVH;AAWPC,IAAAA,SAAAA,EAAAA,CAAW,CAXJ;AAYPC,IAAAA,iBAAAA,EAAAA,CAAmB,CAZZ;AAaPC,IAAAA,WAAAA,EAAAA,CAAa,CAbN;AAcP7b,IAAAA,YAAAA,EAAc,UAAS/B,CAAT,EAASA;AACrB,aAAOA,CAAAA,CAAKkZ,UAAZ;AAAYA,KAfP;AAiBPpX,IAAAA,MAAAA,EAAQ,UAAS9B,CAAT,EAASA;AACf,UAAI6d,CAAAA,GAAY7d,CAAAA,CAAKkZ,UAALlZ,CAAgBnK,KAAhBmK,CAAsB,GAAtBA,CAAhB;AACA,aAAO,2GAA2G6d,CAAAA,CAAU,CAAVA,CAA3G,GAAyH,gEAAzH,GAA4LA,CAAAA,CAAUC,MAAVD,CAAiB,CAAjBA,EAAoBA,CAAAA,CAAUzrB,MAA9ByrB,EAAsCloB,IAAtCkoB,CAA2C,GAA3CA,CAA5L,GAA8O,cAArP;AAAqP;AAnBhP,GADgB;AAwBzBE,EAAAA,KAAAA,EAAO,UAASroB,CAAT,EAASA;AACdkE,SAAKogB,IAALpgB,GAAYlE,CAAZkE,EAEAA,KAAKokB,WAALpkB,EAFAA,EAIAA,KAAKqkB,eAALrkB,GAAuBskB,EAAAA,CACrBC,EAAAA,CAAa;AACXhT,MAAAA,WAAAA,EAAavR,KAAKqH,OAALrH,CAAauR,WADf;AAEXmF,MAAAA,MAAAA,EAAQ1W,KAAKqH,OAALrH,CAAa0W;AAFV,KAAb6N,CADqBD,CAJvBtkB,EAWAA,KAAKwkB,YAALxkB,GAAoB,IAAI8d,EAAJ,CAAuB9d,KAAKqH,OAA5B,CAXpBrH,EAaAA,KAAKykB,SAALzkB,GAAiBA,KAAKykB,SAALzkB,CAAe7C,IAAf6C,CAAoBA,IAApBA,CAbjBA,EAcAA,KAAK0kB,UAAL1kB,GAAkBA,KAAK0kB,UAAL1kB,CAAgB7C,IAAhB6C,CAAqBA,IAArBA,CAdlBA,EAeAA,KAAK2kB,OAAL3kB,GAAeA,KAAK2kB,OAAL3kB,CAAa7C,IAAb6C,CAAkBA,IAAlBA,CAffA,EAgBAA,KAAK4kB,WAAL5kB,GAAmBA,KAAK4kB,WAAL5kB,CAAiB7C,IAAjB6C,CAAsBA,IAAtBA,CAhBnBA,EAiBAA,KAAK6kB,WAAL7kB,GAAmBA,KAAK6kB,WAAL7kB,CAAiB7C,IAAjB6C,CAAsBA,IAAtBA,CAjBnBA,EAkBAA,KAAK8kB,cAAL9kB,GAAsBA,KAAK8kB,cAAL9kB,CAAoB7C,IAApB6C,CAAyBA,IAAzBA,CAlBtBA,EAmBAA,KAAKsG,KAALtG,GAAaA,KAAKsG,KAALtG,CAAW7C,IAAX6C,CAAgBA,IAAhBA,CAnBbA,EAoBAA,KAAK+kB,gBAAL/kB,GAAwBA,KAAK+kB,gBAAL/kB,CAAsB7C,IAAtB6C,CAA2BA,IAA3BA,CApBxBA,EAqBAA,KAAKglB,SAALhlB,GAAiBA,KAAKglB,SAALhlB,CAAe7C,IAAf6C,CAAoBA,IAApBA,CArBjBA,EAsBAA,KAAKilB,WAALjlB,GAAmBA,KAAKilB,WAALjlB,CAAiB7C,IAAjB6C,CAAsBA,IAAtBA,CAtBnBA,EAuBAA,KAAKklB,MAALllB,GAAcA,KAAKklB,MAALllB,CAAY7C,IAAZ6C,CAAiBA,IAAjBA,CAvBdA,EAwBAA,KAAKmlB,YAALnlB,GAAoBA,KAAKmlB,YAALnlB,CAAkB7C,IAAlB6C,CAAuBA,IAAvBA,CAxBpBA;AA0BA,QAAI2F,CAAAA,GAAM3F,KAAKolB,SAALplB,GAAiBsF,QAAAA,CAASC,aAATD,CAAuB,KAAvBA,CAA3B;AACAK,IAAAA,CAAAA,CAAGH,SAAHG,GAAe,sCAAfA;AAEA,QAAI0f,CAAAA,GAAarlB,KAAKslB,UAALtlB,CAAgB,QAAhBA,EAA0B,mQAA1BA,CAAjB;AAEAA,SAAK0gB,QAAL1gB,GAAgBsF,QAAAA,CAASC,aAATD,CAAuB,OAAvBA,CAAhBtF,EACAA,KAAK0gB,QAAL1gB,CAAc/I,IAAd+I,GAAqB,MADrBA,EAEAA,KAAK0gB,QAAL1gB,CAAcwF,SAAdxF,GAA0B,+BAF1BA,EAIAA,KAAKulB,cAALvlB,EAJAA,EAMIA,KAAKqH,OAALrH,CAAa8jB,SAAb9jB,KACFA,KAAKglB,SAALhlB,IACAA,KAAKolB,SAALplB,CAAe6G,gBAAf7G,CAAgC,YAAhCA,EAA8CA,KAAKilB,WAAnDjlB,CADAA,EAEAA,KAAKolB,SAALplB,CAAe6G,gBAAf7G,CAAgC,YAAhCA,EAA8CA,KAAKglB,SAAnDhlB,CAFAA,EAGAA,KAAK0gB,QAAL1gB,CAAc6G,gBAAd7G,CAA+B,OAA/BA,EAAwCA,KAAKilB,WAA7CjlB,CAJEA,CANJA,EAU+CilB,CAG3CjlB,KAAKqH,OAALrH,CAAa8jB,SAAb9jB,IAA0BA,KAAKqH,OAALrH,CAAagkB,WAHIiB,KAI7CjlB,KAAK0gB,QAAL1gB,CAAc6G,gBAAd7G,CAA+B,MAA/BA,EAAuCA,KAAK2kB,OAA5C3kB,CAdFA,EAiBAA,KAAK0gB,QAAL1gB,CAAc6G,gBAAd7G,CAA+B,SAA/BA,E5BTJ,UAAkBlB,CAAlB,EAAwBoM,CAAxB,EAA8B7D,CAA9B,EAA8BA;AAC5B,UAAI8D,CAAJ;AAAA,UACIC,CADJ;AAAA,UAEIC,CAFJ;AAAA,UAGIzH,CAHJ;AAAA,UAII0H,CAJJ;AAAA,UAKIC,CALJ;AAAA,UAMIC,CAAAA,GAAiB,CANrB;AAAA,UAOIC,CAAAA,GAAAA,CAAU,CAPd;AAAA,UAQIC,CAAAA,GAAAA,CAAS,CARb;AAAA,UASIC,CAAAA,GAAAA,CAAW,CATf;AAWA,UAAmB,cAAA,OAAR7M,CAAX,EACE,MAAM,IAAIxD,SAAJ,CArIY,qBAqIZ,CAAN;;AAUF,eAASwQ,CAAT,CAAoBC,CAApB,EAAoBA;AAClB,YAAItT,CAAAA,GAAO0S,CAAX;AAAA,YACIa,CAAAA,GAAUZ,CADd;AAMA,eAHAD,CAAAA,GAAWC,CAAAA,GAAAA,KAAWhS,CAAtB+R,EACAK,CAAAA,GAAiBO,CADjBZ,EAEAvH,CAAAA,GAAS9E,CAAAA,CAAKvF,KAALuF,CAAWkN,CAAXlN,EAAoBrG,CAApBqG,CACT;AAoBF;;AAAA,eAASoN,CAAT,CAAsBH,CAAtB,EAAsBA;AACpB,YAAII,CAAAA,GAAoBJ,CAAAA,GAAOR,CAA/B;AAMA,eAAA,KAAyBnS,CAAzB,KAAQmS,CAAR,IAAuCY,CAAAA,IAAqBjB,CAA5D,IACGiB,CAAAA,GAAoB,CADvB,IAC8BT,CAAAA,IANJK,CAAAA,GAAOP,CAAPO,IAMqCV,CAD/D;AAIF;;AAAA,eAASY,CAAT,GAASA;AACP,YAAIF,CAAAA,GAAOd,CAAAA,EAAX;AACA,YAAIiB,CAAAA,CAAaH,CAAbG,CAAJ,EACE,OAAOE,CAAAA,CAAaL,CAAbK,CAAP;AAGFd,QAAAA,CAAAA,GAAU7C,UAAAA,CAAWwD,CAAXxD,EAzBZ,UAAuBsD,CAAvB,EAAuBA;AACrB,cAEInI,CAAAA,GAASsH,CAAAA,IAFWa,CAAAA,GAAOR,CAElBL,CAFb;AAIA,iBAAOQ,CAAAA,GAASX,CAAAA,CAAUnH,CAAVmH,EAAkBM,CAAAA,IAHRU,CAAAA,GAAOP,CAGCH,CAAlBN,CAATW,GAA4D9H,CAAnE;AAoBmCyI,SAzBrC,CAyBmDN,CAzBnD,CAyBYtD,CAAV6C;AAGF;;AAAA,eAASc,CAAT,CAAsBL,CAAtB,EAAsBA;AAKpB,eAJAT,CAAAA,GAAAA,KAAUlS,CAAVkS,EAIIK,CAAAA,IAAYR,CAAZQ,GACKG,CAAAA,CAAWC,CAAXD,CADLH,IAGJR,CAAAA,GAAWC,CAAAA,GAAAA,KAAWhS,CAAtB+R,EACOvH,CAJH+H,CAAJ;AAmBF;;AAAA,eAASY,CAAT,GAASA;AACP,YAAIR,CAAAA,GAAOd,CAAAA,EAAX;AAAA,YACIuB,CAAAA,GAAaN,CAAAA,CAAaH,CAAbG,CADjB;;AAOA,YAJAf,CAAAA,GAAW5S,SAAX4S,EACAC,CAAAA,GAAWpL,IADXmL,EAEAI,CAAAA,GAAeQ,CAFfZ,EAIIqB,CAAJ,EAAgB;AACd,cAAA,KAAgBpT,CAAhB,KAAIkS,CAAJ,EACE,OAvEN,UAAqBS,CAArB,EAAqBA;AAMnB,mBAJAP,CAAAA,GAAiBO,CAAjBP,EAEAF,CAAAA,GAAU7C,UAAAA,CAAWwD,CAAXxD,EAAyByC,CAAzBzC,CAFV+C,EAIOC,CAAAA,GAAUK,CAAAA,CAAWC,CAAXD,CAAVL,GAA6B7H,CAApC;AAiEW6I,WAvEb,CAuEyBlB,CAvEzB,CAuEM;AAEF,cAAIG,CAAJ,EAGE,OADAJ,CAAAA,GAAU7C,UAAAA,CAAWwD,CAAXxD,EAAyByC,CAAzBzC,CAAV6C,EACOQ,CAAAA,CAAWP,CAAXO,CAAP;AAMJ;;AAAA,eAAA,KAHgB1S,CAGhB,KAHIkS,CAGJ,KAFEA,CAAAA,GAAU7C,UAAAA,CAAWwD,CAAXxD,EAAyByC,CAAzBzC,CAEZ,GAAO7E,CAAP;AAIF;;AAAA,aAxGAsH,CAAAA,GAAOU,CAAAA,CAASV,CAATU,CAAAA,IAAkB,CAAzBV,EACIW,CAAAA,CAAAA,K4BPwC2Z,C5BOxC3Z,CAAAA,KACFJ,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,K4BR0C+Z,C5BQ1C/Z,EAAoBA,OAApBA,EAEAJ,CAAAA,GAAAA,CADAK,CAAAA,GAAS,aAAA,K4BTiC8Z,C5BU1Cna,IAAmBT,CAAAA,CAAUgB,CAAAA,CAAAA,CAAAA,K4BVa4Z,C5BUb5Z,EAAiBP,OAAjBO,CAAAA,IAA6B,CAAvChB,EAA0CM,CAA1CN,CAAnBS,GAAqEA,CAFrEI,EAGAE,CAAAA,GAAW,cAAA,K4BX+B6Z,C5BW/B,G4BX+BA,CAAAA,CAAAA,CAAAA,KAAAA,CAAAA,E5BWG7Z,QAAlC,GAA6CA,CAJtDE,CADJX,EAsGAqB,CAAAA,CAAUG,MAAVH,GAnCA,YAAA;AAAA,aACkBnT,CADlB,KACMkS,CADN,IAEIgB,YAAAA,CAAahB,CAAbgB,CAFJ,EAIEd,CAAAA,GAAiB,CAJnB,EAKEL,CAAAA,GAAWI,CAAAA,GAAeH,CAAAA,GAAWE,CAAAA,GAAAA,KAAUlS,CALjD;AAKiDA,OAxEjD8R,EAuGAqB,CAAAA,CAAUI,KAAVJ,GA5BA,YAAA;AACE,eAAA,KAAmBnT,CAAnB,KAAOkS,CAAP,GAA+B1H,CAA/B,GAAwCwI,CAAAA,CAAanB,CAAAA,EAAbmB,CAAxC;AAAqDnB,OA5EvDC,EAwGOqB,CAAP;A4B9G4CiZ,K5BT9C,C4BSuDxlB,KAAK0kB,U5BT5D,E4BSwE,G5BTxE,C4BSI1kB,CAjBAA,EAkBAA,KAAK0gB,QAAL1gB,CAAc6G,gBAAd7G,CAA+B,QAA/BA,EAAyCA,KAAKykB,SAA9CzkB,CAlBAA,EAmBAA,KAAKolB,SAALplB,CAAe6G,gBAAf7G,CAAgC,YAAhCA,EAA8CA,KAAK4kB,WAAnD5kB,CAnBAA,EAoBAA,KAAKolB,SAALplB,CAAe6G,gBAAf7G,CAAgC,YAAhCA,EAA8CA,KAAK6kB,WAAnD7kB,CApBAA,EAqBAA,KAAK0gB,QAAL1gB,CAAc6G,gBAAd7G,CAA+B,OAA/BA,EAAwC,UAAS9J,CAAT,EAASA;AAC/C8J,WAAKwkB,YAALxkB,CAAkB0f,QAAlB1f,CAA2B9J,CAA3B8J,EAA8BA,IAA9BA;AAA8BA,KADQ,CAEtC7C,IAFsC,CAEjC6C,IAFiC,CAAxCA,CArBAA;AAyBA,QAAIylB,CAAAA,GAAUngB,QAAAA,CAASC,aAATD,CAAuB,KAAvBA,CAAd;AACAmgB,IAAAA,CAAAA,CAAQC,SAARD,CAAkBtf,GAAlBsf,CAAsB,mCAAtBA,GAEAzlB,KAAK2lB,QAAL3lB,GAAgBsF,QAAAA,CAASC,aAATD,CAAuB,QAAvBA,CAFhBmgB,EAGAzlB,KAAK2lB,QAAL3lB,CAAc4lB,YAAd5lB,CAA2B,YAA3BA,EAAyC,OAAzCA,CAHAylB,EAIAzlB,KAAK2lB,QAAL3lB,CAAc6G,gBAAd7G,CAA+B,OAA/BA,EAAwCA,KAAKsG,KAA7CtG,CAJAylB,EAKAzlB,KAAK2lB,QAAL3lB,CAAcwF,SAAdxF,GAA0B,gCAL1BylB;AAOA,QAAII,CAAAA,GAAa7lB,KAAKslB,UAALtlB,CAAgB,OAAhBA,EAAyB,wRAAzBA,CAAjB;AAmCA,WAlCAA,KAAK2lB,QAAL3lB,CAAcyF,WAAdzF,CAA0B6lB,CAA1B7lB,GAEAA,KAAK8lB,UAAL9lB,GAAkBA,KAAKslB,UAALtlB,CAAgB,SAAhBA,EAA2B,kQAA3BA,CAFlBA,EAIAylB,CAAAA,CAAQhgB,WAARggB,CAAoBzlB,KAAK2lB,QAAzBF,CAJAzlB,EAKAylB,CAAAA,CAAQhgB,WAARggB,CAAoBzlB,KAAK8lB,UAAzBL,CALAzlB,EAOA2F,CAAAA,CAAGF,WAAHE,CAAe0f,CAAf1f,CAPA3F,EAQA2F,CAAAA,CAAGF,WAAHE,CAAe3F,KAAK0gB,QAApB/a,CARA3F,EASA2F,CAAAA,CAAGF,WAAHE,CAAe8f,CAAf9f,CATA3F,EAWAA,KAAKihB,UAALjhB,GAAkB,IAAI+lB,CAAJ,CAAc/lB,KAAK0gB,QAAnB,EAA6B,EAA7B,EAAiC;AACjDpd,MAAAA,MAAAA,EAAAA,CAAQ,CADyC;AAEjDiE,MAAAA,SAAAA,EAAWvH,KAAKqH,OAALrH,CAAauH,SAFyB;AAGjDC,MAAAA,KAAAA,EAAOxH,KAAKqH,OAALrH,CAAawH;AAH6B,KAAjC,CAXlBxH,EAiBAA,KAAKgmB,iBAALhmB,CAAuBA,KAAKqH,OAALrH,CAAakI,MAApClI,CAjBAA,EAkBAA,KAAKihB,UAALjhB,CAAgBmI,YAAhBnI,GAA+BA,KAAKqH,OAALrH,CAAamI,YAlB5CnI,EAoBIA,KAAKqH,OAALrH,CAAa2jB,cAAb3jB,KACFA,KAAK+kB,gBAAL/kB,IACAA,KAAKogB,IAALpgB,CAAUiW,EAAVjW,CAAa,SAAbA,EAAwBA,KAAK+kB,gBAA7B/kB,CAFEA,CApBJA,EAyBAA,KAAKimB,SAALjmB,GAAiB,IAzBjBA,EA0BAA,KAAKkmB,aAALlmB,GAAqBA,KAAKkmB,aAALlmB,CAAmB7C,IAAnB6C,CAAwBA,IAAxBA,CA1BrBA,EA4BAA,KAAKmmB,SAALnmB,GAAiBA,KAAKqH,OAALrH,CAAa6jB,QA5B9B7jB,EA4B8B6jB,CACzB7jB,KAAKmmB,SADoBtC,IACP7jB,KAAKqH,OAALrH,CAAa4jB,MADNC,KAE5B9qB,OAAAA,CAAQsE,KAARtE,CAAc,yFAAdA,GACAiH,KAAKqH,OAALrH,CAAa4jB,MAAb5jB,GAAa4jB,CAAS,CAHMC,CA5B9B7jB,EAkCO2F,CAAP;AAAOA,GA5HgB;AA+HzB2f,EAAAA,UAAAA,EAAY,UAASznB,CAAT,EAAemR,CAAf,EAAeA;AACzB,QAAIoX,CAAAA,GAAO9gB,QAAAA,CAAS+gB,eAAT/gB,CAAyB,4BAAzBA,EAAuD,KAAvDA,CAAX;AAOA,WANA8gB,CAAAA,CAAKR,YAALQ,CAAkB,OAAlBA,EAA2B,+DAA+DvoB,CAA1FuoB,GACAA,CAAAA,CAAKR,YAALQ,CAAkB,SAAlBA,EAA6B,WAA7BA,CADAA,EAEAA,CAAAA,CAAKR,YAALQ,CAAkB,WAAlBA,EAA8B,UAA9BA,CAFAA,EAGAA,CAAAA,CAAKR,YAALQ,CAAkB,OAAlBA,EAA2B,EAA3BA,CAHAA,EAIAA,CAAAA,CAAKR,YAALQ,CAAkB,QAAlBA,EAA4B,EAA5BA,CAJAA,EAKAA,CAAAA,CAAK1f,SAAL0f,GAAiBpX,CALjBoX,EAMOA,CAAP;AAAOA,GAvIgB;AA0IzBE,EAAAA,QAAAA,EAAU,YAAA;AAWR,WAVAtmB,KAAKolB,SAALplB,CAAe4F,UAAf5F,CAA0BumB,WAA1BvmB,CAAsCA,KAAKolB,SAA3CplB,GAEIA,KAAKqH,OAALrH,CAAa2jB,cAAb3jB,IACFA,KAAKogB,IAALpgB,CAAUmW,GAAVnW,CAAc,SAAdA,EAAyBA,KAAK+kB,gBAA9B/kB,CAHFA,EAMAA,KAAKwmB,aAALxmB,EANAA,EAQAA,KAAKogB,IAALpgB,GAAY,IARZA,EAUOA,IAAP;AAAOA,GArJgB;AAwJzB0kB,EAAAA,UAAAA,EAAY,UAASxuB,CAAT,EAASA;AACnB,QAAIuwB,CAAAA,GAAe,EAAnB;AAAA,QACEC,CAAAA,GAAe,CADjB;AAGA,QAAIxwB,CAAAA,CAAE2R,OAAF3R,KAAcuwB,CAAdvwB,IAA8B8J,KAAKqH,OAALrH,CAAa+jB,iBAA/C,EAEE,OADA/jB,KAAKklB,MAALllB,CAAY9J,CAAZ8J,GACOA,KAAK0gB,QAAL1gB,CAAc2mB,IAAd3mB,EAAP;AAIF,QAAIzD,CAAAA,GAASrG,CAAAA,CAAEqG,MAAFrG,IAAYA,CAAAA,CAAEqG,MAAFrG,CAAS0wB,UAArB1wB,GACTA,CAAAA,CAAEqG,MAAFrG,CAAS0wB,UAAT1wB,CAAoB2wB,aADX3wB,GAETA,CAAAA,CAAEqG,MAFN;AAIA,QAAA,CADYA,CACZ,IADYA,CAASA,CAAAA,CAAO3G,KAC5B,EAIE,OAHAoK,KAAKwjB,KAALxjB,GAAKwjB,CAAQ,CAAbxjB,EAEI9J,CAAAA,CAAE2R,OAAF3R,KAAcwwB,CAAdxwB,IAA4B8J,KAAKsG,KAALtG,CAAW9J,CAAX8J,CAFhCA,EAGQA,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,MAAtC;AAIE9J,IAAAA,CAAAA,CAAE0pB,OAAF1pB,IAAE0pB,CAAoF,CAApFA,KAAW,CAAC8G,CAAD,EAAeD,CAAf,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiD1d,OAAjD,CAAyD7S,CAAAA,CAAE2R,OAA3D,CAAb3R,IAGAqG,CAAAA,CAAO3G,KAAP2G,CAAa/D,MAAb+D,IAAuByD,KAAKqH,OAALrH,CAAauH,SAApChL,IACFyD,KAAK8mB,QAAL9mB,CAAczD,CAAAA,CAAO3G,KAArBoK,CAJE9J;AAImBN,GAlLA;AAsLzBgvB,EAAAA,WAAAA,EAAa,YAAA;AACP5kB,SAAKihB,UAALjhB,CAAgB2H,QAAhB3H,KAA0BA,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,OAAxDA;AAAwD,GAvLrC;AA0LzB6kB,EAAAA,WAAAA,EAAa,YAAA;AACP7kB,SAAKihB,UAALjhB,CAAgB2H,QAAhB3H,KAA0BA,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,MAAxDA;AAAwD,GA3LrC;AA8LzB2kB,EAAAA,OAAAA,EAAS,UAASzuB,CAAT,EAASA;AACZ8J,SAAKqH,OAALrH,CAAagkB,WAAbhkB,IACFA,KAAKmlB,YAALnlB,CAAkB9J,CAAlB8J,CADEA,EAGAA,KAAKqH,OAALrH,CAAa8jB,SAAb9jB,IACFA,KAAKglB,SAALhlB,EAJEA;AAIGglB,GAnMgB;AAsMzBP,EAAAA,SAAAA,EAAW,YAAA;AACT,QAAI9c,CAAAA,GAAW3H,KAAKihB,UAALjhB,CAAgB2H,QAA/B;;AACA,QAAIA,CAAAA,IAAaA,CAAAA,CAASiI,EAATjI,KAAgB3H,KAAKyjB,YAAtC,EAAoD;AAGhD,UAAIsD,CAAJ;AADF,UADA/mB,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,MAA9BA,EACIA,KAAKqH,OAALrH,CAAa0jB,KAAjB,EAEE,IAAI/b,CAAAA,CAASqf,UAATrf,IAASqf,CAAeC,CAAAA,CAAWtf,CAAAA,CAASqf,UAATrf,CAAoBuf,UAA/BD,CAAxBtf,IAAsEA,CAAAA,CAASsF,IAAnF,EAAyF;AACvF,YAAIA,CAAAA,GAAOtF,CAAAA,CAASsF,IAApB;AACA8Z,QAAAA,CAAAA,GAAazf,CAAAA,CAAO,EAAPA,EAAWtH,KAAKqH,OAALrH,CAAa0jB,KAAxBpc,CAAbyf,EACA/mB,KAAKogB,IAALpgB,CAAUmnB,SAAVnnB,CAAoB,CAAC,CAACiN,CAAAA,CAAK,CAALA,CAAD,EAAUA,CAAAA,CAAK,CAALA,CAAV,CAAD,EAAqB,CAACA,CAAAA,CAAK,CAALA,CAAD,EAAUA,CAAAA,CAAK,CAALA,CAAV,CAArB,CAApBjN,EAA8D+mB,CAA9D/mB,CADA+mB;AAC8DA,OAHhE,MAIWpf,CAAAA,CAASqf,UAATrf,IAAuBsf,CAAAA,CAAWtf,CAAAA,CAASqf,UAATrf,CAAoBuf,UAA/BD,CAAvBtf,IAOTof,CAAAA,GAAazf,CAAAA,CAAO,EAAPA,EAAWtH,KAAKqH,OAALrH,CAAa0jB,KAAxBpc,CAAbyf,EACA/mB,KAAKogB,IAALpgB,CAAUmnB,SAAVnnB,CAAoBinB,CAAAA,CAAWtf,CAAAA,CAASqf,UAATrf,CAAoBuf,UAA/BD,CAAAA,CAA2Cha,IAA/DjN,EAAqE+mB,CAArE/mB,CARS2H,KAQ4Dof,CAKrEA,CAAAA,GAAazf,CAAAA,CAAO,EAAPA,EAHW;AACtB6Y,QAAAA,IAAAA,EAAMngB,KAAKqH,OAALrH,CAAamgB;AADG,OAGX7Y,EAA8BtH,KAAKqH,OAALrH,CAAa0jB,KAA3Cpc,CALwDyf,EAO1DK,MAP0DL,GAOjDpf,CAAAA,CAASyf,MAPwCL,EAQrE/mB,KAAKogB,IAALpgB,CAAU0jB,KAAV1jB,CAAgB+mB,CAAhB/mB,CAhBS2H;AAmBT3H,WAAKqH,OAALrH,CAAa4jB,MAAb5jB,IAAuBA,KAAKmmB,SAA5BnmB,IACFA,KAAKkmB,aAALlmB,CAAmB2H,CAAnB3H,CADEA,EAMJA,KAAK0gB,QAAL1gB,CAAcqnB,KAAdrnB,EANIA,EAOJA,KAAK0gB,QAAL1gB,CAAcsnB,UAAdtnB,GAA2B,CAPvBA,EAQJA,KAAK0gB,QAAL1gB,CAAcunB,iBAAdvnB,CAAgC,CAAhCA,EAAmC,CAAnCA,CARIA,EAUJA,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,QAAxBA,EAAkC;AAAE4D,QAAAA,MAAAA,EAAQ+D;AAAV,OAAlC3H,CAVIA,EAWJA,KAAKwkB,YAALxkB,CAAkB+e,MAAlB/e,CAAyB2H,CAAzB3H,EAAmCA,IAAnCA,CAXIA,EAYJA,KAAKyjB,YAALzjB,GAAoB2H,CAAAA,CAASiI,EAZzB5P;AAYyB4P;AAAAA,GA/OR;AAmPzBkX,EAAAA,QAAAA,EAAU,UAASU,CAAT,EAASA;AACjBxnB,SAAK8lB,UAAL9lB,CAAgBgG,KAAhBhG,CAAsBiG,OAAtBjG,GAAgC,OAAhCA,EACAA,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,SAAxBA,EAAmC;AAAE0H,MAAAA,KAAAA,EAAO8f;AAAT,KAAnCxnB,CADAA,EAEAA,KAAKygB,WAALzgB,GAAmBwnB,CAFnBxnB;AAIA,QA0BImO,CA1BJ;AAAA,QASI3F,CAAAA,GAAOxI,IATX;AAAA,QAWIuc,CAAAA,GAXO,CACT,MADS,EAET,OAFS,EAGT,WAHS,EAIT,WAJS,EAKT,OALS,EAMT,UANS,EAOT,aAPS,EAWO5X,MAXP,CAWc,UAAS4X,CAAT,EAAiB1f,CAAjB,EAAiBA;AAYxC,aAXI2L,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,MAIG+T,CAAAA,CAAO1f,CAAP0f,CAAAA,GADL,CAAC,WAAD,EAAc,OAAd,EAAuB,UAAvB,EAAmCxT,OAAnC,CAA2ClM,CAA3C,IAA2CA,CAAQ,CAAnD,GACmB2L,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,EAAkBvM,KAAlBuM,CAAwB,QAAxBA,CADnB,GAEmBA,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,CADd+T,EAGO,gBAAR1f,CAAQ,IAAe2L,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,CAAf,IAAoCA,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,EAAkByX,SAAtD,IAAmEzX,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,EAAkB0X,QAArF,KACV3D,CAAAA,CAAO1f,CAAP0f,CAAAA,GAAc,CAAC/T,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,EAAkByX,SAAnB,EAA8BzX,CAAAA,CAAKnB,OAALmB,CAAa3L,CAAb2L,EAAkB0X,QAAhD,CADJ,CAPV1X,GAWG+T,CAAP;AAAOA,KAvBE,EAwBR,EAxBQ,CAAX;;AA6BA,QACEvc,KAAKqH,OAALrH,CAAaid,cAAbjd,IACA,uCAAuCwD,IAAvC,CAA4CgkB,CAA5C,CAFF,EAGE;AAEA,UAAIC,CAAAA,GAASD,CAAAA,CAAYvrB,KAAZurB,CAAkB,WAAlBA,EAA+B1rB,GAA/B0rB,CAAmC,UAASxxB,CAAT,EAASA;AACvD,eAAO0xB,UAAAA,CAAW1xB,CAAX0xB,EAAc,EAAdA,CAAP;AAAqB,OADVF,EAEVG,OAFUH,EAAb;AAOAjL,MAAAA,CAAAA,GAASjV,CAAAA,CAAOiV,CAAPjV,EAAe;AAAEI,QAAAA,KAAAA,EAAO+f,CAAT;AAAiBjgB,QAAAA,KAAAA,EAAO;AAAxB,OAAfF,CAATiV,EACApO,CAAAA,GAAUnO,KAAKqkB,eAALrkB,CAAqBid,cAArBjd,CAAoCuc,CAApCvc,EAA4CoR,IAA5CpR,EADVuc;AACsDnL,KAbxD,MAeEmL,CAAAA,GAASjV,CAAAA,CAAOiV,CAAPjV,EAAe;AAAEI,MAAAA,KAAAA,EAAO8f;AAAT,KAAflgB,CAATiV,EACApO,CAAAA,GAAUnO,KAAKqkB,eAALrkB,CAAqBsc,cAArBtc,CAAoCuc,CAApCvc,EAA4CoR,IAA5CpR,EADVuc;;AAIF,QAAIqL,CAAAA,GAAmB,EAAvB;AAmEA,WAlEI5nB,KAAKqH,OAALrH,CAAaohB,aAAbphB,KAAaohB,CACfwG,CAAAA,GAAmB5nB,KAAKqH,OAALrH,CAAaohB,aAAbphB,CAA2BwnB,CAA3BxnB,CADJohB,MAGbwG,CAAAA,GAAmB,EAHNxG,CAAbphB,GAOJmO,CAAAA,CAAQkD,IAARlD,CACE,UAAS2B,CAAT,EAASA;AACP9P,WAAK8lB,UAAL9lB,CAAgBgG,KAAhBhG,CAAsBiG,OAAtBjG,GAAgC,MAAhCA;AAEA,UAAI6nB,CAAAA,GAAM,EAAV;AAE2B,eAAvB/X,CAAAA,CAAStB,UAAc,KACzBqZ,CAAAA,GAAM/X,CAAAA,CAASvB,IADU,GAI3BsZ,CAAAA,CAAItL,MAAJsL,GAAatL,CAJc,EAKvBvc,KAAKwjB,KAALxjB,KACFA,KAAKwkB,YAALxkB,CAAkByf,KAAlBzf,CAAwBA,IAAxBA,GACAA,KAAKwjB,KAALxjB,GAAKwjB,CAAQ,CAFXxjB,CALuB,EAW3B6nB,CAAAA,CAAIC,QAAJD,GAAeA,CAAAA,CAAIC,QAAJD,GACXD,CAAAA,CAAiBpuB,MAAjBouB,CAAwBC,CAAAA,CAAIC,QAA5BF,CADWC,GAEXD,CAbuB,EAgBvB5nB,KAAKqH,OAALrH,CAAasD,MAAbtD,IAAuB6nB,CAAAA,CAAIC,QAAJD,CAAarvB,MAApCwH,KACF6nB,CAAAA,CAAIC,QAAJD,GAAeA,CAAAA,CAAIC,QAAJD,CAAavkB,MAAbukB,CAAoB7nB,KAAKqH,OAALrH,CAAasD,MAAjCukB,CADb7nB,CAhBuB,EAoBvB6nB,CAAAA,CAAIC,QAAJD,CAAarvB,MAAbqvB,IACF7nB,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,OAA9BA,EACAA,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,SAAxBA,EAAmC6nB,CAAnC7nB,CADAA,EAEAA,KAAKihB,UAALjhB,CAAgB4I,MAAhB5I,CAAuB6nB,CAAAA,CAAIC,QAA3B9nB,CAHE6nB,KAKF7nB,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,MAA9BA,EACAA,KAAKihB,UAALjhB,CAAgB2H,QAAhB3H,GAA2B,IAD3BA,EAEAA,KAAK+nB,gBAAL/nB,EAFAA,EAGAA,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,SAAxBA,EAAmC6nB,CAAnC7nB,CARE6nB,CApBuB;AA4BUA,KAjCvC,CAoCE1qB,IApCF,CAoCO6C,IApCP,CADFmO,CAPInO,EA+CJmO,CAAAA,CAAQ6Z,KAAR7Z,CACE,UAAS9R,CAAT,EAASA;AACP2D,WAAK8lB,UAAL9lB,CAAgBgG,KAAhBhG,CAAsBiG,OAAtBjG,GAAgC,MAAhCA,EAGI4nB,CAAAA,CAAiBpvB,MAAjBovB,IAA2B5nB,KAAKqH,OAALrH,CAAaohB,aAAxCwG,IACF5nB,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,OAA9BA,EACAA,KAAKihB,UAALjhB,CAAgB4I,MAAhB5I,CAAuB4nB,CAAvB5nB,CAFE4nB,KAIF5nB,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,MAA9BA,EACAA,KAAKihB,UAALjhB,CAAgB2H,QAAhB3H,GAA2B,IAD3BA,EAEAA,KAAKioB,YAALjoB,EANE4nB,CAHJ5nB,EAYAA,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,SAAxBA,EAAmC;AAAE8nB,QAAAA,QAAAA,EAAUF;AAAZ,OAAnC5nB,CAZAA,EAaAA,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,OAAxBA,EAAiC;AAAE3C,QAAAA,KAAAA,EAAOhB;AAAT,OAAjC2D,CAbAA;AAa0C3D,KAd5C,CAeEc,IAfF,CAeO6C,IAfP,CADFmO,CA/CInO,EAkEGmO,CAAP;AAAOA,GA3WgB;AAoXzB+W,EAAAA,MAAAA,EAAQ,UAASgD,CAAT,EAASA;AACXA,IAAAA,CAAAA,IAAIA,CAAAA,CAAG7f,cAAH6f,EAAJA,EACJloB,KAAK0gB,QAAL1gB,CAAcpK,KAAdoK,GAAsB,EADlBkoB,EAEJloB,KAAKihB,UAALjhB,CAAgB2H,QAAhB3H,GAA2B,IAFvBkoB,EAGJloB,KAAKihB,UAALjhB,CAAgBsG,KAAhBtG,EAHIkoB,EAIJloB,KAAKykB,SAALzkB,EAJIkoB,EAKJloB,KAAK2lB,QAAL3lB,CAAcgG,KAAdhG,CAAoBiG,OAApBjG,GAA8B,MAL1BkoB,EAMJloB,KAAKwmB,aAALxmB,EANIkoB,EAOJloB,KAAKyjB,YAALzjB,GAAoB,IAPhBkoB,EAQJloB,KAAKujB,aAALvjB,CAAmB4Q,IAAnB5Q,CAAwB,OAAxBA,CARIkoB,EASJloB,KAAKwjB,KAALxjB,GAAKwjB,CAAQ,CATT0E;AASS,GA9XU;AAsYzB5hB,EAAAA,KAAAA,EAAO,UAAS4hB,CAAT,EAASA;AACdloB,SAAKklB,MAALllB,CAAYkoB,CAAZloB,GACAA,KAAK0gB,QAAL1gB,CAAcqnB,KAAdrnB,EADAA;AACcqnB,GAxYS;AAkZzBlC,EAAAA,YAAAA,EAAc,UAAS+C,CAAT,EAASA;AAYjBA,IAAAA,CAAAA,CAAGC,aAAHD,IAXMloB,KAYJklB,MAZIllB,CAYGkoB,CAZHloB,CAWNkoB;AACSA,GA/ZU;AAmazBpD,EAAAA,cAAAA,EAAgB,UAAShV,CAAT,EAASA;AACvB,QAAIsY,CAAAA,GAAUtY,CAAAA,CAASvB,IAAvB;;AACA,QAAK6Z,CAAAA,CAAQN,QAARM,CAAiB5vB,MAAtB,EAAA;AACA,UAAIoL,CAAAA,GAASwkB,CAAAA,CAAQN,QAARM,CAAiB,CAAjBA,CAAb;AACApoB,WAAKihB,UAALjhB,CAAgB2H,QAAhB3H,GAA2B4D,CAA3B5D,EACAA,KAAK0gB,QAAL1gB,CAAcpK,KAAdoK,GAAsB4D,CAAAA,CAAO0b,UAD7Btf,EAEAA,KAAKykB,SAALzkB,EAFAA;AAEKykB;AAAAA,GAzakB;AA4azBM,EAAAA,gBAAAA,EAAkB,YAAA;AAGhB,QAAI/kB,KAAKogB,IAALpgB,CAAUqgB,OAAVrgB,KAAsB,CAA1B,EAA6B;AAC3B,UAAIonB,CAAAA,GAASpnB,KAAKogB,IAALpgB,CAAUqoB,SAAVroB,GAAsBsoB,IAAtBtoB,EAAb;;AACAA,WAAKuoB,YAALvoB,CAAkB;AAAEigB,QAAAA,SAAAA,EAAWmH,CAAAA,CAAOoB,GAApB;AAAyBtI,QAAAA,QAAAA,EAAUkH,CAAAA,CAAOqB;AAA1C,OAAlBzoB;AAA4DyoB,KAF9D,MAIEzoB,KAAKuoB,YAALvoB,CAAkB,IAAlBA;AAAkB,GAnbG;AAubzBglB,EAAAA,SAAAA,EAAW,YAAA;AAEJhlB,SAAK0gB,QAAL1gB,CAAcpK,KAAdoK,IAAuBA,KAAK0gB,QAAL1gB,KAAkBsF,QAAAA,CAASuhB,aAAlD7mB,IAAiEA,KAAKolB,SAALplB,CAAe0lB,SAAf1lB,CAAyBmG,GAAzBnG,CAA6B,mCAA7BA,CAAjEA;AAA8F,GAzb5E;AA4bzBilB,EAAAA,WAAAA,EAAa,YAAA;AACXjlB,SAAKolB,SAALplB,CAAe0lB,SAAf1lB,CAAyBshB,MAAzBthB,CAAgC,mCAAhCA;AAAgC,GA7bT;AAqczB0H,EAAAA,KAAAA,EAAO,UAAS8f,CAAT,EAASA;AAEd,WADAxnB,KAAK8mB,QAAL9mB,CAAcwnB,CAAdxnB,EAA2BqR,IAA3BrR,CAAgCA,KAAK8kB,cAArC9kB,GACOA,IAAP;AAAOA,GAvcgB;AA0czBioB,EAAAA,YAAAA,EAAc,YAAA;AAEZjoB,SAAK0oB,cAAL1oB,CADmB,qFACnBA;AADmB,GA3cI;AA+czB+nB,EAAAA,gBAAAA,EAAkB,YAAA;AAEhB/nB,SAAK0oB,cAAL1oB,CADmB,8FACnBA;AADmB,GAhdI;AAodzB0oB,EAAAA,cAAAA,EAAgB,UAASxhB,CAAT,EAASA;AACvBlH,SAAKihB,UAALjhB,CAAgB4I,MAAhB5I,CAAuB,EAAvBA,GACAA,KAAKihB,UAALjhB,CAAgB2H,QAAhB3H,GAA2B,IAD3BA,EAEAA,KAAKihB,UAALjhB,CAAgBsG,KAAhBtG,EAFAA,EAGAA,KAAKihB,UAALjhB,CAAgB4J,WAAhB5J,CAA4BkH,CAA5BlH,CAHAA;AAG4BkH,GAxdL;AAqezByhB,EAAAA,mBAAAA,EAAqB,YAAA;AACnB,QAAI3oB,KAAKqH,OAALrH,CAAa2iB,WAAjB,EAA8B,OAAO3iB,KAAKqH,OAALrH,CAAa2iB,WAApB;;AAC9B,QAAI3iB,KAAKqH,OAALrH,CAAa6c,QAAjB,EAA0B;AACxB,UAAI+L,CAAAA,GAAgB5oB,KAAKqH,OAALrH,CAAa6c,QAAb7c,CAAsB/D,KAAtB+D,CAA4B,GAA5BA,EAAiC,CAAjCA,CAApB;AAAA,UACI6c,CAAAA,GAAWgM,EAAAA,CAAOhM,QAAPgM,CAAgBD,CAAhBC,CADf;AAAA,UAEIC,CAAAA,GAAiBC,EAAAA,CAAapG,WAAboG,CAAyBlM,CAAzBkM,CAFrB;AAGA,UAAID,CAAJ,EAAqB,OAAOA,CAAP;AAEvB;;AAAA,WAAO,QAAP;AAAO,GA7egB;AAqfzBE,EAAAA,QAAAA,EAAU,UAASxB,CAAT,EAASA;AAMjB,WAJAxnB,KAAK0gB,QAAL1gB,CAAcpK,KAAdoK,GAAsBwnB,CAAtBxnB,EACAA,KAAKihB,UAALjhB,CAAgB2H,QAAhB3H,GAA2B,IAD3BA,EAEAA,KAAKihB,UAALjhB,CAAgBsG,KAAhBtG,EAFAA,EAGAA,KAAKykB,SAALzkB,EAHAA,EAIOA,IAAP;AAAOA,GA3fgB;AAmgBzBuoB,EAAAA,YAAAA,EAAc,UAAS7L,CAAT,EAASA;AAErB,WADA1c,KAAKqH,OAALrH,CAAa0c,SAAb1c,GAAyB0c,CAAzB1c,EACOA,IAAP;AAAOA,GArgBgB;AA4gBzBipB,EAAAA,YAAAA,EAAc,YAAA;AACZ,WAAOjpB,KAAKqH,OAALrH,CAAa0c,SAApB;AAAoBA,GA7gBG;AAqhBzBsJ,EAAAA,iBAAAA,EAAmB,UAASvR,CAAT,EAASA;AAI1B,WAHIA,CAAAA,IAAoB,cAAA,OAAA,CAApBA,KACFzU,KAAKihB,UAALjhB,CAAgBkI,MAAhBlI,GAAyByU,CADvBA,GAGGzU,IAAP;AAAOA,GAzhBgB;AAiiBzBkpB,EAAAA,iBAAAA,EAAmB,YAAA;AACjB,WAAOlpB,KAAKihB,UAALjhB,CAAgBkI,MAAvB;AAAuBA,GAliBA;AA4iBzBkc,EAAAA,WAAAA,EAAa,UAASvH,CAAT,EAASA;AACpB,QAAIsM,CAAAA,GAAgB7K,SAAAA,CAAUzB,QAAVyB,IAAsBA,SAAAA,CAAU8K,YAAhC9K,IAAgDA,SAAAA,CAAU+K,eAA9E;AAEA,WADArpB,KAAKqH,OAALrH,CAAa6c,QAAb7c,GAAwB6c,CAAAA,IAAY7c,KAAKqH,OAALrH,CAAa6c,QAAzBA,IAAqCsM,CAA7DnpB,EACOA,IAAP;AAAOA,GA/iBgB;AAsjBzBspB,EAAAA,WAAAA,EAAa,YAAA;AACX,WAAOtpB,KAAKqH,OAALrH,CAAa6c,QAApB;AAAoBA,GAvjBG;AA8jBzBwD,EAAAA,OAAAA,EAAS,YAAA;AACP,WAAOrgB,KAAKqH,OAALrH,CAAamgB,IAApB;AAAoBA,GA/jBG;AAukBzBoJ,EAAAA,OAAAA,EAAS,UAASpJ,CAAT,EAASA;AAEhB,WADAngB,KAAKqH,OAALrH,CAAamgB,IAAbngB,GAAoBmgB,CAApBngB,EACOA,IAAP;AAAOA,GAzkBgB;AAglBzBwpB,EAAAA,QAAAA,EAAU,YAAA;AACR,WAAOxpB,KAAKqH,OAALrH,CAAa0jB,KAApB;AAAoBA,GAjlBG;AAwlBzB+F,EAAAA,QAAAA,EAAU,UAAS/F,CAAT,EAASA;AAEjB,WADA1jB,KAAKqH,OAALrH,CAAa0jB,KAAb1jB,GAAqB0jB,CAArB1jB,EACOA,IAAP;AAAOA,GA1lBgB;AAimBzB0pB,EAAAA,cAAAA,EAAgB,YAAA;AACd,WAAO1pB,KAAKqH,OAALrH,CAAa2iB,WAApB;AAAoBA,GAlmBG;AA0mBzB4C,EAAAA,cAAAA,EAAgB,UAAS5C,CAAT,EAASA;AAGvB,WAFA3iB,KAAK2iB,WAAL3iB,GAAmB,CAAA,IAA8BA,KAAK2oB,mBAAL3oB,EAAjDA,EACAA,KAAK0gB,QAAL1gB,CAAc2iB,WAAd3iB,GAA4BA,KAAK2iB,WADjC3iB,EAEOA,IAAP;AAAOA,GA7mBgB;AAonBzB2pB,EAAAA,OAAAA,EAAS,YAAA;AACP,WAAO3pB,KAAKqH,OAALrH,CAAaiN,IAApB;AAAoBA,GArnBG;AA6nBzB2c,EAAAA,OAAAA,EAAS,UAAS3c,CAAT,EAASA;AAEhB,WADAjN,KAAKqH,OAALrH,CAAaiN,IAAbjN,GAAoBiN,CAApBjN,EACOA,IAAP;AAAOA,GA/nBgB;AAsoBzB6pB,EAAAA,YAAAA,EAAc,YAAA;AACZ,WAAO7pB,KAAKqH,OAALrH,CAAayc,SAApB;AAAoBA,GAvoBG;AA+oBzBqN,EAAAA,YAAAA,EAAc,UAASrN,CAAT,EAASA;AAErB,WADAzc,KAAKqH,OAALrH,CAAayc,SAAbzc,GAAyByc,CAAzBzc,EACOA,IAAP;AAAOA,GAjpBgB;AAwpBzB+pB,EAAAA,QAAAA,EAAU,YAAA;AACR,WAAO/pB,KAAKqH,OAALrH,CAAa2c,KAApB;AAAoBA,GAzpBG;AAiqBzBqN,EAAAA,QAAAA,EAAU,UAASrN,CAAT,EAASA;AAEjB,WADA3c,KAAKqH,OAALrH,CAAa2c,KAAb3c,GAAqB2c,CAArB3c,EACOA,IAAP;AAAOA,GAnqBgB;AA0qBzBiqB,EAAAA,YAAAA,EAAc,YAAA;AACZ,WAAOjqB,KAAKqH,OAALrH,CAAauH,SAApB;AAAoBA,GA3qBG;AAmrBzB2iB,EAAAA,YAAAA,EAAc,UAAS3iB,CAAT,EAASA;AAGrB,WAFAvH,KAAKqH,OAALrH,CAAauH,SAAbvH,GAAyBuH,CAAzBvH,EACIA,KAAKihB,UAALjhB,KAAkBA,KAAKihB,UAALjhB,CAAgBuH,SAAhBvH,GAA4BuH,CAA9CvH,CADJA,EAEOA,IAAP;AAAOA,GAtrBgB;AA6rBzBmqB,EAAAA,QAAAA,EAAU,YAAA;AACR,WAAOnqB,KAAKqH,OAALrH,CAAawH,KAApB;AAAoBA,GA9rBG;AAssBzB4iB,EAAAA,QAAAA,EAAU,UAAS5iB,CAAT,EAASA;AAGjB,WAFAxH,KAAKqH,OAALrH,CAAawH,KAAbxH,GAAqBwH,CAArBxH,EACIA,KAAKihB,UAALjhB,KAAiBA,KAAKihB,UAALjhB,CAAgBqH,OAAhBrH,CAAwBwH,KAAxBxH,GAAgCwH,CAAjDxH,CADJA,EAEOA,IAAP;AAAOA,GAzsBgB;AAgtBzBqqB,EAAAA,SAAAA,EAAW,YAAA;AACT,WAAOrqB,KAAKqH,OAALrH,CAAasD,MAApB;AAAoBA,GAjtBG;AAytBzBgnB,EAAAA,SAAAA,EAAW,UAAShnB,CAAT,EAASA;AAElB,WADAtD,KAAKqH,OAALrH,CAAasD,MAAbtD,GAAsBsD,CAAtBtD,EACOA,IAAP;AAAOA,GA3tBgB;AAouBzBkmB,EAAAA,aAAAA,EAAe,UAASve,CAAT,EAASA;AAEtB3H,SAAKwmB,aAALxmB;;AACA,QAGIwqB,CAAAA,GAAgBljB,CAAAA,CAAO,EAAPA,EAHO;AACzBijB,MAAAA,KAAAA,EAAO;AADkB,KAGPjjB,EAAiCtH,KAAKqH,OAALrH,CAAa4jB,MAA9Ctc,CAHpB;AAQA,WAJAtH,KAAKimB,SAALjmB,GAAiB,IAAIA,KAAKmmB,SAALnmB,CAAeyqB,MAAnB,CAA0BD,CAA1B,CAAjBxqB,EACAA,KAAKimB,SAALjmB,CACG0qB,SADH1qB,CACa2H,CAAAA,CAASyf,MADtBpnB,EAEG2qB,KAFH3qB,CAESA,KAAKogB,IAFdpgB,CADAA,EAIOA,IAAP;AAAOA,GA/uBgB;AAsvBzBwmB,EAAAA,aAAAA,EAAe,YAAA;AACTxmB,SAAKimB,SAALjmB,KACFA,KAAKimB,SAALjmB,CAAeshB,MAAfthB,IACAA,KAAKimB,SAALjmB,GAAiB,IAFfA;AAEe,GAzvBI;AAywBzBiW,EAAAA,EAAAA,EAAI,UAAShf,CAAT,EAAewd,CAAf,EAAeA;AAEjB,WADAzU,KAAKujB,aAALvjB,CAAmBiW,EAAnBjW,CAAsB/I,CAAtB+I,EAA4ByU,CAA5BzU,GACOA,IAAP;AAAOA,GA3wBgB;AAoxBzBmW,EAAAA,GAAAA,EAAK,UAASlf,CAAT,EAAewd,CAAf,EAAeA;AAGlB,WAFAzU,KAAKujB,aAALvjB,CAAmB+V,cAAnB/V,CAAkC/I,CAAlC+I,EAAwCyU,CAAxCzU,GACAA,KAAKwkB,YAALxkB,CAAkBshB,MAAlBthB,EADAA,EAEOA,IAAP;AAAOA;AAvxBgB,CAA3BsjB;AA2xBA,IAAA,EAAA,GAAiBA,EAAjB;;AC71Be,SAASsH,EAAT,CAAyBC,CAAzB,EAAmCC,CAAnC,EAAmCA;AAChD,MAAA,EAAMD,CAAAA,YAAoBC,CAA1B,CAAA,EACE,MAAM,IAAIxvB,SAAJ,CAAc,mCAAd,CAAN;ACFJ;;AAAA,SAASyvB,EAAT,CAA2BxuB,CAA3B,EAAmCgE,CAAnC,EAAmCA;AACjC,OAAK,IAAI3E,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI2E,CAAAA,CAAM/H,MAA1B,EAAkCoD,CAAAA,EAAlC,EAAuC;AACrC,QAAIovB,CAAAA,GAAazqB,CAAAA,CAAM3E,CAAN2E,CAAjB;AACAyqB,IAAAA,CAAAA,CAAW5H,UAAX4H,GAAwBA,CAAAA,CAAW5H,UAAX4H,IAAW5H,CAAc,CAAjD4H,EACAA,CAAAA,CAAWC,YAAXD,GAAWC,CAAe,CAD1BD,EAEI,WAAWA,CAAX,KAAuBA,CAAAA,CAAWE,QAAXF,GAAWE,CAAW,CAA7C,CAFJF,EAGAv1B,MAAAA,CAAOC,cAAPD,CAAsB8G,CAAtB9G,EAA8Bu1B,CAAAA,CAAWnuB,GAAzCpH,EAA8Cu1B,CAA9Cv1B,CAHAu1B;AAG8CA;AAIlD;;AAAA,SAAwBG,EAAxB,CAAqCL,CAArC,EAAkDM,CAAlD,EAA8DC,CAA9D,EAA8DA;AAG5D,SAFID,CAAAA,IAAYL,EAAAA,CAAkBD,CAAAA,CAAY7vB,SAA9B8vB,EAAyCK,CAAzCL,CAAZK,EACAC,CAAAA,IAAaN,EAAAA,CAAkBD,CAAlBC,EAA+BM,CAA/BN,CADbK,EAEGN,CAAP;ACbF;;AAAA,SAASQ,EAAT,CAAkBnX,CAAlB,EAAkBA;AAA4T,SAAA,CAA1OmX,EAAAA,GAArD,cAAA,OAAXx1B,MAAW,IAAyC,YAAA,OAApBA,MAAAA,CAAOuI,QAA5B,GAAgE,UAAkB8V,CAAlB,EAAkBA;AAAO,WAAA,OAAcA,CAAd;AAAcA,GAAvG,GAAmI,UAAkBA,CAAlB,EAAkBA;AAAO,WAAOA,CAAAA,IAAyB,cAAA,OAAXre,MAAdqe,IAAuCA,CAAAA,CAAIxR,WAAJwR,KAAoBre,MAA3Dqe,IAAqEA,CAAAA,KAAQre,MAAAA,CAAOmF,SAApFkZ,GAAgG,QAAhGA,GAAgG,OAAkBA,CAAzH;AAAyHA,GAAU,EAAgBA,CAAhB,CAAA;AAE/T;;AAAA,SAASoX,EAAT,CAAiBpX,CAAjB,EAAiBA;AAW9B,SAAA,CATEoX,EAAAA,GADoB,cAAA,OAAXz1B,MAAW,IAA4C,aAA9Bw1B,EAAAA,CAASx1B,MAAAA,CAAOuI,QAAhBitB,CAAd,GACV,UAAiBnX,CAAjB,EAAiBA;AACzB,WAAOmX,EAAAA,CAASnX,CAATmX,CAAP;AAAgBnX,GAFE,GAKV,UAAiBA,CAAjB,EAAiBA;AACzB,WAAOA,CAAAA,IAAyB,cAAA,OAAXre,MAAdqe,IAAuCA,CAAAA,CAAIxR,WAAJwR,KAAoBre,MAA3Dqe,IAAqEA,CAAAA,KAAQre,MAAAA,CAAOmF,SAApFkZ,GAAgG,QAAhGA,GAA2GmX,EAAAA,CAASnX,CAATmX,CAAlH;AAA2HnX,GAI/H,EAAeA,CAAf,CAAA;ACba;;AAAA,SAASqX,EAAT,CAAgChjB,CAAhC,EAAgCA;AAC7C,MAAA,KAAa,CAAb,KAAIA,CAAJ,EACE,MAAM,IAAIijB,cAAJ,CAAmB,2DAAnB,CAAN;AAGF,SAAOjjB,CAAP;ACLa;;AAAA,SAASkjB,EAAT,CAAyBC,CAAzB,EAAyBA;AAItC,SAAA,CAHAD,EAAAA,GAAkBj2B,MAAAA,CAAOm2B,cAAPn2B,GAAwBA,MAAAA,CAAO2jB,cAA/B3jB,GAAgD,UAAyBk2B,CAAzB,EAAyBA;AACzF,WAAOA,CAAAA,CAAEpX,SAAFoX,IAAel2B,MAAAA,CAAO2jB,cAAP3jB,CAAsBk2B,CAAtBl2B,CAAtB;AAA4Ck2B,GAE9C,EAAuBA,CAAvB,CAAA;ACJa;;AAAA,SAASE,EAAT,CAAyBF,CAAzB,EAA4Bj1B,CAA5B,EAA4BA;AAMzC,SAAA,CALAm1B,EAAAA,GAAkBp2B,MAAAA,CAAOm2B,cAAPn2B,IAAyB,UAAyBk2B,CAAzB,EAA4Bj1B,CAA5B,EAA4BA;AAErE,WADAi1B,CAAAA,CAAEpX,SAAFoX,GAAcj1B,CAAdi1B,EACOA,CAAP;AAAOA,GAGT,EAAuBA,CAAvB,EAA0Bj1B,CAA1B,CAAA;ACHa;;AAAA,SAASo1B,EAAT,CAAwBpnB,CAAxB,EAA6B9I,CAA7B,EAA6BA;AAC1C,SCJa,UAAyB8I,CAAzB,EAAyBA;AACtC,QAAIhM,KAAAA,CAAMwI,OAANxI,CAAcgM,CAAdhM,CAAJ,EAAwB,OAAOgM,CAAP;ADGjBqnB,GCJM,CDISrnB,CCJT,KCAA,UAA+BA,CAA/B,EAAoC9I,CAApC,EAAoCA;AACjD,QAAIswB,CAAAA,GAAO,EAAX;AAAA,QACIC,CAAAA,GAAAA,CAAK,CADT;AAAA,QAEIC,CAAAA,GAAAA,CAAK,CAFT;AAAA,QAGIC,CAAAA,GAAAA,KAAKjzB,CAHT;;AAKA,QAAA;AACE,WAAK,IAAiCmzB,CAAjC,EAAID,CAAAA,GAAK5nB,CAAAA,CAAI5O,MAAAA,CAAOuI,QAAXqG,CAAAA,EAAd,EAAyBrG,EAAmB8tB,CAAAA,GAAAA,CAAMI,CAAAA,GAAKD,CAAAA,CAAGjqB,IAAHiqB,EAAXH,EAAsB7pB,IAAzCjE,MACvB6tB,CAAAA,CAAK7lB,IAAL6lB,CAAUK,CAAAA,CAAG32B,KAAbs2B,GAAat2B,CAETgG,CAFShG,IAEJs2B,CAAAA,CAAK1zB,MAAL0zB,KAAgBtwB,CAHFyC,CAAzB,EAAyE8tB,CAAAA,GAAAA,CAAK,CAA9E,CAA8E;AAK9E,KANF,CAME,OAAO9vB,CAAP,EAAOA;AACP+vB,MAAAA,CAAAA,GAAAA,CAAK,CAALA,EACAC,CAAAA,GAAKhwB,CADL+vB;AACK/vB,KARP,SAQOA;AAEL,UAAA;AACO8vB,QAAAA,CAAAA,IAAsB,QAAhBG,CAAAA,CAAW,MAAjBH,IAA4BG,CAAAA,CAAW,MAAXA,EAA5BH;AAAuC,OAD9C,SAC8C;AAE5C,YAAIC,CAAJ,EAAQ,MAAMC,CAAN;AAAMA;AAIlB;;AAAA,WAAOH,CAAP;AFnB8BF,GEJjB,CFIsCtnB,CEJtC,EFI2C9I,CEJ3C,CDAA,IDI2CA,YAAAA;AGHxD,UAAM,IAAIN,SAAJ,CAAc,sDAAd,CAAN;AHG8D2wB,GAANrwB,EAAxD;AICK;;AAAA,ICQD+wB,EDRC;AAAA,IAAIH,EAAAA,GAAU,IAAd;AAAA,IACIC,EAAAA,GAAqC,eAAA,OAAjBC,YAAiB,GAAcA,YAAd,GAA6Bh0B,KADtE;;AEDA,SAASq0B,EAAT,CAAyBC,CAAzB,EAAiCC,CAAjC,EAAiCA;AACtC,MAAIrpB,CAAAA,GD4dN,UAA8B+oB,CAA9B,EAAmC71B,CAAnC,EAAsCN,CAAtC,EAAsCA;AACpC,QAAI0C,CAAAA,GC7dgC+zB,CAAAA,CD6d1B,CC7d0BA,CD6dpC;AAAA,QACIntB,CAAAA,GC9dgCmtB,CAAAA,CD8d1B,CC9d0BA,CD6dpC;AAAA,QAEIJ,CAAAA,GC/dgCI,CAAAA,CD+d1B,CC/d0BA,CD6dpC;AAAA,QAGIH,CAAAA,GChegCG,CAAAA,CDge1B,CChe0BA,CD6dpC;AAQA,WAJAN,CAAAA,CAAI,CAAJA,CAAAA,GAASn2B,CAAAA,CAAE,CAAFA,CAAAA,GAAO0C,CAAP1C,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOsJ,CAAlBtJ,GAAsBA,CAAAA,CAAE,CAAFA,CAAAA,GAAOq2B,CAA7Br2B,GAAiCA,CAAAA,CAAE,EAAFA,CAAAA,GAAQs2B,CAAlDH,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAASn2B,CAAAA,CAAE,CAAFA,CAAAA,GAAO0C,CAAP1C,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOsJ,CAAlBtJ,GAAsBA,CAAAA,CAAE,CAAFA,CAAAA,GAAOq2B,CAA7Br2B,GAAiCA,CAAAA,CAAE,EAAFA,CAAAA,GAAQs2B,CADlDH,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAASn2B,CAAAA,CAAE,CAAFA,CAAAA,GAAO0C,CAAP1C,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOsJ,CAAlBtJ,GAAsBA,CAAAA,CAAE,EAAFA,CAAAA,GAAQq2B,CAA9Br2B,GAAkCA,CAAAA,CAAE,EAAFA,CAAAA,GAAQs2B,CAFnDH,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAASn2B,CAAAA,CAAE,CAAFA,CAAAA,GAAO0C,CAAP1C,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOsJ,CAAlBtJ,GAAsBA,CAAAA,CAAE,EAAFA,CAAAA,GAAQq2B,CAA9Br2B,GAAkCA,CAAAA,CAAE,EAAFA,CAAAA,GAAQs2B,CAHnDH,EAIOA,CAAP;ACreaO,GD4df,CC5dkC,ED4dlC,EC5dsCD,CD4dtC,EC5d8CD,CD4d9C,CC5dE;;AAEA,SDyOF,UAAsBL,CAAtB,EAA2B71B,CAA3B,EAA8BjB,CAA9B,EAA8BA;AAC5B82B,IAAAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOjB,CAAhB82B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOjB,CADhB82B,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOjB,CAFhB82B,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOjB,CAHhB82B;AC3OAQ,GD0OF,CC1OavpB,CD0Ob,EC1OqBA,CD0OrB,EC1O6B,IAAIA,CAAAA,CAAO,CAAPA,CD0OjC,GCzOSA,CAAP;AC6YF;;AAAA,SAAgBqrB,EAAhB,CAAyBtC,CAAzB,EAA8B71B,CAA9B,EAAiCjB,CAAjC,EAAiCA;AAC/B,MAAIu3B,CAAAA,GAAMt2B,CAAAA,CAAE,CAAFA,CAAV;AAAA,MACIu2B,CAAAA,GAAMv2B,CAAAA,CAAE,CAAFA,CADV;AAAA,MAEIw2B,CAAAA,GAAMx2B,CAAAA,CAAE,CAAFA,CAFV;AAAA,MAGIy2B,CAAAA,GAAMz2B,CAAAA,CAAE,CAAFA,CAHV;AAAA,MAII02B,CAAAA,GAAM12B,CAAAA,CAAE,CAAFA,CAJV;AAAA,MAKI22B,CAAAA,GAAM32B,CAAAA,CAAE,CAAFA,CALV;AAAA,MAMI42B,CAAAA,GAAM52B,CAAAA,CAAE,CAAFA,CANV;AAAA,MAOI62B,CAAAA,GAAM72B,CAAAA,CAAE,CAAFA,CAPV;AAAA,MAQI82B,CAAAA,GAAM92B,CAAAA,CAAE,CAAFA,CARV;AAAA,MASI+2B,CAAAA,GAAM/2B,CAAAA,CAAE,CAAFA,CATV;AAAA,MAUIg3B,CAAAA,GAAMh3B,CAAAA,CAAE,EAAFA,CAVV;AAAA,MAWIi3B,CAAAA,GAAMj3B,CAAAA,CAAE,EAAFA,CAXV;AAAA,MAYIk3B,CAAAA,GAAMl3B,CAAAA,CAAE,EAAFA,CAZV;AAAA,MAaIm3B,CAAAA,GAAMn3B,CAAAA,CAAE,EAAFA,CAbV;AAAA,MAcIo3B,CAAAA,GAAMp3B,CAAAA,CAAE,EAAFA,CAdV;AAAA,MAeIq3B,CAAAA,GAAMr3B,CAAAA,CAAE,EAAFA,CAfV;AAAA,MAiBIo4B,CAAAA,GAAKr5B,CAAAA,CAAE,CAAFA,CAjBT;AAAA,MAkBIs5B,CAAAA,GAAKt5B,CAAAA,CAAE,CAAFA,CAlBT;AAAA,MAmBIu5B,CAAAA,GAAKv5B,CAAAA,CAAE,CAAFA,CAnBT;AAAA,MAoBIw5B,CAAAA,GAAKx5B,CAAAA,CAAE,CAAFA,CApBT;AAiDA,SA5BA82B,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK9B,CAAL8B,GAAWC,CAAAA,GAAK3B,CAAhB0B,GAAsBE,CAAAA,GAAKxB,CAA3BsB,GAAiCG,CAAAA,GAAKrB,CAA/CrB,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK7B,CAAL6B,GAAWC,CAAAA,GAAK1B,CAAhByB,GAAsBE,CAAAA,GAAKvB,CAA3BqB,GAAiCG,CAAAA,GAAKpB,CAD/CtB,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK5B,CAAL4B,GAAWC,CAAAA,GAAKzB,CAAhBwB,GAAsBE,CAAAA,GAAKtB,CAA3BoB,GAAiCG,CAAAA,GAAKnB,CAF/CvB,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK3B,CAAL2B,GAAWC,CAAAA,GAAKxB,CAAhBuB,GAAsBE,CAAAA,GAAKrB,CAA3BmB,GAAiCG,CAAAA,GAAKlB,CAH/CxB,EAQAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAJJuC,CAAAA,GAAKr5B,CAAAA,CAAE,CAAFA,CAID,IAAUu3B,CAAV,GAAUA,CAHd+B,CAAAA,GAAKt5B,CAAAA,CAAE,CAAFA,CAGSu3B,IAAWI,CAArB,GAAqBA,CAFzB4B,CAAAA,GAAKv5B,CAAAA,CAAE,CAAFA,CAEoB23B,IAAWI,CAAhC,GAAgCA,CADpCyB,CAAAA,GAAKx5B,CAAAA,CAAE,CAAFA,CAC+B+3B,IAAWI,CAR/CrB,EASAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK7B,CAAL6B,GAAWC,CAAAA,GAAK1B,CAAhByB,GAAsBE,CAAAA,GAAKvB,CAA3BqB,GAAiCG,CAAAA,GAAKpB,CAT/CtB,EAUAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK5B,CAAL4B,GAAWC,CAAAA,GAAKzB,CAAhBwB,GAAsBE,CAAAA,GAAKtB,CAA3BoB,GAAiCG,CAAAA,GAAKnB,CAV/CvB,EAWAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK3B,CAAL2B,GAAWC,CAAAA,GAAKxB,CAAhBuB,GAAsBE,CAAAA,GAAKrB,CAA3BmB,GAAiCG,CAAAA,GAAKlB,CAX/CxB,EAgBAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAJJuC,CAAAA,GAAKr5B,CAAAA,CAAE,CAAFA,CAID,IAAUu3B,CAAV,GAAUA,CAHd+B,CAAAA,GAAKt5B,CAAAA,CAAE,CAAFA,CAGSu3B,IAAWI,CAArB,GAAqBA,CAFzB4B,CAAAA,GAAKv5B,CAAAA,CAAE,EAAFA,CAEoB23B,IAAWI,CAAhC,GAAgCA,CADpCyB,CAAAA,GAAKx5B,CAAAA,CAAE,EAAFA,CAC+B+3B,IAAWI,CAhB/CrB,EAiBAA,CAAAA,CAAI,CAAJA,CAAAA,GAASuC,CAAAA,GAAK7B,CAAL6B,GAAWC,CAAAA,GAAK1B,CAAhByB,GAAsBE,CAAAA,GAAKvB,CAA3BqB,GAAiCG,CAAAA,GAAKpB,CAjB/CtB,EAkBAA,CAAAA,CAAI,EAAJA,CAAAA,GAAUuC,CAAAA,GAAK5B,CAAL4B,GAAWC,CAAAA,GAAKzB,CAAhBwB,GAAsBE,CAAAA,GAAKtB,CAA3BoB,GAAiCG,CAAAA,GAAKnB,CAlBhDvB,EAmBAA,CAAAA,CAAI,EAAJA,CAAAA,GAAUuC,CAAAA,GAAK3B,CAAL2B,GAAWC,CAAAA,GAAKxB,CAAhBuB,GAAsBE,CAAAA,GAAKrB,CAA3BmB,GAAiCG,CAAAA,GAAKlB,CAnBhDxB,EAwBAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAJJuC,CAAAA,GAAKr5B,CAAAA,CAAE,EAAFA,CAID,IAAWu3B,CAAX,GAAWA,CAHf+B,CAAAA,GAAKt5B,CAAAA,CAAE,EAAFA,CAGUu3B,IAAWI,CAAtB,GAAsBA,CAF1B4B,CAAAA,GAAKv5B,CAAAA,CAAE,EAAFA,CAEqB23B,IAAWI,CAAjC,GAAiCA,CADrCyB,CAAAA,GAAKx5B,CAAAA,CAAE,EAAFA,CACgC+3B,IAAWI,CAxBhDrB,EAyBAA,CAAAA,CAAI,EAAJA,CAAAA,GAAUuC,CAAAA,GAAK7B,CAAL6B,GAAWC,CAAAA,GAAK1B,CAAhByB,GAAsBE,CAAAA,GAAKvB,CAA3BqB,GAAiCG,CAAAA,GAAKpB,CAzBhDtB,EA0BAA,CAAAA,CAAI,EAAJA,CAAAA,GAAUuC,CAAAA,GAAK5B,CAAL4B,GAAWC,CAAAA,GAAKzB,CAAhBwB,GAAsBE,CAAAA,GAAKtB,CAA3BoB,GAAiCG,CAAAA,GAAKnB,CA1BhDvB,EA2BAA,CAAAA,CAAI,EAAJA,CAAAA,GAAUuC,CAAAA,GAAK3B,CAAL2B,GAAWC,CAAAA,GAAKxB,CAAhBuB,GAAsBE,CAAAA,GAAKrB,CAA3BmB,GAAiCG,CAAAA,GAAKlB,CA3BhDxB,EA4BOA,CAAP;AAWF;;AAAA,SAAgB2C,EAAhB,CAA0B3C,CAA1B,EAA+B71B,CAA/B,EAAkCI,CAAlC,EAAkCA;AAChC,MAGIk2B,CAHJ;AAAA,MAGSC,CAHT;AAAA,MAGcC,CAHd;AAAA,MAGmBC,CAHnB;AAAA,MAIIC,CAJJ;AAAA,MAISC,CAJT;AAAA,MAIcC,CAJd;AAAA,MAImBC,CAJnB;AAAA,MAKIC,CALJ;AAAA,MAKSC,CALT;AAAA,MAKcC,CALd;AAAA,MAKmBC,CALnB;AAAA,MAAI70B,CAAAA,GAAIhC,CAAAA,CAAE,CAAFA,CAAR;AAAA,MACI4I,CAAAA,GAAI5I,CAAAA,CAAE,CAAFA,CADR;AAAA,MAEI21B,CAAAA,GAAI31B,CAAAA,CAAE,CAAFA,CAFR;AA2CA,SApCIJ,CAAAA,KAAM61B,CAAN71B,IACF61B,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAAPpC,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CAAlBhJ,GAAsBA,CAAAA,CAAE,CAAFA,CAAAA,GAAO+1B,CAA7B/1B,GAAiCA,CAAAA,CAAE,EAAFA,CAA3C61B,EACAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAAPpC,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CAAlBhJ,GAAsBA,CAAAA,CAAE,CAAFA,CAAAA,GAAO+1B,CAA7B/1B,GAAiCA,CAAAA,CAAE,EAAFA,CAD3C61B,EAEAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAAPpC,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CAAlBhJ,GAAsBA,CAAAA,CAAE,EAAFA,CAAAA,GAAQ+1B,CAA9B/1B,GAAkCA,CAAAA,CAAE,EAAFA,CAF5C61B,EAGAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAAPpC,GAAWA,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CAAlBhJ,GAAsBA,CAAAA,CAAE,EAAFA,CAAAA,GAAQ+1B,CAA9B/1B,GAAkCA,CAAAA,CAAE,EAAFA,CAJ1CA,KAOFu2B,CAAAA,GAAMv2B,CAAAA,CAAE,CAAFA,CAANu2B,EACAC,CAAAA,GAAMx2B,CAAAA,CAAE,CAAFA,CADNu2B,EAEAE,CAAAA,GAAMz2B,CAAAA,CAAE,CAAFA,CAFNu2B,EAGAG,CAAAA,GAAM12B,CAAAA,CAAE,CAAFA,CAHNu2B,EAIAI,CAAAA,GAAM32B,CAAAA,CAAE,CAAFA,CAJNu2B,EAKAK,CAAAA,GAAM52B,CAAAA,CAAE,CAAFA,CALNu2B,EAMAM,CAAAA,GAAM72B,CAAAA,CAAE,CAAFA,CANNu2B,EAOAO,CAAAA,GAAM92B,CAAAA,CAAE,CAAFA,CAPNu2B,EAQAQ,CAAAA,GAAM/2B,CAAAA,CAAE,CAAFA,CARNu2B,EASAS,CAAAA,GAAMh3B,CAAAA,CAAE,EAAFA,CATNu2B,EAUAU,CAAAA,GAAMj3B,CAAAA,CAAE,EAAFA,CAVNu2B,EAWAV,CAAAA,CAAI,CAAJA,CAAAA,GAZAS,CAAAA,GAAMt2B,CAAAA,CAAE,CAAFA,CACNu2B,EAYAV,CAAAA,CAAI,CAAJA,CAAAA,GAASU,CAZTA,EAaAV,CAAAA,CAAI,CAAJA,CAAAA,GAASW,CAbTD,EAcAV,CAAAA,CAAI,CAAJA,CAAAA,GAASY,CAdTF,EAeAV,CAAAA,CAAI,CAAJA,CAAAA,GAASa,CAfTH,EAgBAV,CAAAA,CAAI,CAAJA,CAAAA,GAASc,CAhBTJ,EAiBAV,CAAAA,CAAI,CAAJA,CAAAA,GAASe,CAjBTL,EAkBAV,CAAAA,CAAI,CAAJA,CAAAA,GAASgB,CAlBTN,EAmBAV,CAAAA,CAAI,CAAJA,CAAAA,GAASiB,CAnBTP,EAoBAV,CAAAA,CAAI,CAAJA,CAAAA,GAASkB,CApBTR,EAqBAV,CAAAA,CAAI,EAAJA,CAAAA,GAAUmB,CArBVT,EAsBAV,CAAAA,CAAI,EAAJA,CAAAA,GAAUoB,CAtBVV,EAuBAV,CAAAA,CAAI,EAAJA,CAAAA,GAAUS,CAAAA,GAAMl0B,CAANk0B,GAAUI,CAAAA,GAAM1tB,CAAhBstB,GAAoBQ,CAAAA,GAAMf,CAA1BO,GAA8Bt2B,CAAAA,CAAE,EAAFA,CAvBxCu2B,EAwBAV,CAAAA,CAAI,EAAJA,CAAAA,GAAUU,CAAAA,GAAMn0B,CAANm0B,GAAUI,CAAAA,GAAM3tB,CAAhButB,GAAoBQ,CAAAA,GAAMhB,CAA1BQ,GAA8Bv2B,CAAAA,CAAE,EAAFA,CAxBxCu2B,EAyBAV,CAAAA,CAAI,EAAJA,CAAAA,GAAUW,CAAAA,GAAMp0B,CAANo0B,GAAUI,CAAAA,GAAM5tB,CAAhBwtB,GAAoBQ,CAAAA,GAAMjB,CAA1BS,GAA8Bx2B,CAAAA,CAAE,EAAFA,CAzBxCu2B,EA0BAV,CAAAA,CAAI,EAAJA,CAAAA,GAAUY,CAAAA,GAAMr0B,CAANq0B,GAAUI,CAAAA,GAAM7tB,CAAhBytB,GAAoBQ,CAAAA,GAAMlB,CAA1BU,GAA8Bz2B,CAAAA,CAAE,EAAFA,CAjCtCA,GAoCG61B,CAAP;AAWF;;AAAA,SAAgB4C,EAAhB,CAAsB5C,CAAtB,EAA2B71B,CAA3B,EAA8BI,CAA9B,EAA8BA;AAC5B,MAAIgC,CAAAA,GAAIhC,CAAAA,CAAE,CAAFA,CAAR;AAAA,MACI4I,CAAAA,GAAI5I,CAAAA,CAAE,CAAFA,CADR;AAAA,MAEI21B,CAAAA,GAAI31B,CAAAA,CAAE,CAAFA,CAFR;AAmBA,SAhBAy1B,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAAhByzB,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CADhByzB,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAFhByzB,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOoC,CAHhByzB,EAIAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CAJhB6sB,EAKAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CALhB6sB,EAMAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CANhB6sB,EAOAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOgJ,CAPhB6sB,EAQAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAO+1B,CARhBF,EASAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAO+1B,CAThBF,EAUAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAAAA,GAAQ+1B,CAVlBF,EAWAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAAAA,GAAQ+1B,CAXlBF,EAYAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAZV61B,EAaAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAbV61B,EAcAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAdV61B,EAeAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAfV61B,EAgBOA,CAAP;AA+rCK;;AAAA,SAASsD,EAAT,CAAgBn5B,CAAhB,EAAmBjB,CAAnB,EAAmBA;AACxB,MAAIq6B,CAAAA,GAAKp5B,CAAAA,CAAE,CAAFA,CAAT;AAAA,MACI4e,CAAAA,GAAK5e,CAAAA,CAAE,CAAFA,CADT;AAAA,MAEI6e,CAAAA,GAAK7e,CAAAA,CAAE,CAAFA,CAFT;AAAA,MAGI8e,CAAAA,GAAK9e,CAAAA,CAAE,CAAFA,CAHT;AAAA,MAII+e,CAAAA,GAAK/e,CAAAA,CAAE,CAAFA,CAJT;AAAA,MAKIgf,CAAAA,GAAKhf,CAAAA,CAAE,CAAFA,CALT;AAAA,MAMIq5B,CAAAA,GAAKr5B,CAAAA,CAAE,CAAFA,CANT;AAAA,MAOIs5B,CAAAA,GAAKt5B,CAAAA,CAAE,CAAFA,CAPT;AAAA,MAQIu5B,CAAAA,GAAKv5B,CAAAA,CAAE,CAAFA,CART;AAAA,MASIw5B,CAAAA,GAAKx5B,CAAAA,CAAE,CAAFA,CATT;AAAA,MAUI02B,CAAAA,GAAM12B,CAAAA,CAAE,EAAFA,CAVV;AAAA,MAWI22B,CAAAA,GAAM32B,CAAAA,CAAE,EAAFA,CAXV;AAAA,MAYI42B,CAAAA,GAAM52B,CAAAA,CAAE,EAAFA,CAZV;AAAA,MAaI62B,CAAAA,GAAM72B,CAAAA,CAAE,EAAFA,CAbV;AAAA,MAcIy5B,CAAAA,GAAMz5B,CAAAA,CAAE,EAAFA,CAdV;AAAA,MAeI05B,CAAAA,GAAM15B,CAAAA,CAAE,EAAFA,CAfV;AAAA,MAgBIo4B,CAAAA,GAAKr5B,CAAAA,CAAE,CAAFA,CAhBT;AAAA,MAiBIs5B,CAAAA,GAAKt5B,CAAAA,CAAE,CAAFA,CAjBT;AAAA,MAkBIu5B,CAAAA,GAAKv5B,CAAAA,CAAE,CAAFA,CAlBT;AAAA,MAmBIw5B,CAAAA,GAAKx5B,CAAAA,CAAE,CAAFA,CAnBT;AAAA,MAoBI46B,CAAAA,GAAK56B,CAAAA,CAAE,CAAFA,CApBT;AAAA,MAqBI66B,CAAAA,GAAK76B,CAAAA,CAAE,CAAFA,CArBT;AAAA,MAsBI86B,CAAAA,GAAK96B,CAAAA,CAAE,CAAFA,CAtBT;AAAA,MAuBI+6B,CAAAA,GAAK/6B,CAAAA,CAAE,CAAFA,CAvBT;AAAA,MAwBIg7B,CAAAA,GAAKh7B,CAAAA,CAAE,CAAFA,CAxBT;AAAA,MAyBIi7B,CAAAA,GAAKj7B,CAAAA,CAAE,CAAFA,CAzBT;AAAA,MA0BIi5B,CAAAA,GAAMj5B,CAAAA,CAAE,EAAFA,CA1BV;AAAA,MA2BIk5B,CAAAA,GAAMl5B,CAAAA,CAAE,EAAFA,CA3BV;AAAA,MA4BIk7B,CAAAA,GAAMl7B,CAAAA,CAAE,EAAFA,CA5BV;AAAA,MA6BIm7B,CAAAA,GAAMn7B,CAAAA,CAAE,EAAFA,CA7BV;AAAA,MA8BIo7B,CAAAA,GAAMp7B,CAAAA,CAAE,EAAFA,CA9BV;AAAA,MA+BIq7B,CAAAA,GAAMr7B,CAAAA,CAAE,EAAFA,CA/BV;AAgCA,SAAOgV,IAAAA,CAAKsmB,GAALtmB,CAASqlB,CAAAA,GAAKhB,CAAdrkB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASqlB,CAATrlB,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAASqkB,CAATrkB,CAA5BA,CAAxCA,IAAqFA,IAAAA,CAAKsmB,GAALtmB,CAAS6K,CAAAA,GAAKyZ,CAAdtkB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS6K,CAAT7K,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAASskB,CAATtkB,CAA5BA,CAA7HA,IAA0KA,IAAAA,CAAKsmB,GAALtmB,CAAS8K,CAAAA,GAAKyZ,CAAdvkB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS8K,CAAT9K,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAASukB,CAATvkB,CAA5BA,CAAlNA,IAA+PA,IAAAA,CAAKsmB,GAALtmB,CAAS+K,CAAAA,GAAKyZ,CAAdxkB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS+K,CAAT/K,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAASwkB,CAATxkB,CAA5BA,CAAvSA,IAAoVA,IAAAA,CAAKsmB,GAALtmB,CAASgL,CAAAA,GAAK4a,CAAd5lB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASgL,CAAThL,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAAS4lB,CAAT5lB,CAA5BA,CAA5XA,IAAyaA,IAAAA,CAAKsmB,GAALtmB,CAASiL,CAAAA,GAAK4a,CAAd7lB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASiL,CAATjL,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAAS6lB,CAAT7lB,CAA5BA,CAAjdA,IAA8fA,IAAAA,CAAKsmB,GAALtmB,CAASslB,CAAAA,GAAKQ,CAAd9lB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASslB,CAATtlB,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAAS8lB,CAAT9lB,CAA5BA,CAAtiBA,IAAmlBA,IAAAA,CAAKsmB,GAALtmB,CAASulB,CAAAA,GAAKQ,CAAd/lB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASulB,CAATvlB,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAAS+lB,CAAT/lB,CAA5BA,CAA3nBA,IAAwqBA,IAAAA,CAAKsmB,GAALtmB,CAASwlB,CAAAA,GAAKQ,CAAdhmB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASwlB,CAATxlB,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAASgmB,CAAThmB,CAA5BA,CAAhtBA,IAA6vBA,IAAAA,CAAKsmB,GAALtmB,CAASylB,CAAAA,GAAKQ,CAAdjmB,KAAqBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAASylB,CAATzlB,CAAdA,EAA4BA,IAAAA,CAAKsmB,GAALtmB,CAASimB,CAATjmB,CAA5BA,CAAryBA,IAAk1BA,IAAAA,CAAKsmB,GAALtmB,CAAS2iB,CAAAA,GAAMsB,CAAfjkB,KAAuBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS2iB,CAAT3iB,CAAdA,EAA6BA,IAAAA,CAAKsmB,GAALtmB,CAASikB,CAATjkB,CAA7BA,CAA53BA,IAA26BA,IAAAA,CAAKsmB,GAALtmB,CAAS4iB,CAAAA,GAAMsB,CAAflkB,KAAuBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS4iB,CAAT5iB,CAAdA,EAA6BA,IAAAA,CAAKsmB,GAALtmB,CAASkkB,CAATlkB,CAA7BA,CAAr9BA,IAAogCA,IAAAA,CAAKsmB,GAALtmB,CAAS6iB,CAAAA,GAAMqD,CAAflmB,KAAuBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS6iB,CAAT7iB,CAAdA,EAA6BA,IAAAA,CAAKsmB,GAALtmB,CAASkmB,CAATlmB,CAA7BA,CAA9iCA,IAA6lCA,IAAAA,CAAKsmB,GAALtmB,CAAS8iB,CAAAA,GAAMqD,CAAfnmB,KAAuBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS8iB,CAAT9iB,CAAdA,EAA6BA,IAAAA,CAAKsmB,GAALtmB,CAASmmB,CAATnmB,CAA7BA,CAAvoCA,IAAsrCA,IAAAA,CAAKsmB,GAALtmB,CAAS0lB,CAAAA,GAAMU,CAAfpmB,KAAuBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS0lB,CAAT1lB,CAAdA,EAA6BA,IAAAA,CAAKsmB,GAALtmB,CAASomB,CAATpmB,CAA7BA,CAAhuCA,IAA+wCA,IAAAA,CAAKsmB,GAALtmB,CAAS2lB,CAAAA,GAAMU,CAAfrmB,KAAuBumB,EAAAA,GAAmBvmB,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAcA,IAAAA,CAAKsmB,GAALtmB,CAAS2lB,CAAT3lB,CAAdA,EAA6BA,IAAAA,CAAKsmB,GAALtmB,CAASqmB,CAATrmB,CAA7BA,CAAh0C;ACvqDF;;AAAA,SAAgB1E,EAAhB,CAAoBwmB,CAApB,EAAyB71B,CAAzB,EAA4BjB,CAA5B,EAA4BA;AAG1B,SAFA82B,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOjB,CAAAA,CAAE,CAAFA,CAAhB82B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAAA,GAAOjB,CAAAA,CAAE,CAAFA,CADhB82B,EAEOA,CAAP;ACxFa;;AAAA,SAASrT,EAAT,CAAgBngB,CAAhB,EAA2BN,CAA3B,EAA2BA;AACxC,MAAA,CAAKM,CAAL,EACE,MAAM,IAAIF,KAAJ,CAAUJ,CAAAA,IAAW,8CAArB,CAAN;AJWE8zB;;AAAAA,EAAAA,GAAM,IAAIC,EAAJ,CAAwB,CAAxB,CAAND,EAEAC,EAAAA,IAAuBF,YAAvBE,KACFD,EAAAA,CAAI,CAAJA,CAAAA,GAAS,CAATA,EACAA,EAAAA,CAAI,CAAJA,CAAAA,GAAS,CADTA,EAEAA,EAAAA,CAAI,CAAJA,CAAAA,GAAS,CAFTA,EAGAA,EAAAA,CAAI,CAAJA,CAAAA,GAAS,CAJPC,CAFAD,EGDN,YAAA;AACE,MAAIA,CAAAA,GAAM,IAAIC,EAAJ,CAAwB,CAAxB,CAAV;AAEIA,EAAAA,EAAAA,IAAuBF,YAAvBE,KACFD,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAATA,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAFPC;AAqlBMtY,CAxlBZ,EHCMqY,EKDN,YAAA;AACE,MAAIA,CAAAA,GAAM,IAAIC,EAAJ,CAAwB,CAAxB,CAAV;AAEIA,EAAAA,EAAAA,IAAuBF,YAAvBE,KACFD,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAATA,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CADTA,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAHPC;AAuuBMtY,CA1uBZ,ELCMqY;AMPN,IAAI4E,EAAAA,GAAK1mB,IAAAA,CAAK0mB,EAAd;AAAA,IACIC,EAAAA,GAAOD,EAAAA,GAAK,CADhB;AAAA,IAEIE,EAAAA,GAAqBF,EAAAA,GAAK,GAF9B;AAAA,IAGIG,EAAAA,GAAqB,MAAMH,EAH/B;AAAA,IAIII,EAAAA,GAAY,GAJhB;AAAA,IAKIC,EAAAA,GAAsB,MAL1B;AAAA,IAMIC,EAAAA,GAAmB,GANvB;;AAOO,SAASC,EAAT,CAAqB3R,CAArB,EAAqBA;AAC1B,SAAOtV,IAAAA,CAAKknB,GAALlnB,CAAS,CAATA,EAAYsV,CAAZtV,CAAP;AAKK;;AAAA,SAASmnB,EAAT,CAAuBC,CAAvB,EAA6B1C,CAA7B,EAA6BA;AAClC,MAAI2C,CAAAA,GAAQpG,EAAAA,CAAemG,CAAfnG,EAAqB,CAArBA,CAAZ;AAAA,MACItD,CAAAA,GAAM0J,CAAAA,CAAM,CAANA,CADV;AAAA,MAEIzJ,CAAAA,GAAMyJ,CAAAA,CAAM,CAANA,CAFV;AAWA,SAPA5Y,EAAAA,CAAO6Y,MAAAA,CAAOC,QAAPD,CAAgB3J,CAAhB2J,KAAwBA,MAAAA,CAAOC,QAAPD,CAAgB5C,CAAhB4C,CAA/B7Y,CAAAA,EACAA,EAAAA,CAAO6Y,MAAAA,CAAOC,QAAPD,CAAgB1J,CAAhB0J,KAAwB1J,CAAAA,IAAAA,CAAQ,EAAhC0J,IAAsC1J,CAAAA,IAAO,EAApDnP,EAAwD,kBAAxDA,CADAA,EAOO,CAAA,CALPiW,CAAAA,IAASoC,EAKF,KAJOnJ,CAAAA,GAAMiJ,EAANjJ,GAEa+I,EAEpB,KAF2B,IAAIA,EAE/B,CAAA,EADChC,CAAAA,IAASgC,EAAAA,GAAK1mB,IAAAA,CAAKwnB,GAALxnB,CAASA,IAAAA,CAAKklB,GAALllB,CAAS2mB,EAAAA,GAF7B/I,CAAAA,GAAMgJ,EAANhJ,GAE2C,EAAvB5d,CAATA,CAAd0kB,CAAAA,IAAwD,IAAIgC,EAA5DhC,CACD,CAAP;AAEK;;AAAA,SAAS+C,EAAT,CAAuBC,CAAvB,EAA8BhD,CAA9B,EAA8BA;AACnC,MAAIiD,CAAAA,GAAQ1G,EAAAA,CAAeyG,CAAfzG,EAAsB,CAAtBA,CAAZ;AAAA,MAKI2G,CAAAA,GAJID,CAAAA,CAAM,CAANA,CAAAA,IAGRjD,CAAAA,IAASoC,EAHDa,KAImB,IAAIjB,EAJvBiB,IAI6BjB,EALrC;AAAA,MAMImB,CAAAA,GAAO,KAAK7nB,IAAAA,CAAK8nB,IAAL9nB,CAAUA,IAAAA,CAAK8I,GAAL9I,CAAS0mB,EAAAA,GAJ3BiB,CAAAA,CAAM,CAANA,CAAAA,GAIoCjD,CAJpCiD,IAI6C,IAAIjB,EAJjDiB,CAIkB3nB,CAAVA,IAAiD2mB,EAAtD,CANX;AAOA,SAAO,CAACiB,CAAAA,GAAUf,EAAX,EAA+BgB,CAAAA,GAAOhB,EAAtC,CAAP;AA4IK;;AAAA,SAASmE,EAAT,CAAuBC,CAAvB,EAA4BC,CAA5B,EAA4BA;AACjC,MAAIC,CAAAA,GAAQlK,EAAAA,CAAegK,CAAfhK,EAAoB,CAApBA,CAAZ;AAAA,MACI5yB,CAAAA,GAAI88B,CAAAA,CAAM,CAANA,CADR;AAAA,MAEIl2B,CAAAA,GAAIk2B,CAAAA,CAAM,CAANA,CAFR;AAAA,MAGIC,CAAAA,GAASD,CAAAA,CAAM,CAANA,CAHb;AAAA,MAIInJ,CAAAA,GAAAA,KAAe,CAAfA,KAAIoJ,CAAJpJ,GAAwB,CAAxBA,GAA4BoJ,CAJhC;AAOA,SADA3c,EAAAA,CAAO6Y,MAAAA,CAAOC,QAAPD,CAAgBj5B,CAAhBi5B,KAAsBA,MAAAA,CAAOC,QAAPD,CAAgBryB,CAAhBqyB,CAAtBA,IAA4CA,MAAAA,CAAOC,QAAPD,CAAgBtF,CAAhBsF,CAAnD7Y,CAAAA,EACOyT,EAAAA,CAAgBgJ,CAAhBhJ,EAAuC,CAAC7zB,CAAD,EAAI4G,CAAJ,EAAO+sB,CAAP,EAAU,CAAV,CAAvCE,CAAP;AAEK;;AAAA,SAASmJ,EAAT,CAAuBJ,CAAvB,EAA4BK,CAA5B,EAA4BA;AACjC,MAAIC,CAAAA,GAAU79B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoE,CAAlF;AAAA,MAEI89B,CAAAA,GAAQvK,EAAAA,CAAegK,CAAfhK,EAAoB,CAApBA,CAFZ;AAAA,MAGI5yB,CAAAA,GAAIm9B,CAAAA,CAAM,CAANA,CAHR;AAAA,MAIIv2B,CAAAA,GAAIu2B,CAAAA,CAAM,CAANA,CAJR;AAAA,MAKIxJ,CAAAA,GAAIwJ,CAAAA,CAAM,CAANA,CALR;AASA,MAFA/c,EAAAA,CAAO6Y,MAAAA,CAAOC,QAAPD,CAAgBj5B,CAAhBi5B,KAAsBA,MAAAA,CAAOC,QAAPD,CAAgBryB,CAAhBqyB,CAA7B7Y,EAAiD,0BAAjDA,CAAAA,EAEI6Y,MAAAA,CAAOC,QAAPD,CAAgBtF,CAAhBsF,CAAJ,EAEE,OADYpF,EAAAA,CAAgBoJ,CAAhBpJ,EAAyC,CAAC7zB,CAAD,EAAI4G,CAAJ,EAAO+sB,CAAP,EAAU,CAAV,CAAzCE,CACZ;AAGF,MAAIuJ,CAAAA,GAASvJ,EAAAA,CAAgBoJ,CAAhBpJ,EAAyC,CAAC7zB,CAAD,EAAI4G,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAzCitB,CAAb;AAAA,MACIwJ,CAAAA,GAASxJ,EAAAA,CAAgBoJ,CAAhBpJ,EAAyC,CAAC7zB,CAAD,EAAI4G,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAzCitB,CADb;AAAA,MAEIyJ,CAAAA,GAAKF,CAAAA,CAAO,CAAPA,CAFT;AAAA,MAGIG,CAAAA,GAAKF,CAAAA,CAAO,CAAPA,CAHT;AAKA,SHwJF,UAAqB5J,CAArB,EAA0B71B,CAA1B,EAA6BjB,CAA7B,EAAgCgB,CAAhC,EAAgCA;AAC9B,QAAIw6B,CAAAA,GGzJiBiF,CAAAA,CHyJV,CGzJUA,CHyJrB;AAAA,QACIhF,CAAAA,GG1JiBgF,CAAAA,CH0JV,CG1JUA,CHyJrB;AAIA,WAFA3J,CAAAA,CAAI,CAAJA,CAAAA,GAAS0E,CAAAA,GAAKx6B,CAAAA,IAAKhB,CAAAA,CAAE,CAAFA,CAAAA,GAAOw7B,CAAZx6B,CAAd81B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS2E,CAAAA,GAAKz6B,CAAAA,IAAKhB,CAAAA,CAAE,CAAFA,CAAAA,GAAOy7B,CAAZz6B,CADd81B,EAEOA,CAAP;AG7JO+J,GHwJT,CGxJmB,EHwJnB,EGxJuBJ,CHwJvB,EGxJ+BC,CHwJ/B,EGzJUC,CAAAA,KAAOC,CAAPD,GAAY,CAAZA,GAAY,CAAA,CAAMJ,CAAAA,IAAW,CAAjB,IAAsBI,CAAtB,KAA6BC,CAAAA,GAAKD,CAAlC,CHyJtB,CGxJE;AC7MF;;AAAA,IAAIG,EAAAA,GNJK,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CMIT;AAAA,IAEIC,EAAAA,GAAW,YAAA;AACb,WAASA,CAAT,GAASA;AACP,QAAI3E,CAAAA,GAAO15B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoE,EAA/E;AAAA,QACIq8B,CAAAA,GAAQ3C,CAAAA,CAAK2C,KADjB;AAAA,QAEId,CAAAA,GAAS7B,CAAAA,CAAK6B,MAFlB;AAAA,QAGI+C,CAAAA,GAAkB5E,CAAAA,CAAK6E,UAH3B;AAAA,QAIIA,CAAAA,GAAAA,KAAiC,CAAjCA,KAAaD,CAAbC,GAA0CH,EAA1CG,GAAqDD,CAJzD;AAAA,QAKIE,CAAAA,GAAwB9E,CAAAA,CAAK+E,gBALjC;AAAA,QAMIA,CAAAA,GAAAA,KAA6C,CAA7CA,KAAmBD,CAAnBC,GAAsDL,EAAtDK,GAAiED,CANrE;AAQAnM,IAAAA,EAAAA,CAAgB5qB,IAAhB4qB,EAAsBgM,CAAtBhM,CAAAA,EAEA5qB,KAAK40B,KAAL50B,GAAa40B,CAAAA,IAAS,CAFtBhK,EAGA5qB,KAAK8zB,MAAL9zB,GAAc8zB,CAAAA,IAAU,CAHxBlJ,EAIA5qB,KAAKuvB,KAALvvB,GAAa,CAJb4qB,EAKA5qB,KAAKozB,cAALpzB,GAAsB,CALtB4qB,EAMA5qB,KAAK82B,UAAL92B,GAAkB82B,CANlBlM,EAOA5qB,KAAKg3B,gBAALh3B,GAAwBg3B,CAPxBpM;AAQA,QAAIqM,CAAAA,GNxBC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CMwBL;AACAC,IAAAA,EAAAA,CAAcD,CAAdC,EAAmBD,CAAnBC,EAAwBl3B,KAAKg3B,gBAA7BE,CAAAA,EACAA,EAAAA,CAAcD,CAAdC,EAAmBD,CAAnBC,EAAwBl3B,KAAK82B,UAA7BI,CADAA,EAEAl3B,KAAKm3B,oBAALn3B,GAA4Bi3B,CAF5BC;AAGA,QAAI1gC,CAAAA,GN5BC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CM4BL;AACA+9B,IAAAA,EAAAA,CAAW/9B,CAAX+9B,EAAc/9B,CAAd+9B,EAAiB,CAACv0B,KAAK40B,KAAL50B,GAAa,CAAd,EAAc,CAAIA,KAAK8zB,MAAT,GAAkB,CAAhC,EAAmC,CAAnC,CAAjBS,CAAAA,EACAD,EAAAA,CAAe99B,CAAf89B,EAAkB99B,CAAlB89B,EAAqB,CAAC,CAAD,EAAC,CAAI,CAAL,EAAQ,CAAR,CAArBA,CADAC,EAEA2C,EAAAA,CAAc1gC,CAAd0gC,EAAiB1gC,CAAjB0gC,EAAoBl3B,KAAKm3B,oBAAzBD,CAFA3C;;AAGA,QAAI6C,CAAAA,GLgOD,UAAgBzK,CAAhB,EAAqB71B,CAArB,EAAqBA;AAC1B,UAAIs2B,CAAAA,GKjOuC52B,CAAAA,CLiO/B,CKjO+BA,CLiO3C;AAAA,UACI62B,CAAAA,GKlOuC72B,CAAAA,CLkO/B,CKlO+BA,CLiO3C;AAAA,UAEI82B,CAAAA,GKnOuC92B,CAAAA,CLmO/B,CKnO+BA,CLiO3C;AAAA,UAGI+2B,CAAAA,GKpOuC/2B,CAAAA,CLoO/B,CKpO+BA,CLiO3C;AAAA,UAIIg3B,CAAAA,GKrOuCh3B,CAAAA,CLqO/B,CKrO+BA,CLiO3C;AAAA,UAKIi3B,CAAAA,GKtOuCj3B,CAAAA,CLsO/B,CKtO+BA,CLiO3C;AAAA,UAMIk3B,CAAAA,GKvOuCl3B,CAAAA,CLuO/B,CKvO+BA,CLiO3C;AAAA,UAOIm3B,CAAAA,GKxOuCn3B,CAAAA,CLwO/B,CKxO+BA,CLiO3C;AAAA,UAQIo3B,CAAAA,GKzOuCp3B,CAAAA,CLyO/B,CKzO+BA,CLiO3C;AAAA,UASIq3B,CAAAA,GK1OuCr3B,CAAAA,CL0O/B,CK1O+BA,CLiO3C;AAAA,UAUIs3B,CAAAA,GK3OuCt3B,CAAAA,CL2O/B,EK3O+BA,CLiO3C;AAAA,UAWIu3B,CAAAA,GK5OuCv3B,CAAAA,CL4O/B,EK5O+BA,CLiO3C;AAAA,UAYIw3B,CAAAA,GK7OuCx3B,CAAAA,CL6O/B,EK7O+BA,CLiO3C;AAAA,UAaIy3B,CAAAA,GK9OuCz3B,CAAAA,CL8O/B,EK9O+BA,CLiO3C;AAAA,UAcI03B,CAAAA,GK/OuC13B,CAAAA,CL+O/B,EK/O+BA,CLiO3C;AAAA,UAeI23B,CAAAA,GKhPuC33B,CAAAA,CLgP/B,EKhP+BA,CLiO3C;AAAA,UAgBI43B,CAAAA,GAAMhB,CAAAA,GAAMK,CAANL,GAAYC,CAAAA,GAAMG,CAhB5B;AAAA,UAiBIa,CAAAA,GAAMjB,CAAAA,GAAMM,CAANN,GAAYE,CAAAA,GAAME,CAjB5B;AAAA,UAkBIc,CAAAA,GAAMlB,CAAAA,GAAMO,CAANP,GAAYG,CAAAA,GAAMC,CAlB5B;AAAA,UAmBIe,CAAAA,GAAMlB,CAAAA,GAAMK,CAANL,GAAYC,CAAAA,GAAMG,CAnB5B;AAAA,UAoBIe,CAAAA,GAAMnB,CAAAA,GAAMM,CAANN,GAAYE,CAAAA,GAAME,CApB5B;AAAA,UAqBIgB,CAAAA,GAAMnB,CAAAA,GAAMK,CAANL,GAAYC,CAAAA,GAAMG,CArB5B;AAAA,UAsBIgB,CAAAA,GAAMd,CAAAA,GAAMK,CAANL,GAAYC,CAAAA,GAAMG,CAtB5B;AAAA,UAuBIW,CAAAA,GAAMf,CAAAA,GAAMM,CAANN,GAAYE,CAAAA,GAAME,CAvB5B;AAAA,UAwBIY,CAAAA,GAAMhB,CAAAA,GAAMO,CAANP,GAAYG,CAAAA,GAAMC,CAxB5B;AAAA,UAyBIa,CAAAA,GAAMhB,CAAAA,GAAMK,CAANL,GAAYC,CAAAA,GAAMG,CAzB5B;AAAA,UA0BIa,CAAAA,GAAMjB,CAAAA,GAAMM,CAANN,GAAYE,CAAAA,GAAME,CA1B5B;AAAA,UA2BIc,CAAAA,GAAMjB,CAAAA,GAAMK,CAANL,GAAYC,CAAAA,GAAMG,CA3B5B;AAAA,UA6BIc,CAAAA,GAAMZ,CAAAA,GAAMW,CAANX,GAAYC,CAAAA,GAAMS,CAAlBV,GAAwBE,CAAAA,GAAMO,CAA9BT,GAAoCG,CAAAA,GAAMK,CAA1CR,GAAgDI,CAAAA,GAAMG,CAAtDP,GAA4DK,CAAAA,GAAMC,CA7B5E;;AA+BA,aAAKM,CAAAA,IAKLrC,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMc,CAAAA,GAAMsB,CAANtB,GAAYC,CAAAA,GAAMoB,CAAlBrB,GAAwBE,CAAAA,GAAMkB,CAApC,KADJG,CAAAA,GAAM,IAAMA,CACR,CAAJrC,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMW,CAAAA,GAAMwB,CAANxB,GAAYD,CAAAA,GAAM0B,CAAlBzB,GAAwBC,CAAAA,GAAMsB,CAApC,IAA2CG,CAD/CrC,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMsB,CAAAA,GAAMQ,CAANR,GAAYC,CAAAA,GAAMM,CAAlBP,GAAwBE,CAAAA,GAAMI,CAApC,IAA2CS,CAF/CrC,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMmB,CAAAA,GAAMU,CAANV,GAAYD,CAAAA,GAAMY,CAAlBX,GAAwBC,CAAAA,GAAMQ,CAApC,IAA2CS,CAH/CrC,EAIAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMe,CAAAA,GAAMkB,CAANlB,GAAYF,CAAAA,GAAMuB,CAAlBrB,GAAwBC,CAAAA,GAAMgB,CAApC,IAA2CK,CAJ/CrC,EAKAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMS,CAAAA,GAAM2B,CAAN3B,GAAYE,CAAAA,GAAMsB,CAAlBxB,GAAwBG,CAAAA,GAAMoB,CAApC,IAA2CK,CAL/CrC,EAMAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMuB,CAAAA,GAAMI,CAANJ,GAAYF,CAAAA,GAAMS,CAAlBP,GAAwBC,CAAAA,GAAME,CAApC,IAA2CW,CAN/CrC,EAOAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMiB,CAAAA,GAAMa,CAANb,GAAYE,CAAAA,GAAMQ,CAAlBV,GAAwBG,CAAAA,GAAMM,CAApC,IAA2CW,CAP/CrC,EAQAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMa,CAAAA,GAAMsB,CAANtB,GAAYC,CAAAA,GAAMmB,CAAlBpB,GAAwBG,CAAAA,GAAMe,CAApC,IAA2CM,CAR/CrC,EASAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAMU,CAAAA,GAAMuB,CAANvB,GAAYD,CAAAA,GAAM0B,CAAlBzB,GAAwBE,CAAAA,GAAMmB,CAApC,IAA2CM,CAT/CrC,EAUAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOqB,CAAAA,GAAMQ,CAANR,GAAYC,CAAAA,GAAMK,CAAlBN,GAAwBG,CAAAA,GAAMC,CAArC,IAA4CY,CAVhDrC,EAWAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOkB,CAAAA,GAAMS,CAANT,GAAYD,CAAAA,GAAMY,CAAlBX,GAAwBE,CAAAA,GAAMK,CAArC,IAA4CY,CAXhDrC,EAYAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOc,CAAAA,GAAMkB,CAANlB,GAAYD,CAAAA,GAAMqB,CAAlBpB,GAAwBC,CAAAA,GAAMgB,CAArC,IAA4CM,CAZhDrC,EAaAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOS,CAAAA,GAAMyB,CAANzB,GAAYC,CAAAA,GAAMsB,CAAlBvB,GAAwBE,CAAAA,GAAMoB,CAArC,IAA4CM,CAbhDrC,EAcAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOsB,CAAAA,GAAMI,CAANJ,GAAYD,CAAAA,GAAMO,CAAlBN,GAAwBC,CAAAA,GAAME,CAArC,IAA4CY,CAdhDrC,EAeAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOiB,CAAAA,GAAMW,CAANX,GAAYC,CAAAA,GAAMQ,CAAlBT,GAAwBE,CAAAA,GAAMM,CAArC,IAA4CY,CAfhDrC,EAgBOA,CArBFqC,IACI,IADT;AKhQiBqI,KLgOZ,CDhQE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CCgQF,CKhOH;;AAEA,QAAA,CAAKD,CAAL,EACE,MAAM,IAAIn+B,KAAJ,CAAU,qCAAV,CAAN;AAGF+G,SAAK+1B,qBAAL/1B,GAA6BxJ,CAA7BwJ,EACAA,KAAKm2B,uBAALn2B,GAA+Bo3B,CAD/Bp3B,EAEAA,KAAKiwB,MAALjwB,GAAcA,KAAKiwB,MAALjwB,CAAY7C,IAAZ6C,CAAiBA,IAAjBA,CAFdA,EAGAA,KAAKs3B,OAALt3B,GAAeA,KAAKs3B,OAALt3B,CAAa7C,IAAb6C,CAAkBA,IAAlBA,CAHfA,EAIAA,KAAKu3B,SAALv3B,GAAiBA,KAAKu3B,SAALv3B,CAAe7C,IAAf6C,CAAoBA,IAApBA,CAJjBA,EAKAA,KAAKw3B,eAALx3B,GAAuBA,KAAKw3B,eAALx3B,CAAqB7C,IAArB6C,CAA0BA,IAA1BA,CALvBA,EAMAA,KAAKy3B,iBAALz3B,GAAyBA,KAAKy3B,iBAALz3B,CAAuB7C,IAAvB6C,CAA4BA,IAA5BA,CANzBA,EAOAA,KAAK03B,WAAL13B,GAAmBA,KAAK03B,WAAL13B,CAAiB7C,IAAjB6C,CAAsBA,IAAtBA,CAPnBA,EAQAA,KAAK23B,aAAL33B,GAAqBA,KAAK23B,aAAL33B,CAAmB7C,IAAnB6C,CAAwBA,IAAxBA,CARrBA;AAsGF;;AAAA,SA3FAmrB,EAAAA,CAAayL,CAAbzL,EAAuB,CAAC;AACtBtuB,IAAAA,GAAAA,EAAK,QADiB;AAEtBjH,IAAAA,KAAAA,EAAO,UAAgBgiC,CAAhB,EAAgBA;AACrB,aAAMA,CAAAA,YAAoBhB,CAApBgB,IAICA,CAAAA,CAAShD,KAATgD,KAAmB53B,KAAK40B,KAJzBgD,IAIkCA,CAAAA,CAAS9D,MAAT8D,KAAoB53B,KAAK8zB,MAJ3D8D,IAIqEC,EAAAA,CAAYD,CAAAA,CAASZ,gBAArBa,EAAuC73B,KAAKg3B,gBAA5Ca,CAJrED,IAIsIC,EAAAA,CAAYD,CAAAA,CAASd,UAArBe,EAAiC73B,KAAK82B,UAAtCe,CAJ5I;AAIkLf;AAP9J,GAAD,EASpB;AACDj6B,IAAAA,GAAAA,EAAK,SADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAiBkgC,CAAjB,EAAiBA;AACtB,UAAI5D,CAAAA,GAAQ35B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoE,EAAhF;AAAA,UACIu/B,CAAAA,GAAgB5F,CAAAA,CAAM6F,OAD1B;AAAA,UAEIA,CAAAA,GAAAA,KAA4B,CAA5BA,KAAUD,CAAVC,IAA4CD,CAFhD;AAAA,UAIIE,CAAAA,GAAgBh4B,KAAKw3B,eAALx3B,CAAqB81B,CAArB91B,CAJpB;AAAA,UAKIi4B,CAAAA,GAAQpC,EAAAA,CAAcmC,CAAdnC,EAA6B71B,KAAK+1B,qBAAlCF,CALZ;AAAA,UAOIqC,CAAAA,GAASpM,EAAAA,CAAemM,CAAfnM,EAAsB,CAAtBA,CAPb;AAAA,UAQI5yB,CAAAA,GAAIg/B,CAAAA,CAAO,CAAPA,CARR;AAAA,UASIp4B,CAAAA,GAAIo4B,CAAAA,CAAO,CAAPA,CATR;AAAA,UAWIC,CAAAA,GAAKJ,CAAAA,GAAUj4B,CAAVi4B,GAAc/3B,KAAK8zB,MAAL9zB,GAAcF,CAXrC;AAYA,aAAsB,MAAfg2B,CAAAA,CAAIt9B,MAAW,GAAI,CAACU,CAAD,EAAIi/B,CAAJ,CAAJ,GAAc,CAACj/B,CAAD,EAAIi/B,CAAJ,EAAQF,CAAAA,CAAM,CAANA,CAAR,CAApC;AAAkD;AAfnD,GAToB,EA0BpB;AACDp7B,IAAAA,GAAAA,EAAK,WADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAmBkgC,CAAnB,EAAmBA;AACxB,UAAIvD,CAAAA,GAAQh6B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoE,EAAhF;AAAA,UACI6/B,CAAAA,GAAgB7F,CAAAA,CAAMwF,OAD1B;AAAA,UAEIA,CAAAA,GAAAA,KAA4B,CAA5BA,KAAUK,CAAVL,IAA4CK,CAFhD;AAAA,UAGIhC,CAAAA,GAAU7D,CAAAA,CAAM6D,OAHpB;AAAA,UAKIiC,CAAAA,GAAOvM,EAAAA,CAAegK,CAAfhK,EAAoB,CAApBA,CALX;AAAA,UAMI5yB,CAAAA,GAAIm/B,CAAAA,CAAK,CAALA,CANR;AAAA,UAOIv4B,CAAAA,GAAIu4B,CAAAA,CAAK,CAALA,CAPR;AAAA,UAQIxL,CAAAA,GAAIwL,CAAAA,CAAK,CAALA,CARR;AAAA,UAUIF,CAAAA,GAAKJ,CAAAA,GAAUj4B,CAAVi4B,GAAc/3B,KAAK8zB,MAAL9zB,GAAcF,CAVrC;AAAA,UAWIw4B,CAAAA,GAAelC,CAAAA,IAAWA,CAAAA,GAAUp2B,KAAKozB,cAX7C;AAAA,UAYI6E,CAAAA,GAAQ/B,EAAAA,CAAc,CAACh9B,CAAD,EAAIi/B,CAAJ,EAAQtL,CAAR,CAAdqJ,EAA0Bl2B,KAAKm2B,uBAA/BD,EAAwDoC,CAAxDpC,CAZZ;AAAA,UAcIqC,CAAAA,GAAwBv4B,KAAKy3B,iBAALz3B,CAAuBi4B,CAAvBj4B,CAd5B;AAAA,UAeIw4B,CAAAA,GAAyB1M,EAAAA,CAAeyM,CAAfzM,EAAsC,CAAtCA,CAf7B;AAAA,UAgBI2M,CAAAA,GAAID,CAAAA,CAAuB,CAAvBA,CAhBR;AAAA,UAiBIE,CAAAA,GAAIF,CAAAA,CAAuB,CAAvBA,CAjBR;AAAA,UAkBIG,CAAAA,GAAIH,CAAAA,CAAuB,CAAvBA,CAlBR;AAoBA,aAAIrG,MAAAA,CAAOC,QAAPD,CAAgBtF,CAAhBsF,IACK,CAACsG,CAAD,EAAIC,CAAJ,EAAOC,CAAP,CADLxG,GAIGA,MAAAA,CAAOC,QAAPD,CAAgBiE,CAAhBjE,IAA2B,CAACsG,CAAD,EAAIC,CAAJ,EAAOtC,CAAP,CAA3BjE,GAA6C,CAACsG,CAAD,EAAIC,CAAJ,CAJpD;AAIwDA;AA3BzD,GA1BoB,EAuDpB;AACD77B,IAAAA,GAAAA,EAAK,iBADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAyBkgC,CAAzB,EAAyBA;AAC9B,UACI8C,CAAAA,GAAqB9M,EAAAA,CADD9rB,KAAK03B,WAAL13B,CAAiB81B,CAAjB91B,CACC8rB,EAAkC,CAAlCA,CADzB;AAMA,aAAO,CAJC8M,CAAAA,CAAmB,CAAnBA,CAID,EAHCA,CAAAA,CAAmB,CAAnBA,CAGD,EAHoB,CAElB9C,CAAAA,CAAI,CAAJA,CAAAA,IAAU,CAFQ,IAEH91B,KAAKozB,cACtB,CAAP;AAD6BA;AAR9B,GAvDoB,EAkEpB;AACDv2B,IAAAA,GAAAA,EAAK,mBADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAA2BkgC,CAA3B,EAA2BA;AAChC,UACI+C,CAAAA,GAAuB/M,EAAAA,CADD9rB,KAAK23B,aAAL33B,CAAmB81B,CAAnB91B,CACC8rB,EAAoC,CAApCA,CAD3B;AAMA,aAAO,CAJC+M,CAAAA,CAAqB,CAArBA,CAID,EAHCA,CAAAA,CAAqB,CAArBA,CAGD,EAHsB,CAEpB/C,CAAAA,CAAI,CAAJA,CAAAA,IAAU,CAFU,IAEL91B,KAAKozB,cACtB,CAAP;AAD6BA;AAR9B,GAlEoB,EA6EpB;AACDv2B,IAAAA,GAAAA,EAAK,aADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAqBkgC,CAArB,EAAqBA;AAE1B,aAAOA,CAAP;AAAOA;AAJR,GA7EoB,EAmFpB;AACDj5B,IAAAA,GAAAA,EAAK,eADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAuBkgC,CAAvB,EAAuBA;AAE5B,aAAOA,CAAP;AAAOA;AAJR,GAnFoB,CAAvB3K,CAAAA,EA2FOyL,CAAP;AAtIa,CAAA,EAFf;;ACHe,SAASzP,EAAT,CAAmB8K,CAAnB,EAAmBA;AAChC,MAAI2C,CAAAA,GAAQ3C,CAAAA,CAAK2C,KAAjB;AAAA,MACId,CAAAA,GAAS7B,CAAAA,CAAK6B,MADlB;AAAA,MAGIiF,CAAAA,GAAe9G,CAAAA,CAAKtf,OAHxB;AAAA,MAIIA,CAAAA,GAAAA,KAA2B,CAA3BA,KAAUomB,CAAVpmB,GAAoC,CAApCA,GAAwComB,CAJ5C;AAAA,MAKIC,CAAAA,GAAc/G,CAAAA,CAAKgH,MALvB;AAAA,MAMIA,CAAAA,GAAAA,KAAyB,CAAzBA,KAASD,CAATC,GAAkC,CAAC,CAAD,EAAI,CAAJ,CAAlCA,GAA2CD,CAN/C;AAAA,MAQIE,CAAAA,GAAUpN,EAAAA,CANDmG,CAAAA,CAAK6G,MAMJhN,EAAuB,CAAvBA,CARd;AAAA,MASIqN,CAAAA,GAAWrN,EAAAA,CAAeoN,CAAAA,CAAQ,CAARA,CAAfpN,EAA2B,CAA3BA,CATf;AAAA,MAUIsN,CAAAA,GAAOD,CAAAA,CAAS,CAATA,CAVX;AAAA,MAWIE,CAAAA,GAAQF,CAAAA,CAAS,CAATA,CAXZ;AAAA,MAYIG,CAAAA,GAAYxN,EAAAA,CAAeoN,CAAAA,CAAQ,CAARA,CAAfpN,EAA2B,CAA3BA,CAZhB;AAAA,MAaIyN,CAAAA,GAAOD,CAAAA,CAAU,CAAVA,CAbX;AAAA,MAcIE,CAAAA,GAAQF,CAAAA,CAAU,CAAVA,CAdZ;AAgBInH,EAAAA,MAAAA,CAAOC,QAAPD,CAAgBxf,CAAhBwf,IAEFxf,CAAAA,GAAU;AACR8mB,IAAAA,GAAAA,EAFM9mB,CACE;AAER+mB,IAAAA,MAAAA,EAHM/mB,CACE;AAGRgnB,IAAAA,IAAAA,EAJMhnB,CACE;AAIRinB,IAAAA,KAAAA,EALMjnB;AACE,GAFRwf,GASF7Y,EAAAA,CAAO6Y,MAAAA,CAAOC,QAAPD,CAAgBxf,CAAAA,CAAQ8mB,GAAxBtH,KAAgCA,MAAAA,CAAOC,QAAPD,CAAgBxf,CAAAA,CAAQ+mB,MAAxBvH,CAAhCA,IAAmEA,MAAAA,CAAOC,QAAPD,CAAgBxf,CAAAA,CAAQgnB,IAAxBxH,CAAnEA,IAAoGA,MAAAA,CAAOC,QAAPD,CAAgBxf,CAAAA,CAAQinB,KAAxBzH,CAA3G7Y,CATE6Y;AAYJ,MAAIyF,CAAAA,GAAW,IAAIiC,EAAJ,CAAwB;AACrCjF,IAAAA,KAAAA,EAAOA,CAD8B;AAErCd,IAAAA,MAAAA,EAAQA,CAF6B;AAGrC7T,IAAAA,SAAAA,EAAW,CAH0B;AAIrCC,IAAAA,QAAAA,EAAU,CAJ2B;AAKrCC,IAAAA,IAAAA,EAAM;AAL+B,GAAxB,CAAf;AAAA,MAOI2Z,CAAAA,GAAKlC,CAAAA,CAASN,OAATM,CAAiB,CAACwB,CAAD,EAAOI,CAAP,CAAjB5B,CAPT;AAAA,MAQImC,CAAAA,GAAKnC,CAAAA,CAASN,OAATM,CAAiB,CAAC2B,CAAD,EAAOF,CAAP,CAAjBzB,CART;AAAA,MASIla,CAAAA,GAAO,CAAC7S,IAAAA,CAAKsmB,GAALtmB,CAASkvB,CAAAA,CAAG,CAAHA,CAAAA,GAAQD,CAAAA,CAAG,CAAHA,CAAjBjvB,CAAD,EAA0BA,IAAAA,CAAKsmB,GAALtmB,CAASkvB,CAAAA,CAAG,CAAHA,CAAAA,GAAQD,CAAAA,CAAG,CAAHA,CAAjBjvB,CAA1B,CATX;AAAA,MAUImvB,CAAAA,GAAa,CAACpF,CAAAA,GAAQjiB,CAAAA,CAAQgnB,IAAhB/E,GAAuBjiB,CAAAA,CAAQinB,KAA/BhF,GAA6D,IAAtB/pB,IAAAA,CAAKsmB,GAALtmB,CAASouB,CAAAA,CAAO,CAAPA,CAATpuB,CAAxC,EAAiEipB,CAAAA,GAASnhB,CAAAA,CAAQ8mB,GAAjB3F,GAAuBnhB,CAAAA,CAAQ+mB,MAA/B5F,GAA8D,IAAtBjpB,IAAAA,CAAKsmB,GAALtmB,CAASouB,CAAAA,CAAO,CAAPA,CAATpuB,CAAzG,CAVjB;AAWAyO,EAAAA,EAAAA,CAAO0gB,CAAAA,CAAW,CAAXA,CAAAA,GAAgB,CAAhBA,IAAqBA,CAAAA,CAAW,CAAXA,CAAAA,GAAgB,CAA5C1gB,CAAAA;;AACA,MAAI2gB,CAAAA,GAASD,CAAAA,CAAW,CAAXA,CAAAA,GAAgBtc,CAAAA,CAAK,CAALA,CAA7B;AAAA,MACIwc,CAAAA,GAASF,CAAAA,CAAW,CAAXA,CAAAA,GAAgBtc,CAAAA,CAAK,CAALA,CAD7B;AAAA,MAKIyc,CAAAA,GAAevC,CAAAA,CAASL,SAATK,CADN,CAAA,CAAEmC,CAAAA,CAAG,CAAHA,CAAAA,GAAQD,CAAAA,CAAG,CAAHA,CAAV,IAAmB,CAAnB,GAAmB,CAFjBnnB,CAAAA,CAAQinB,KAARjnB,GAAgBA,CAAAA,CAAQgnB,IAEP,IAFe,CAEf,GAFmBM,CAEtC,EAFsCA,CAELF,CAAAA,CAAG,CAAHA,CAAAA,GAAQD,CAAAA,CAAG,CAAHA,CAFHG,IAEY,CAFZA,GAEY,CADhDtnB,CAAAA,CAAQ+mB,MAAR/mB,GAAiBA,CAAAA,CAAQ8mB,GACuB,IADhB,CACgB,GADZS,CACtC,CACMtC,CALnB;AAAA,MAMIzX,CAAAA,GAAOyX,CAAAA,CAASzX,IAATyX,GAAgB/sB,IAAAA,CAAKuvB,IAALvvB,CAAUA,IAAAA,CAAKsmB,GAALtmB,CAASA,IAAAA,CAAKG,GAALH,CAASovB,CAATpvB,EAAiBqvB,CAAjBrvB,CAATA,CAAVA,CAN3B;;AAOA,SAAO;AACLoV,IAAAA,SAAAA,EAAWka,CAAAA,CAAa,CAAbA,CADN;AAELja,IAAAA,QAAAA,EAAUia,CAAAA,CAAa,CAAbA,CAFL;AAGLha,IAAAA,IAAAA,EAAMA;AAHD,GAAP;ACxCF;;AAAA,IAAI0Z,EAAAA,GAAsB,UAAUQ,CAAV,EAAUA;AAGlC,WAASR,CAAT,GAASA;AACP,QAAIU,CAAJ;AAAA,QAEItI,CAAAA,GAAO15B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoE,EAF/E;AAAA,QAGIq8B,CAAAA,GAAQ3C,CAAAA,CAAK2C,KAHjB;AAAA,QAIId,CAAAA,GAAS7B,CAAAA,CAAK6B,MAJlB;AAAA,QAKI0G,CAAAA,GAAgBvI,CAAAA,CAAK/R,QALzB;AAAA,QAMIA,CAAAA,GAAAA,KAA6B,CAA7BA,KAAWsa,CAAXta,GAAsC,CAAtCA,GAA0Csa,CAN9C;AAAA,QAOIC,CAAAA,GAAiBxI,CAAAA,CAAKhS,SAP1B;AAAA,QAQIA,CAAAA,GAAAA,KAA+B,CAA/BA,KAAYwa,CAAZxa,GAAwC,CAAxCA,GAA4Cwa,CARhD;AAAA,QASIC,CAAAA,GAAYzI,CAAAA,CAAK9R,IATrB;AAAA,QAUIA,CAAAA,GAAAA,KAAqB,CAArBA,KAAOua,CAAPva,GAA8B,CAA9BA,GAAkCua,CAVtC;AAAA,QAWIC,CAAAA,GAAa1I,CAAAA,CAAK8B,KAXtB;AAAA,QAYIA,CAAAA,GAAAA,KAAuB,CAAvBA,KAAQ4G,CAAR5G,GAAgC,CAAhCA,GAAoC4G,CAZxC;AAAA,QAaIC,CAAAA,GAAe3I,CAAAA,CAAK+B,OAbxB;AAAA,QAcIA,CAAAA,GAAAA,KAA2B,CAA3BA,KAAU4G,CAAV5G,GAAoC,CAApCA,GAAwC4G,CAd5C;AAAA,QAeIC,CAAAA,GAAgB5I,CAAAA,CAAKgC,QAfzB;AAAA,QAgBIA,CAAAA,GAAAA,KAA6B,CAA7BA,KAAW4G,CAAX5G,GAAsC,GAAtCA,GAA4C4G,CAhBhD;AAAA,QAiBI7F,CAAAA,GAAkB/C,CAAAA,CAAK+C,eAjB3B;AAAA,QAkBIE,CAAAA,GAAiBjD,CAAAA,CAAKiD,cAlB1B;AAoBAtK,IAAAA,EAAAA,CAAgB5qB,IAAhB4qB,EAAsBiP,CAAtBjP,CAAAA,EAEAgK,CAAAA,GAAQA,CAAAA,IAAS,CAFjBhK,EAGAkJ,CAAAA,GAASA,CAAAA,IAAU,CAHnBlJ;AAIA,QAAI2E,CAAAA,GAAQuC,EAAAA,CAAY3R,CAAZ2R,CAAZ;AACAmC,IAAAA,CAAAA,GAAWppB,IAAAA,CAAKC,GAALD,CAAS,GAATA,EAAeopB,CAAfppB,CAAXopB;;AACA,QAAI7M,CAAAA,GAAS4K,EAAAA,CAAc,CAAC/R,CAAD,EAAYC,CAAZ,CAAd8R,EAAqCzC,CAArCyC,CAAb;;AACA5K,IAAAA,CAAAA,CAAO,CAAPA,CAAAA,GAAY,CAAZA;;AACA,QHkHgCqO,CGlHhC;AAAA,QH0HEC,CG1HF;AAAA,QAAIsB,CAAAA,GPmyCD,UAAqBrK,CAArB,EAA0BgD,CAA1B,EAAgCC,CAAhC,EAAwCC,CAAxC,EAA8CC,CAA9C,EAA8CA;AACnD,UACIE,CADJ;AAAA,UAAI75B,CAAAA,GAAI,IAAM0U,IAAAA,CAAKklB,GAALllB,CIlqCJ6qB,CAAAA,CAAsBH,GAAtBG,GJkqCoB,CAAhB7qB,CAAd;AA0BA,aAxBA8hB,CAAAA,CAAI,CAAJA,CAAAA,GAASx2B,CAAAA,GAAIy5B,CAAbjD,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CADTA,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAFTA,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAHTA,EAIAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAJTA,EAKAA,CAAAA,CAAI,CAAJA,CAAAA,GAASx2B,CALTw2B,EAMAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CANTA,EAOAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CAPTA,EAQAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CARTA,EASAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS,CATTA,EAUAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAO,CAVXA,EAWAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU,CAXVA,EAYAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU,CAZVA,EAaAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU,CAbVA,EAeW,QAAPmD,CAAO,IAAgBvrB,QAAAA,KAARurB,CAAR,IAETnD,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAOmD,CAAAA,GAAMD,CAAb,KADJG,CAAAA,GAAK,KAAKH,CAAAA,GAAOC,CAAZ,CACD,CAAJnD,EACAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU,IAAImD,CAAJ,GAAUD,CAAV,GAAiBG,CAHlB,KAKTrD,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAO,CAAXA,EACAA,CAAAA,CAAI,EAAJA,CAAAA,GAAI,CAAO,CAAP,GAAWkD,CANN,CAfXlD,EAwBOA,CAAP;AIvrCuBiJ,KJ4pClB,CI5pCmC,EJ4pCnC,EIjqCKF,CJiqCL,EIjqCKA,CARNA,CAAAA,GA/BC,UAAiCf,CAAjC,EAAiCA;AACtC,UAAIC,CAAAA,GAAQD,CAAAA,CAAMC,KAAlB;AAAA,UACId,CAAAA,GAASa,CAAAA,CAAMb,MADnB;AAAA,UAEIe,CAAAA,GAAiBF,CAAAA,CAAMV,QAF3B;AAAA,UAGIA,CAAAA,GAAAA,KAA8B,CAA9BA,KAAWY,CAAXZ,GAAuCpC,EAAvCoC,GAA0DY,CAH9D;AAAA,UAIIC,CAAAA,GAAcH,CAAAA,CAAMZ,KAJxB;AAAA,UAMIgB,CAAAA,GAAwBJ,CAAAA,CAAMK,eANlC;AAAA,UAOIA,CAAAA,GAAAA,KAA4C,CAA5CA,KAAkBD,CAAlBC,GAAqD,CAArDA,GAAyDD,CAP7D;AAAA,UAQIE,CAAAA,GAAuBN,CAAAA,CAAMO,cARjC;AAAA,UASIA,CAAAA,GAAAA,KAA0C,CAA1CA,KAAiBD,CAAjBC,GAAmD,CAAnDA,GAAuDD,CAT3D;AAAA,UAUIE,CAAAA,GAAAA,CAAAA,KALwB,CAKxBA,KALQL,CAKRK,GALiC,CAKjCA,GALqCL,CAKrCK,IAAuB1D,EAV3B;AAAA,UAWI2D,CAAAA,GAAUvqB,IAAAA,CAAK8nB,IAAL9nB,CAAU,KAAMopB,CAAhBppB,CAXd;AAAA,UAYIwqB,CAAAA,GAAyBxqB,IAAAA,CAAK4kB,GAAL5kB,CAASuqB,CAATvqB,IAAoBopB,CAApBppB,GAA+BA,IAAAA,CAAK4kB,GAAL5kB,CAASA,IAAAA,CAAK0mB,EAAL1mB,GAAU,CAAVA,GAAcsqB,CAAdtqB,GAA6BuqB,CAAtCvqB,CAZ5D;AAAA,UAaIyqB,CAAAA,GAAOzqB,IAAAA,CAAK6kB,GAAL7kB,CAASA,IAAAA,CAAK0mB,EAAL1mB,GAAU,CAAVA,GAAcsqB,CAAvBtqB,IAAuCwqB,CAAvCxqB,GAAgEopB,CAb3E;AAcA,aAAO;AACLsB,QAAAA,GAAAA,EAAK,IAAI1qB,IAAAA,CAAK8nB,IAAL9nB,CAAUipB,CAAAA,GAAS,CAATA,GAAaG,CAAvBppB,CADJ;AAEL+kB,QAAAA,MAAAA,EAAQgF,CAAAA,GAAQd,CAFX;AAGL0B,QAAAA,aAAAA,EAAevB,CAHV;AAILpE,QAAAA,IAAAA,EAAMmF,CAJD;AAKLlF,QAAAA,GAAAA,EAAKwF,CAAAA,GAAOJ;AALP,OAAP;AAgB4BS,KA/BvB,CA+B+C;AAClDf,MAAAA,KAAAA,EAAAA,CATgCa,CAAAA,GGlHW;AACzCb,QAAAA,KAAAA,EAAOA,CADkC;AAEzCd,QAAAA,MAAAA,EAAQA,CAFiC;AAGzCC,QAAAA,KAAAA,EAAOA,CAHkC;AAIzCC,QAAAA,OAAAA,EAASA,CAJgC;AAKzCC,QAAAA,QAAAA,EAAUA,CAL+B;AAMzCe,QAAAA,eAAAA,EAAiBA,CAAAA,IAAmB,IAAIlB,CANC;AAOzCoB,QAAAA,cAAAA,EAAgBA,CAAAA,IAAkB;AAPO,OH2H3CN,EARgBA,KAOkC;AAElDd,MAAAA,MAAAA,EARW2B,CAAAA,CAAM3B,MAMiC;AAGlDG,MAAAA,QAAAA,EAPawB,CAAAA,CAAMxB,QAI+B;AAIlDF,MAAAA,KAAAA,EATU0B,CAAAA,CAAM1B,KAKkC;AAKlDiB,MAAAA,eAAAA,EARoBS,CAAAA,CAAMT,eAGwB;AAMlDE,MAAAA,cAAAA,EARmBO,CAAAA,CAAMP;AAEyB,KA/B/C,CAuCKQ,EACyB9F,MJgqC9B,EI/pCM8F,CAAAA,CAAsB7F,IJ+pC5B,EI9pCK6F,CAAAA,CAAsB5F,GJ8pC3B,COnyCH;AAAA,QASIgH,CAAAA,GHyDD,UAAuBjD,CAAvB,EAAuBA;AAC5B,UAAIC,CAAAA,GAASD,CAAAA,CAAMC,MAAnB;AAAA,UACIC,CAAAA,GAAQF,CAAAA,CAAME,KADlB;AAAA,UAEIC,CAAAA,GAAUH,CAAAA,CAAMG,OAFpB;AAAA,UAIIE,CAAAA,GAAeL,CAAAA,CAAMzM,MAJzB;AAAA,UAKIA,CAAAA,GAAAA,KAA0B,CAA1BA,KAAS8M,CAAT9M,GAAmC,IAAnCA,GAA0C8M,CAL9C;AAAA,UAMIC,CAAAA,GAAcN,CAAAA,CAAMO,KANxB;AAAA,UAOIA,CAAAA,GAAAA,KAAwB,CAAxBA,KAAQD,CAARC,IAAyCD,CAP7C;AAAA,UAQIE,CAAAA,GLpHG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CK4GP;AAsBA,aAbAC,EAAAA,CAAeD,CAAfC,EAAmBD,CAAnBC,EAAuB,CAAC,CAAD,EAAI,CAAJ,EAAI,CANZT,CAAAA,CAAMI,QAME,CAAvBK,CAAAA,EACAC,EAAAA,CAAWF,CAAXE,EAAeF,CAAfE,EAAmB,CAAC,CAAD,EAAI,CAAJ,EAAO,IAAIT,CAAX,CAAnBS,CADAD,EJggBF,UAAwB3H,CAAxB,EAA6B71B,CAA7B,EAAgC04B,CAAhC,EAAgCA;AAC9B,YAAI5yB,CAAAA,GAAIiO,IAAAA,CAAK4kB,GAAL5kB,CAAS2kB,CAAT3kB,CAAR;AAAA,YACI7U,CAAAA,GAAI6U,IAAAA,CAAK6kB,GAAL7kB,CAAS2kB,CAAT3kB,CADR;AAAA,YAEI2iB,CAAAA,GAAM12B,CAAAA,CAAE,CAAFA,CAFV;AAAA,YAGI22B,CAAAA,GAAM32B,CAAAA,CAAE,CAAFA,CAHV;AAAA,YAII42B,CAAAA,GAAM52B,CAAAA,CAAE,CAAFA,CAJV;AAAA,YAKI62B,CAAAA,GAAM72B,CAAAA,CAAE,CAAFA,CALV;AAAA,YAMI82B,CAAAA,GAAM92B,CAAAA,CAAE,CAAFA,CANV;AAAA,YAOI+2B,CAAAA,GAAM/2B,CAAAA,CAAE,CAAFA,CAPV;AAAA,YAQIg3B,CAAAA,GAAMh3B,CAAAA,CAAE,EAAFA,CARV;AAAA,YASIi3B,CAAAA,GAAMj3B,CAAAA,CAAE,EAAFA,CATV;AAWIA,QAAAA,CAAAA,KAAM61B,CAAN71B,KAEF61B,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAT61B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CADT61B,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAFT61B,EAGAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAHT61B,EAIAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAJV61B,EAKAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CALV61B,EAMAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CANV61B,EAOAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CATRA,GAaJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASa,CAAAA,GAAMx3B,CAANw3B,GAAUI,CAAAA,GAAMhxB,CAbrB9F,EAcJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASc,CAAAA,GAAMz3B,CAANy3B,GAAUI,CAAAA,GAAMjxB,CAdrB9F,EAeJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASe,CAAAA,GAAM13B,CAAN03B,GAAUI,CAAAA,GAAMlxB,CAfrB9F,EAgBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASgB,CAAAA,GAAM33B,CAAN23B,GAAUI,CAAAA,GAAMnxB,CAhBrB9F,EAiBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASiB,CAAAA,GAAM53B,CAAN43B,GAAUJ,CAAAA,GAAM5wB,CAjBrB9F,EAkBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASkB,CAAAA,GAAM73B,CAAN63B,GAAUJ,CAAAA,GAAM7wB,CAlBrB9F,EAmBJ61B,CAAAA,CAAI,EAAJA,CAAAA,GAAUmB,CAAAA,GAAM93B,CAAN83B,GAAUJ,CAAAA,GAAM9wB,CAnBtB9F,EAoBJ61B,CAAAA,CAAI,EAAJA,CAAAA,GAAUoB,CAAAA,GAAM/3B,CAAN+3B,GAAUJ,CAAAA,GAAM/wB,CApBtB9F;AI1gBJ09B,OJ8fF,CI9feH,CJ8ff,EI9fmBA,CJ8fnB,EI9fmBA,CAAKN,CAALM,GAAa5C,EJ8fhC,CIhgBE6C,EJwlBF,UAAwB3H,CAAxB,EAA6B71B,CAA7B,EAAgC04B,CAAhC,EAAgCA;AAC9B,YAAI5yB,CAAAA,GAAIiO,IAAAA,CAAK4kB,GAAL5kB,CAAS2kB,CAAT3kB,CAAR;AAAA,YACI7U,CAAAA,GAAI6U,IAAAA,CAAK6kB,GAAL7kB,CAAS2kB,CAAT3kB,CADR;AAAA,YAEIuiB,CAAAA,GAAMt2B,CAAAA,CAAE,CAAFA,CAFV;AAAA,YAGIu2B,CAAAA,GAAMv2B,CAAAA,CAAE,CAAFA,CAHV;AAAA,YAIIw2B,CAAAA,GAAMx2B,CAAAA,CAAE,CAAFA,CAJV;AAAA,YAKIy2B,CAAAA,GAAMz2B,CAAAA,CAAE,CAAFA,CALV;AAAA,YAMI02B,CAAAA,GAAM12B,CAAAA,CAAE,CAAFA,CANV;AAAA,YAOI22B,CAAAA,GAAM32B,CAAAA,CAAE,CAAFA,CAPV;AAAA,YAQI42B,CAAAA,GAAM52B,CAAAA,CAAE,CAAFA,CARV;AAAA,YASI62B,CAAAA,GAAM72B,CAAAA,CAAE,CAAFA,CATV;AAWIA,QAAAA,CAAAA,KAAM61B,CAAN71B,KAEF61B,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CAAT61B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAS71B,CAAAA,CAAE,CAAFA,CADT61B,EAEAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAFV61B,EAGAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAHV61B,EAIAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CAJV61B,EAKAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CALV61B,EAMAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CANV61B,EAOAA,CAAAA,CAAI,EAAJA,CAAAA,GAAU71B,CAAAA,CAAE,EAAFA,CATRA,GAaJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASS,CAAAA,GAAMp3B,CAANo3B,GAAUI,CAAAA,GAAM5wB,CAbrB9F,EAcJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASU,CAAAA,GAAMr3B,CAANq3B,GAAUI,CAAAA,GAAM7wB,CAdrB9F,EAeJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASW,CAAAA,GAAMt3B,CAANs3B,GAAUI,CAAAA,GAAM9wB,CAfrB9F,EAgBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASY,CAAAA,GAAMv3B,CAANu3B,GAAUI,CAAAA,GAAM/wB,CAhBrB9F,EAiBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASa,CAAAA,GAAMx3B,CAANw3B,GAAUJ,CAAAA,GAAMxwB,CAjBrB9F,EAkBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASc,CAAAA,GAAMz3B,CAANy3B,GAAUJ,CAAAA,GAAMzwB,CAlBrB9F,EAmBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASe,CAAAA,GAAM13B,CAAN03B,GAAUJ,CAAAA,GAAM1wB,CAnBrB9F,EAoBJ61B,CAAAA,CAAI,CAAJA,CAAAA,GAASgB,CAAAA,GAAM33B,CAAN23B,GAAUJ,CAAAA,GAAM3wB,CApBrB9F;AIjmBJ29B,OJqlBF,CIrlBeJ,CJqlBf,EIrlBmBA,CJqlBnB,EIrlBuBL,CAAAA,GAAUvC,EJqlBjC,CIxlBE6C,EAKIF,CAAAA,IACFG,EAAAA,CAAWF,CAAXE,EAAeF,CAAfE,EAAmB,CAAC,CAAD,EAAC,CAAI,CAAL,EAAQ,CAAR,CAAnBA,CANFD,EASIlN,CAAAA,IACFkN,EAAAA,CAAeD,CAAfC,EAAmBD,CAAnBC,EDmLG,UAAgB3H,CAAhB,EAAqB71B,CAArB,EAAqBA;AAI1B,eAHA61B,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAM71B,CAAAA,CAAE,CAAFA,CAAV61B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAM71B,CAAAA,CAAE,CAAFA,CADV61B,EAEAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAM71B,CAAAA,CAAE,CAAFA,CAFV61B,EAGOA,CAAP;ACvLyB+H,ODmLpB,CCnLgC,EDmLhC,ECnLoCtN,CDmLpC,CCnLHkN,CAVFA,EAaOD,CAAP;AGhFmByG,KHyDd,CGzD4B;AAC7BhH,MAAAA,MAAAA,EAAQA,CADqB;AAE7B1M,MAAAA,MAAAA,EAAQA,CAFqB;AAG7B2M,MAAAA,KAAAA,EAAOA,CAHsB;AAI7BC,MAAAA,OAAAA,EAASA,CAJoB;AAK7BC,MAAAA,QAAAA,EAAUA,CALmB;AAM7BG,MAAAA,KAAAA,EAAAA,CAAO;AANsB,KHyD5B,CGlEH;;AAiCA,WAAA,CAhBAmG,CAAAA,GC1DW,UAAoC/xB,CAApC,EAA0C1L,CAA1C,EAA0CA;AACvD,aAAA,CAAIA,CAAJ,IAA+B,aAAlByuB,EAAAA,CAAQzuB,CAARyuB,CAAkB,IAA4B,cAAA,OAATzuB,CAAlD,GAIO6+B,EAAAA,CAAsBnzB,CAAtBmzB,CAJP,GACS7+B,CADT;ADyDUi+B,KC1DG,CD0DwB/6B,IC1DxB,ED0D8B0rB,EAAAA,CAAgBmO,CAAhBnO,CAAAA,CAAqC5uB,IAArC4uB,CAA0C1rB,IAA1C0rB,EAAgD;AACvFkJ,MAAAA,KAAAA,EAAOA,CADgF;AAEvFd,MAAAA,MAAAA,EAAQA,CAF+E;AAGvFgD,MAAAA,UAAAA,EAAYA,CAH2E;AAIvFE,MAAAA,gBAAAA,EAAkBA;AAJqE,KAAhDtL,CC1D9B,CD0EX,EAVMxL,QAUN,GAViBA,CAUjB,EATAqa,CAAAA,CAAMta,SAANsa,GAAkBta,CASlB,EARAsa,CAAAA,CAAMpa,IAANoa,GAAapa,CAQb,EAPAoa,CAAAA,CAAMxG,KAANwG,GAAcxG,CAOd,EANAwG,CAAAA,CAAMvG,OAANuG,GAAgBvG,CAMhB,EALAuG,CAAAA,CAAMtG,QAANsG,GAAiBtG,CAKjB,EAJAsG,CAAAA,CAAMhL,KAANgL,GAAchL,CAId,EAHAgL,CAAAA,CAAMnT,MAANmT,GAAenT,CAGf,EAFAmT,CAAAA,CAAMnH,cAANmH,GHzBG,UAA2B3H,CAA3B,EAA2BA;AAChC,UAAI1S,CAAAA,GAAW0S,CAAAA,CAAM1S,QAArB;AAAA,UACID,CAAAA,GAAY2S,CAAAA,CAAM3S,SADtB;AAAA,UAGIsP,CAAAA,GAAQqD,CAAAA,CAAMrD,KAHlB;AAAA,UAIIsD,CAAAA,GAAsBD,CAAAA,CAAME,aAJhC;AAAA,UAKIA,CAAAA,GAAAA,KAAwC,CAAxCA,KAAgBD,CAAhBC,IAAyDD,CAL7D;AAMAtD,MAAAA,CAAAA,GAAAA,KAAkBn2B,CAAlBm2B,KAAQA,CAARA,GAA8BA,CAA9BA,GAAsCuC,EAAAA,CAJ3Bc,CAAAA,CAAMzS,IAIqB2R,CAAtCvC,EACAjW,EAAAA,CAAO6Y,MAAAA,CAAOC,QAAPD,CAAgBjS,CAAhBiS,KAA6BA,MAAAA,CAAOC,QAAPD,CAAgBlS,CAAhBkS,CAA7BA,IAA2DA,MAAAA,CAAOC,QAAPD,CAAgB5C,CAAhB4C,CAAlE7Y,CADAiW;AAEA,UAAI3rB,CAAAA,GAAS,EAAb;AAAA,UACImvB,CAAAA,GAAYpB,EAAAA,GAAYpC,CAD5B;AAAA,UAEIyD,CAAAA,GAAYnoB,IAAAA,CAAK6kB,GAAL7kB,CAASqV,CAAAA,GAAWuR,EAApB5mB,CAFhB;AAAA,UAGIooB,CAAAA,GAAmBF,CAAAA,GAAY,GAHnC;AAAA,UAIIG,CAAAA,GAAmBD,CAAAA,GAAmBD,CAJ1C;AAAA,UAKIG,CAAAA,GAAoBJ,CAAAA,GAAYnB,EAAZmB,GAAkCC,CAL1D;;AAWA,UALApvB,CAAAA,CAAOwvB,cAAPxvB,GAAwB,CAACuvB,CAAD,EAACA,CAAoBA,CAArB,EAAwCA,CAAxC,CAAxBvvB,EACAA,CAAAA,CAAOyvB,cAAPzvB,GAAwB,CAAC,IAAIuvB,CAAL,EAAKA,CAAoB,CAApBA,GAAwBA,CAA7B,EAAgD,IAAIA,CAApD,CADxBvvB,EAEAA,CAAAA,CAAO0vB,eAAP1vB,GAAyB,CAACqvB,CAAD,EAACA,CAAmBC,CAApB,EAAsCC,CAAtC,CAFzBvvB,EAGAA,CAAAA,CAAO2vB,eAAP3vB,GAAyB,CAAC,IAAIqvB,CAAL,EAAKA,CAAmB,CAAnBA,GAAuBC,CAA5B,EAA8C,IAAIC,CAAlD,CAHzBvvB,EAKIkvB,CAAJ,EAAmB;AACjB,YAAIU,CAAAA,GAAa/B,EAAAA,GAAqB5mB,IAAAA,CAAKklB,GAALllB,CAASqV,CAAAA,GAAWuR,EAApB5mB,CAArB4mB,GAA+DuB,CAAhF;AAAA,YAEIS,CAAAA,GAAsBV,CAAAA,GAAYnB,EAAZmB,GAAkCS,CAF5D;AAAA,YAGIE,CAAAA,GAAqBD,CAAAA,GAAsBP,CAAtBO,GAAyCN,CAHlE;AAIAvvB,QAAAA,CAAAA,CAAO+vB,gBAAP/vB,GAA0B,CAAC,CAAD,EAAC,CAHHqvB,CAGG,GAHgBO,CAGhB,GAH6B,CAG9B,EAAwBC,CAAxB,CAA1B7vB,EACAA,CAAAA,CAAOgwB,eAAPhwB,GAAyB,CAAC8vB,CAAD,EAAqB,CAArB,EAAwBA,CAAxB,CADzB9vB;AAIF;;AAAA,aAAOA,CAAP;AGJyBo3B,KHzBpB,CGyBsCxP,EAAAA,CAAuBA,EAAAA,CAAuB+O,CAAvB/O,CAAvBA,CHzBtC,EGyB6F4H,cHzB7F,CGyB4G,CHzB5G,CG2BH,EADA39B,MAAAA,CAAOwlC,MAAPxlC,CAAc+1B,EAAAA,CAAuBA,EAAAA,CAAuB+O,CAAvB/O,CAAvBA,CAAd/1B,CACA,EAAO8kC,CAAP;AA8DF;;AAAA,SEzIa,UAAmBqB,CAAnB,EAA6BC,CAA7B,EAA6BA;AAC1C,QAA0B,cAAA,OAAfA,CAAe,IAA6B,SAAfA,CAAxC,EACE,MAAM,IAAIvgC,SAAJ,CAAc,oDAAd,CAAN;AAGFsgC,IAAAA,CAAAA,CAAS3gC,SAAT2gC,GAAqBnmC,MAAAA,CAAO6e,MAAP7e,CAAcomC,CAAAA,IAAcA,CAAAA,CAAW5gC,SAAvCxF,EAAkD;AACrEkN,MAAAA,WAAAA,EAAa;AACX/M,QAAAA,KAAAA,EAAOgmC,CADI;AAEX1Q,QAAAA,QAAAA,EAAAA,CAAU,CAFC;AAGXD,QAAAA,YAAAA,EAAAA,CAAc;AAHH;AADwD,KAAlDx1B,CAArBmmC,EAOIC,CAAAA,IAAYjQ,EAAAA,CAAegQ,CAAfhQ,EAAyBiQ,CAAzBjQ,CAPhBgQ;AFMAtB,GEXa,CFWHT,CEXG,EF0IbjD,EE1Ia,GF8EbzL,EAAAA,CAAa0O,CAAb1O,EAAkC,CAAC;AACjCtuB,IAAAA,GAAAA,EAAK,aAD4B;AAEjCjH,IAAAA,KAAAA,EAAO,UAAqBslC,CAArB,EAAqBA;AAC1B,UAAI3L,CAAAA,GAAQh3B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoEyH,KAAKuvB,KAArF;AACA,aAAOyC,EAAAA,CAAckJ,CAAdlJ,EAAsBzC,CAAtByC,CAAP;AAA6BzC;AAJE,GAAD,EAM/B;AACD1yB,IAAAA,GAAAA,EAAK,eADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAuBulC,CAAvB,EAAuBA;AAC5B,UAAI5L,CAAAA,GAAQh3B,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoEyH,KAAKuvB,KAArF;AACA,aAAO+C,EAAAA,CAAc6I,CAAd7I,EAAkB/C,CAAlB+C,CAAP;AAAyB/C;AAJ1B,GAN+B,EAY/B;AACD1yB,IAAAA,GAAAA,EAAK,8BADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAsCs8B,CAAtC,EAAsCA;AAC3C,UAAIgJ,CAAAA,GAAShJ,CAAAA,CAAMgJ,MAAnB;AAAA,UAEIG,CAAAA,GAAenF,EAAAA,CADThE,CAAAA,CAAMkJ,GACGlF,EAAmBl2B,KAAKm2B,uBAAxBD,CAFnB;AAAA,UAII5G,CAAAA,GAAYgM,EAAAA,CAAS,EAATA,EADCtJ,EAAAA,CAAckJ,CAAdlJ,EAAsBhyB,KAAKuvB,KAA3ByC,CACDsJ,EN4Lf,UAAgB3O,CAAhB,EAAqB71B,CAArB,EAAqBA;AAG1B,eAFA61B,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAM71B,CAAAA,CAAE,CAAFA,CAAV61B,EACAA,CAAAA,CAAI,CAAJA,CAAAA,GAAI,CAAM71B,CAAAA,CAAE,CAAFA,CADV61B,EAEOA,CAAP;AM/L6C4O,ON4LxC,CM5LoD,EN4LpD,EM5LwDF,CN4LxD,CM5LeC,CAJhB;AAMA,aAAOhJ,EAAAA,CADSgJ,EAAAA,CAAS,EAATA,EAAat7B,KAAKonB,MAAlBkU,EAA0BhM,CAA1BgM,CACThJ,EAAyBtyB,KAAKuvB,KAA9B+C,CAAP;AAAqC/C;AATtC,GAZ+B,EAuB/B;AACD1yB,IAAAA,GAAAA,EAAK,oBADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAA4B28B,CAA5B,EAA4BA;AAGjC,aAAOvyB,KAAKw7B,4BAALx7B,CAAkC;AACvCk7B,QAAAA,MAAAA,EAHW3I,CAAAA,CAAM2I,MAEsB;AAEvCE,QAAAA,GAAAA,EAHQ7I,CAAAA,CAAM6I;AACyB,OAAlCp7B,CAAP;AADgBo7B;AAJjB,GAvB+B,EAiC/B;AACDv+B,IAAAA,GAAAA,EAAK,WADJ;AAEDjH,IAAAA,KAAAA,EAAO,UAAmBkjC,CAAnB,EAAmBA;AACxB,UAAIzxB,CAAAA,GAAU9O,SAAAA,CAAUC,MAAVD,GAAmB,CAAnBA,IAAmB,KAAsBa,CAAtB,KAAKb,SAAAA,CAAU,CAAVA,CAAxBA,GAAqDA,SAAAA,CAAU,CAAVA,CAArDA,GAAoE,EAAlF;AAAA,UACIq8B,CAAAA,GAAQ50B,KAAK40B,KADjB;AAAA,UAEId,CAAAA,GAAS9zB,KAAK8zB,MAFlB;AAAA,UAII2H,CAAAA,GAAcC,EAAAA,CAAWjmC,MAAAA,CAAO8F,MAAP9F,CAAc;AACzCm/B,QAAAA,KAAAA,EAAOA,CADkC;AAEzCd,QAAAA,MAAAA,EAAQA,CAFiC;AAGzCgF,QAAAA,MAAAA,EAAQA;AAHiC,OAAdrjC,EAI1B4R,CAJ0B5R,CAAXimC,CAJlB;AAAA,UASIzb,CAAAA,GAAYwb,CAAAA,CAAYxb,SAT5B;AAAA,UAUIC,CAAAA,GAAWub,CAAAA,CAAYvb,QAV3B;AAAA,UAWIC,CAAAA,GAAOsb,CAAAA,CAAYtb,IAXvB;AAaA,aAAO,IAAI0Z,CAAJ,CAAwB;AAC7BjF,QAAAA,KAAAA,EAAOA,CADsB;AAE7Bd,QAAAA,MAAAA,EAAQA,CAFqB;AAG7B7T,QAAAA,SAAAA,EAAWA,CAHkB;AAI7BC,QAAAA,QAAAA,EAAUA,CAJmB;AAK7BC,QAAAA,IAAAA,EAAMA;AALuB,OAAxB,CAAP;AAKQA;AArBT,GAjC+B,CAAlCgL,CE9Ea,EFyIN0O,CAAP;AA/HwB,CAAA,EAA1B;AAAA,IGLMiC,EAAAA,GAAkB,CAAC,UAAD,EAAa,WAAb,EAA0B,aAA1B,EAAyC,cAAzC,CHKxB;AAAA,IGHMC,EAAAA,GAAAA,UAAAA,CAAAA,EAAAA;AAAAA,MAAAA,CAAAA,EAAAA,CAAAA;;AAAAA,WAAAA,CAAAA,GAAAA;AAAAA,SAAAA,IAAAA,CAAAA,EAAAA,CAAAA,GAAAA,SAAAA,CAAAA,MAAAA,EAAAA,CAAAA,GAAAA,IAAAA,KAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,GAAAA,CAAAA,EAAAA,CAAAA,GAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,GAAAA,SAAAA,CAAAA,CAAAA,CAAAA;;AAAAA,WAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAAA,IAAAA,CAAAA,KAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,EAAAA,MAAAA,CAAAA,CAAAA,CAAAA,KAAAA,IAAAA,EACJ/c,QADI+c,GACO,IADPA,EACO,CAAA,CACXE,YADW,GACI,IAFXF,EAEW,CAAA,CAefI,kBAfe,GAeM,YAAA;AACnB,UAAMI,CAAAA,GAAYhC,CAAAA,CAAKiC,YAALjC,EAAlB;AAAA,UACMkC,CAAAA,GAAgBlC,CAAAA,CAAKmC,gBAALnC,EADtB;AAAA,UAC2BmC,CAAAA,GA0BvBnC,CAAAA,CAAKh6B,KA3BT;AAAA,UAIEq8B,CAAAA,GAAAA,CAAAA,CAAAA,UAJF;AAAA,UAuBE10B,CAAAA,GAAAA,CAAAA,CAAAA,MAvBF;AAAA,UAwBEC,CAAAA,GAAAA,CAAAA,CAAAA,YAxBF;AAAA,UAyBE00B,CAAAA,GAAAA,CAAAA,CAAAA,MAzBF;AAAA,UA0BEpqB,CAAAA,GAAAA,CAAAA,CAAAA,QA1BF;AAAA,UA4BMpL,CAAAA,GAAU;AACdkK,QAAAA,WAAAA,EAAAA,CAAAA,CA1BAorB,oBAyBc;AAEdjmB,QAAAA,MAAAA,EAAAA,CAAAA,CAzBAA,MAuBc;AAGdyJ,QAAAA,IAAAA,EAAAA,CAAAA,CAzBAA,IAsBc;AAIduD,QAAAA,KAAAA,EAAAA,CAAO,CAJO;AAKdf,QAAAA,WAAAA,EAAAA,CAAAA,CA1BAA,WAqBc;AAMdjG,QAAAA,SAAAA,EAAAA,CAAAA,CA1BAA,SAoBc;AAOdiH,QAAAA,cAAAA,EAAAA,CAAAA,CA1BAA,cAmBc;AAQdG,QAAAA,SAAAA,EAAAA,CAAAA,CA1BAA,SAkBc;AASdC,QAAAA,iBAAAA,EAAAA,CAAAA,CA1BAA,iBAiBc;AAUdC,QAAAA,WAAAA,EAAAA,CAAAA,CA1BAA,WAgBc;AAWd/W,QAAAA,IAAAA,EAAAA,CAAAA,CA1BAA,IAec;AAYd0P,QAAAA,KAAAA,EAAAA,CAAAA,CA1BAA,KAcc;AAadF,QAAAA,SAAAA,EAAAA,CAAAA,CA1BAA,SAac;AAcdlV,QAAAA,SAAAA,EAAAA,CAAAA,CA1BAA,SAYc;AAedC,QAAAA,KAAAA,EAAAA,CAAAA,CA1BAA,KAWc;AAgBdqV,QAAAA,QAAAA,EAAAA,CAAAA,CA1BAA,QAUc;AAiBdvZ,QAAAA,MAAAA,EAAAA,CAAAA,CA1BAA,MASc;AAkBd8d,QAAAA,aAAAA,EAAAA,CAAAA,CA1BAA,aAQc;AAmBdnE,QAAAA,cAAAA,EAAAA,CAAAA,CA1BAA,cAOc;AAoBdsB,QAAAA,kBAAAA,EAAAA,CAAAA,CA1BAA,kBAMc;AAqBdqF,QAAAA,MAAAA,EAAAA,CAAQ;AArBM,OA5BhB;AAoDI1b,MAAAA,CAAAA,IAA4B,cAAA,OAAXA,CAAjBA,KACFb,CAAAA,CAAQa,MAARb,GAAiBa,CADfA,GAIAC,CAAAA,IAAwC,cAAA,OAAjBA,CAAvBA,KACFd,CAAAA,CAAQc,YAARd,GAAuBc,CADrBA,CAJAD,EAQJqyB,CAAAA,CAAKvb,QAALub,GAAgB,IAAIjX,EAAJ,CAAmBjc,CAAnB,CARZa,EASJqyB,CAAAA,CAAKuC,eAALvC,EATIryB,EAWAu0B,CAAAA,GACFA,CAAAA,CAAch3B,WAAdg3B,CAA0BlC,CAAAA,CAAKvb,QAALub,CAAcpW,KAAdoW,CAAoBgC,CAApBhC,CAA1BkC,CADEA,GAGFF,CAAAA,CAAUQ,UAAVR,CAAqBhC,CAAAA,CAAKvb,QAA1Bud,EAAoCT,EAAAA,CAAgBkB,IAAhBlB,CAAqB,UAACmB,CAAD,EAACA;AAAAA,eAAcxqB,CAAAA,KAAawqB,CAA3BA;AAA2BA,OAAjDnB,CAApCS,CAdEr0B,EAiBA00B,QAAAA,CAAAA,GACFrC,CAAAA,CAAKvb,QAALub,CAAcvR,QAAduR,CAAuBqC,CAAvBrC,CADEqC,GAEOrC,CAAAA,CAAK0B,YAAL1B,IACTA,CAAAA,CAAKvb,QAALub,CAAcvR,QAAduR,CAAuBA,CAAAA,CAAK0B,YAAL1B,CAAkBjb,UAAzCib,CApBEryB,EAoBuCoX,CAGvCib,CAAAA,CAAK0B,YAAL1B,IAAsBqC,QAAAA,CAHiBtd,KAIzCib,CAAAA,CAAK2C,aAAL3C,EAxBEryB,EA2BJ20B,CAAAA,CAAOtC,CAAAA,CAAKvb,QAAZ6d,CA3BI30B;AA2BQ8W,KAjGV+c,EAiGU/c,CAAAA,CAGdke,aAHcle,GAGE,YAAA;AAEdub,MAAAA,CAAAA,CAAKvb,QAALub,CAAc5U,QAAd4U,CAAuBv0B,KAAvBu0B,CAA6Bt0B,OAA7Bs0B,GAAuC,OAAvCA;AAAuC,KAtGrCwB,EAsGqC,CAAA,CAGzCS,YAHyC,GAG1B,YAAA;AAAA,UACLW,CAAAA,GAAW5C,CAAAA,CAAKh6B,KAALg6B,CAAX4C,MADK;AAGb,aAAQA,CAAAA,IAAUA,CAAAA,CAAOC,OAAjBD,IAA4BA,CAAAA,CAAOC,OAAPD,CAAeE,MAAfF,EAA5BA,IAAwD,IAAhE;AAAgE,KA5G9DpB,EA4G8D,CAAA,CAGlEW,gBAHkE,GAG/C,YAAA;AAAA,UACTY,CAAAA,GAAiB/C,CAAAA,CAAKh6B,KAALg6B,CAAjB+C,YADS;AAGjB,aAAQA,CAAAA,IAAgBA,CAAAA,CAAaF,OAA7BE,IAAyC,IAAjD;AAAiD,KAlH/CvB,EAkH+C,CAAA,CAGnDe,eAHmD,GAGjC,YAAA;AAChBvC,MAAAA,CAAAA,CAAKvb,QAALub,CAActkB,EAAdskB,CAAiB,OAAjBA,EAA0BA,CAAAA,CAAKgD,WAA/BhD,GACAA,CAAAA,CAAKvb,QAALub,CAActkB,EAAdskB,CAAiB,SAAjBA,EAA4BA,CAAAA,CAAKiD,aAAjCjD,CADAA,EAEAA,CAAAA,CAAKvb,QAALub,CAActkB,EAAdskB,CAAiB,SAAjBA,EAA4BA,CAAAA,CAAKkD,aAAjClD,CAFAA,EAGAA,CAAAA,CAAKvb,QAALub,CAActkB,EAAdskB,CAAiB,QAAjBA,EAA2BA,CAAAA,CAAKmD,YAAhCnD,CAHAA,EAIAA,CAAAA,CAAKvb,QAALub,CAActkB,EAAdskB,CAAiB,OAAjBA,EAA0BA,CAAAA,CAAKhiB,WAA/BgiB,CAJAA;AAI+BhiB,KA1H7BwjB,EA0H6BxjB,CAAAA,CAGjColB,iBAHiCplB,GAGb,YAAA;AAClBgiB,MAAAA,CAAAA,CAAKvb,QAALub,CAAcpkB,GAAdokB,CAAkB,OAAlBA,EAA2BA,CAAAA,CAAKgD,WAAhChD,GACAA,CAAAA,CAAKvb,QAALub,CAAcpkB,GAAdokB,CAAkB,SAAlBA,EAA6BA,CAAAA,CAAKiD,aAAlCjD,CADAA,EAEAA,CAAAA,CAAKvb,QAALub,CAAcpkB,GAAdokB,CAAkB,SAAlBA,EAA6BA,CAAAA,CAAKkD,aAAlClD,CAFAA,EAGAA,CAAAA,CAAKvb,QAALub,CAAcpkB,GAAdokB,CAAkB,QAAlBA,EAA4BA,CAAAA,CAAKmD,YAAjCnD,CAHAA,EAIAA,CAAAA,CAAKvb,QAALub,CAAcpkB,GAAdokB,CAAkB,OAAlBA,EAA2BA,CAAAA,CAAKhiB,WAAhCgiB,CAJAA;AAIgChiB,KAlI9BwjB,EAkI8BxjB,CAAAA,CAGlC8jB,cAHkC9jB,GAGjB,YAAA;AACf,UAAMgkB,CAAAA,GAAYhC,CAAAA,CAAKiC,YAALjC,EAAlB;AAEAA,MAAAA,CAAAA,CAAKoD,iBAALpD,IAEIgC,CAAAA,IAAaA,CAAAA,CAAUqB,aAAvBrB,IACFhC,CAAAA,CAAKiC,YAALjC,GAAoBqD,aAApBrD,CAAkCA,CAAAA,CAAKvb,QAAvCub,CAHFA,EAMAA,CAAAA,CAAKvb,QAALub,GAAgB,IANhBA;AAMgB,KA9IdwB,EA8Ic,CAAA,CAGlBwB,WAHkB,GAGJ,YAAA;AACZhD,MAAAA,CAAAA,CAAK0B,YAAL1B,GAAoB,IAApBA,EACAA,CAAAA,CAAKh6B,KAALg6B,CAAWsD,OAAXtD,EADAA;AACWsD,KAnJT9B,EAmJS8B,CAAAA,CAGbL,aAHaK,GAGG,UAAC3tB,CAAD,EAACA;AACfqqB,MAAAA,CAAAA,CAAKh6B,KAALg6B,CAAWuD,SAAXvD,CAAqBrqB,CAArBqqB;AAAqBrqB,KAvJnB6rB,EAuJmB7rB,CAAAA,CAGvButB,aAHuBvtB,GAGP,UAACA,CAAD,EAACA;AACfqqB,MAAAA,CAAAA,CAAKh6B,KAALg6B,CAAWwD,SAAXxD,CAAqBrqB,CAArBqqB;AAAqBrqB,KA3JnB6rB,EA2JmB7rB,CAAAA,CAGvBwtB,YAHuBxtB,GAGR,UAACA,CAAD,EAACA;AAAAA,UACNtM,CAAAA,GAAWsM,CAAAA,CAAXtM,MADMsM;AAAAA,UACNtM,CAAAA,GAC+B22B,CAAAA,CAAKh6B,KAF9B2P;AAAAA,UAEN8tB,CAAAA,GAAAA,CAAAA,CAAAA,gBAFM9tB;AAAAA,UAEY+tB,CAAAA,GAAAA,CAAAA,CAAAA,QAFZ/tB;AAAAA,UAGNjD,CAAAA,GAAkCrJ,CAAAA,CAAlCqJ,IAHMiD;AAAAA,UAGAkX,CAAAA,GAA4BxjB,CAAAA,CAA5BwjB,MAHAlX;AAAAA,UAGAkX,CAAAA,GAA4BxjB,CAAAA,CAApBojB,UAHR9W;AAAAA,UAINgX,CAAAA,GAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAD2B,EAC3BA,GAD2B,CAC3BA,EAAAA,UAJMhX;AAAAA,UAKP+P,CAAAA,GAAuBmH,CAAAA,CAAAA,CAAAA,CALhBlX;AAAAA,UAKIgQ,CAAAA,GAAYkH,CAAAA,CAAAA,CAAAA,CALhBlX;AAAAA,UAMRguB,CAAAA,GAAiB;AACrBlxB,QAAAA,EAAAA,EAAI;AACFnP,UAAAA,IAAAA,EAAM,QADJ;AAEFoP,UAAAA,IAAAA,EAAM,CAAC,CAAA,CAAE,OAAF,EAAW,SAAX,CAAD,EAAwB,CAAC,QAAD,EAAW,SAAX,CAAxB;AAFJ,SADiB;AAKrBC,QAAAA,EAAAA,EAAI;AACFrP,UAAAA,IAAAA,EAAM,eADJ;AAEFoP,UAAAA,IAAAA,EAAM,CAAC,CAAA,CAAE,UAAF,EAAc,QAAd,CAAD,EAA0B,CAAA,CAAE,QAAF,EAAY,SAAZ,CAA1B;AAFJ,SALiB;AASrBE,QAAAA,EAAAA,EAAI;AACFtP,UAAAA,IAAAA,EAAM,QADJ;AAEFoP,UAAAA,IAAAA,EAAM,CAAC,CAAC,QAAD,EAAW,SAAX,CAAD,EAAwB,CAAC,SAAD,EAAY,OAAZ,CAAxB;AAFJ,SATiB;AAarBG,QAAAA,EAAAA,EAAI;AACFvP,UAAAA,IAAAA,EAAM,QADJ;AAEFoP,UAAAA,IAAAA,EAAM,CAAC,CAAA,CAAE,SAAF,EAAa,SAAb,CAAD,EAA0B,CAAA,CAAE,SAAF,EAAa,QAAb,CAA1B;AAFJ;AAbiB,OANTiD;AAAAA,UAqBmC,CAAA,GAGvBqqB,CAAAA,CAAKiC,YAALjC,GACvB4D,YADuB5D,GAEvB6D,qBAFuB7D,EAxBZrqB;AAAAA,UAwBN0kB,CAAAA,GAAAA,CAAAA,CAAAA,KAxBM1kB;AAAAA,UAwBC4jB,CAAAA,GAAAA,CAAAA,CAAAA,MAxBD5jB;AAAAA,UA2BViQ,CAAAA,GAAOoa,CAAAA,CAAKvb,QAALub,CAAclzB,OAAdkzB,CAAsBpa,IA3BnBjQ;AAAAA,UA4BRiX,CAAAA,GAAY,UAAC2R,CAAD,EAASlB,CAAT,EAASA;AAAAA,eAAAA,IAAiBiC,EAAjBjC,CAAqCA,CAArCA,EAA+CzQ,SAA/CyQ,CAAyDkB,CAAzDlB,CAAAA;AAAyDkB,OA5BtE5oB;;AA8Bd,UAAA;AAAA,SACOguB,CAAAA,CAAehX,CAAfgX,CADP,IACqCjxB,CADrC,GAEIkT,CAAAA,GAAOgH,CAAAA,CAAU,CAAC,CAACla,CAAAA,CAAK,CAALA,CAAD,EAAUA,CAAAA,CAAK,CAALA,CAAV,CAAD,EAAqB,CAACA,CAAAA,CAAK,CAALA,CAAD,EAAUA,CAAAA,CAAK,CAALA,CAAV,CAArB,CAAVka,EAAoD;AAAEyN,UAAAA,KAAAA,EAAAA,CAAF;AAASd,UAAAA,MAAAA,EAAAA;AAAT,SAApD3M,CAAAA,CAAuEhH,IAFlF,GAGa+d,CAAAA,CAAehX,CAAfgX,CAAAA,KACT/d,CAAAA,GAAOgH,CAAAA,CAAU+W,CAAAA,CAAehX,CAAfgX,CAAAA,CAA2BjxB,IAArCka,EAA2C;AAAEyN,UAAAA,KAAAA,EAAAA,CAAF;AAASd,UAAAA,MAAAA,EAAAA;AAAT,SAA3C3M,CAAAA,CAA8DhH,IAD5D+d,CAHb;AAME,OANF,CAME,OAAOhoC,CAAP,EAAOA;AACP6C,QAAAA,OAAAA,CAAQC,IAARD,CAAa,gEAAbA,EAA+E6K,CAA/E7K,GACAonB,CAAAA,GAAOoa,CAAAA,CAAKvb,QAALub,CAAclzB,OAAdkzB,CAAsBpa,IAD7BpnB;AAIFilC;;AAAAA,MAAAA,CAAAA,CAAiB;AACf/d,QAAAA,SAAAA,EAAAA,CADe;AAEfC,QAAAA,QAAAA,EAAAA,CAFe;AAGfC,QAAAA,IAAAA,EAAAA,CAHe;AAIfke,QAAAA,sBAAAA,EAAwB,IAAIC,CAAJ,EAJT;AAKfC,QAAAA,kBAAAA,EAAoB;AALL,OAAjBP,CAAAA,EAOAC,CAAAA,CAAS/tB,CAAT+tB,CAPAD,EASAzD,CAAAA,CAAK0B,YAAL1B,GAAoB32B,CATpBo6B,EAUAzD,CAAAA,CAAKvb,QAALub,CAActZ,UAAdsZ,CAAyB5yB,QAAzB4yB,GAAoC,IAVpCyD,EAWAzD,CAAAA,CAAK2C,aAAL3C,EAXAyD;AAWKd,KAlNHnB,EAkNGmB,CAAAA,CAGP3kB,WAHO2kB,GAGO,UAAChtB,CAAD,EAACA;AACbqqB,MAAAA,CAAAA,CAAKh6B,KAALg6B,CAAWiE,OAAXjE,CAAmBrqB,CAAnBqqB;AAAmBrqB,KAtNjB6rB,EAsNiB7rB,CAtNjB6rB;AAsNiB7rB;;AAAAA,EAAAA,CAAAA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,GAAAA,CAAAA,EAAAA,SAAAA,GAAAA,MAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAAAA,CAAAA,SAAAA,CAAAA,WAAAA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,SAAAA,GAAAA,CAAAA;AAAAA,MAAAA,CAAAA,GAAAA,CAAAA,CAAAA,SAAAA;AAAAA,SAAAA,CAAAA,CAlNrBgsB,iBAkNqBhsB,GAlNrBgsB,YAAAA;AACEl8B,SAAKm8B,kBAALn8B;AAAKm8B,GAiNcjsB,EAjNdisB,CAAAA,CAGPC,oBAHOD,GAGPC,YAAAA;AACEp8B,SAAKq8B,cAALr8B;AAAKq8B,GA6McnsB,EA7MdmsB,CAAAA,CAGPC,kBAHOD,GAGPC,YAAAA;AACEt8B,SAAKq8B,cAALr8B,IACAA,KAAKm8B,kBAALn8B,EADAA;AACKm8B,GAwMcjsB,EAxMdisB,CAAAA,CA2MPsC,WA3MOtC,GA2MPsC,YAAAA;AACE,WAAA,KAAYzf,QAAZ;AAAYA,GAJO9O,EAIP8O,CAAAA,CAGd9W,MAHc8W,GAGd9W,YAAAA;AACE,WAAA,IAAA;AAAA,GARmBgI,EAQnB,CARmBA;AAQnB,CA9NE6rB,CAAiBC,CAAjBD,CHGN;;AGHMA,EAAAA,CAiOG2C,SAjOH3C,GAiOe;AACjBoB,EAAAA,MAAAA,EAAQv6B,CAAAA,CAAUlJ,MAAVkJ,CAAiBtC,UADR;AAEjBg9B,EAAAA,YAAAA,EAAc16B,CAAAA,CAAUlJ,MAFP;AAGjBskC,EAAAA,gBAAAA,EAAkBp7B,CAAAA,CAAU9D,IAHX;AAIjB69B,EAAAA,oBAAAA,EAAsB/5B,CAAAA,CAAU5D,MAAV4D,CAAiBtC,UAJtB;AAKjBs8B,EAAAA,UAAAA,EAAYh6B,CAAAA,CAAU5D,MALL;AAMjB0X,EAAAA,MAAAA,EAAQ9T,CAAAA,CAAU5D,MAND;AAOjBmhB,EAAAA,IAAAA,EAAMvd,CAAAA,CAAU7D,MAPC;AAQjB4jB,EAAAA,WAAAA,EAAa/f,CAAAA,CAAU5D,MARN;AASjB0d,EAAAA,SAAAA,EAAW9Z,CAAAA,CAAUlJ,MATJ;AAUjBiqB,EAAAA,cAAAA,EAAgB/gB,CAAAA,CAAU/D,IAVT;AAWjBilB,EAAAA,SAAAA,EAAWlhB,CAAAA,CAAU/D,IAXJ;AAYjBklB,EAAAA,iBAAAA,EAAmBnhB,CAAAA,CAAU/D,IAZZ;AAajBmlB,EAAAA,WAAAA,EAAaphB,CAAAA,CAAU/D,IAbN;AAcjBoO,EAAAA,IAAAA,EAAMrK,CAAAA,CAAUjE,KAdC;AAejBge,EAAAA,KAAAA,EAAO/Z,CAAAA,CAAU5D,MAfA;AAgBjByd,EAAAA,SAAAA,EAAW7Z,CAAAA,CAAU5D,MAhBJ;AAiBjBuI,EAAAA,SAAAA,EAAW3E,CAAAA,CAAU7D,MAjBJ;AAkBjByI,EAAAA,KAAAA,EAAO5E,CAAAA,CAAU7D,MAlBA;AAmBjB8d,EAAAA,QAAAA,EAAUja,CAAAA,CAAU5D,MAnBH;AAoBjBsE,EAAAA,MAAAA,EAAQV,CAAAA,CAAU9D,IApBD;AAqBjBsiB,EAAAA,aAAAA,EAAexe,CAAAA,CAAU9D,IArBR;AAsBjBme,EAAAA,cAAAA,EAAgBra,CAAAA,CAAU/D,IAtBT;AAuBjB0f,EAAAA,kBAAAA,EAAoB3b,CAAAA,CAAU/D,IAvBb;AAwBjBqJ,EAAAA,MAAAA,EAAQtF,CAAAA,CAAU9D,IAxBD;AAyBjBqJ,EAAAA,YAAAA,EAAcvF,CAAAA,CAAU9D,IAzBP;AA0BjB2T,EAAAA,QAAAA,EAAU7P,CAAAA,CAAUnD,KAAVmD,CAAgBk5B,EAAhBl5B,CA1BO;AA2BjBi6B,EAAAA,MAAAA,EAAQj6B,CAAAA,CAAU9D,IA3BD;AA4BjB++B,EAAAA,OAAAA,EAASj7B,CAAAA,CAAU9D,IA5BF;AA6BjBg/B,EAAAA,SAAAA,EAAWl7B,CAAAA,CAAU9D,IA7BJ;AA8BjBi/B,EAAAA,SAAAA,EAAWn7B,CAAAA,CAAU9D,IA9BJ;AA+BjBm/B,EAAAA,QAAAA,EAAUr7B,CAAAA,CAAU9D,IA/BH;AAgCjB0/B,EAAAA,OAAAA,EAAS57B,CAAAA,CAAU9D;AAhCF,CAjOfi9B,EAAAA,EAAAA,CAoQG4C,YApQH5C,GAoQkB;AACpBiC,EAAAA,gBAAAA,EAAkB,YAAA,CAAA,CADE;AAEpBtnB,EAAAA,MAAAA,EAAQ,wBAFY;AAGpByJ,EAAAA,IAAAA,EAAM,EAHc;AAIpBwC,EAAAA,WAAAA,EAAa,QAJO;AAKpBgB,EAAAA,cAAAA,EAAAA,CAAgB,CALI;AAMpBG,EAAAA,SAAAA,EAAAA,CAAW,CANS;AAOpBC,EAAAA,iBAAAA,EAAAA,CAAmB,CAPC;AAQpBC,EAAAA,WAAAA,EAAAA,CAAa,CARO;AASpBzc,EAAAA,SAAAA,EAAW,CATS;AAUpBC,EAAAA,KAAAA,EAAO,CAVa;AAWpByV,EAAAA,cAAAA,EAAAA,CAAgB,CAXI;AAYpBsB,EAAAA,kBAAAA,EAAAA,CAAoB,CAZA;AAapB9L,EAAAA,QAAAA,EAAU,WAbU;AAcpBoqB,EAAAA,MAAAA,EAAQ,YAAA,CAAA,CAdY;AAepBgB,EAAAA,OAAAA,EAAS,YAAA,CAAA,CAfW;AAgBpBC,EAAAA,SAAAA,EAAW,YAAA,CAAA,CAhBS;AAiBpBC,EAAAA,SAAAA,EAAW,YAAA,CAAA,CAjBS;AAkBpBE,EAAAA,QAAAA,EAAU,YAAA,CAAA,CAlBU;AAmBpBO,EAAAA,OAAAA,EAAS,YAAA,CAAA;AAnBW,CApQlBzC;AAuRO,eAAA,EAAA","sourcesContent":["/** @license React v16.8.6\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?Symbol.for(\"react.memo\"):\n60115,r=b?Symbol.for(\"react.lazy\"):60116;function t(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case h:return a;default:return u}}case r:case q:case d:return u}}}function v(a){return t(a)===m}exports.typeOf=t;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;\nexports.Fragment=e;exports.Lazy=r;exports.Memo=q;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||\"object\"===typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n)};exports.isAsyncMode=function(a){return v(a)||t(a)===l};exports.isConcurrentMode=v;exports.isContextConsumer=function(a){return t(a)===k};\nexports.isContextProvider=function(a){return t(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return t(a)===n};exports.isFragment=function(a){return t(a)===e};exports.isLazy=function(a){return t(a)===r};exports.isMemo=function(a){return t(a)===q};exports.isPortal=function(a){return t(a)===d};exports.isProfiler=function(a){return t(a)===g};exports.isStrictMode=function(a){return t(a)===f};\nexports.isSuspense=function(a){return t(a)===p};\n","/** @license React v16.8.6\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' ||\n  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar lowPriorityWarning = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarning$1 = lowPriorityWarning;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_LAZY_TYPE:\n      case REACT_MEMO_TYPE:\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\n// AsyncMode is deprecated along with isAsyncMode\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\n\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\n\n// AsyncMode should be deprecated\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\n// Use in node or in browser\nif (typeof exports !== 'undefined') {\n  module.exports = fuzzy;\n} else {\n  root.fuzzy = fuzzy;\n}\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function(pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function(pattern, str, opts) {\n  opts = opts || {};\n  var patternIdx = 0\n    , result = []\n    , len = str.length\n    , totalScore = 0\n    , currScore = 0\n    // prefix\n    , pre = opts.pre || ''\n    // suffix\n    , post = opts.post || ''\n    // String to compare against. This might be a lowercase version of the\n    // raw string\n    , compareString =  opts.caseSensitive && str || str.toLowerCase()\n    , ch;\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for(var idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if(compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if(patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = (compareString === pattern) ? Infinity : totalScore;\n    return {rendered: result.join(''), score: totalScore};\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\n","'Use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;","'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3 //  Max number of results to display.\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nwindow.Suggestions = module.exports = Suggestions;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","module.exports = {\n  'fr': {\n    'name': 'France',\n    'bbox': [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  'us': {\n    'name': 'United States',\n    'bbox': [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  'ru': {\n    'name': 'Russia',\n    'bbox': [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  'ca': {\n    'name': 'Canada',\n    'bbox': [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n};\n","'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n","'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n","'use strict';\n\nmodule.exports = {\n  API_ORIGIN: 'https://api.mapbox.com',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n","'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n","'use strict';\n\nvar MapiResponse = require('../classes/mapi-response');\nvar MapiError = require('../classes/mapi-error');\nvar constants = require('../constants');\nvar parseHeaders = require('../helpers/parse-headers');\n\n// Keys are request IDs, values are XHRs.\nvar requestsUnderway = {};\n\nfunction browserAbort(request) {\n  var xhr = requestsUnderway[request.id];\n  if (!xhr) return;\n  xhr.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction createResponse(request, xhr) {\n  return new MapiResponse(request, {\n    body: xhr.response,\n    headers: parseHeaders(xhr.getAllResponseHeaders()),\n    statusCode: xhr.status\n  });\n}\n\nfunction normalizeBrowserProgressEvent(event) {\n  var total = event.total;\n  var transferred = event.loaded;\n  var percent = (100 * transferred) / total;\n  return {\n    total: total,\n    transferred: transferred,\n    percent: percent\n  };\n}\n\nfunction sendRequestXhr(request, xhr) {\n  return new Promise(function(resolve, reject) {\n    xhr.onprogress = function(event) {\n      request.emitter.emit(\n        constants.EVENT_PROGRESS_DOWNLOAD,\n        normalizeBrowserProgressEvent(event)\n      );\n    };\n\n    var file = request.file;\n    if (file) {\n      xhr.upload.onprogress = function(event) {\n        request.emitter.emit(\n          constants.EVENT_PROGRESS_UPLOAD,\n          normalizeBrowserProgressEvent(event)\n        );\n      };\n    }\n\n    xhr.onerror = function(error) {\n      reject(error);\n    };\n\n    xhr.onabort = function() {\n      var mapiError = new MapiError({\n        request: request,\n        type: constants.ERROR_REQUEST_ABORTED\n      });\n      reject(mapiError);\n    };\n\n    xhr.onload = function() {\n      delete requestsUnderway[request.id];\n      if (xhr.status < 200 || xhr.status >= 400) {\n        var mapiError = new MapiError({\n          request: request,\n          body: xhr.response,\n          statusCode: xhr.status\n        });\n        reject(mapiError);\n        return;\n      }\n      resolve(xhr);\n    };\n\n    var body = request.body;\n\n    // matching service needs to send a www-form-urlencoded request\n    if (typeof body === 'string') {\n      xhr.send(body);\n    } else if (body) {\n      xhr.send(JSON.stringify(body));\n    } else if (file) {\n      xhr.send(file);\n    } else {\n      xhr.send();\n    }\n\n    requestsUnderway[request.id] = xhr;\n  }).then(function(xhr) {\n    return createResponse(request, xhr);\n  });\n}\n\n// The accessToken argument gives this function flexibility\n// for Mapbox's internal client.\nfunction createRequestXhr(request, accessToken) {\n  var url = request.url(accessToken);\n  var xhr = new window.XMLHttpRequest();\n  xhr.open(request.method, url);\n  Object.keys(request.headers).forEach(function(key) {\n    xhr.setRequestHeader(key, request.headers[key]);\n  });\n  return xhr;\n}\n\nfunction browserSend(request) {\n  return Promise.resolve().then(function() {\n    var xhr = createRequestXhr(request, request.client.accessToken);\n    return sendRequestXhr(request, xhr);\n  });\n}\n\nmodule.exports = {\n  browserAbort: browserAbort,\n  sendRequestXhr: sendRequestXhr,\n  browserSend: browserSend,\n  createRequestXhr: createRequestXhr\n};\n","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","'use strict';\n\nvar base64 = require('base-64');\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return !!v;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar xtend = require('xtend');\nvar EventEmitter = require('eventemitter3');\nvar urlUtils = require('../helpers/url-utils');\nvar constants = require('../constants');\n\nvar requestId = 1;\n\n/**\n * A Mapbox API request.\n *\n * Note that creating a `MapiRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `MapiResponse`.\n * - `'error'` - Listeners will be called with a `MapiError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class MapiRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {MapiClient} client - This request's `MapiClient`.\n * @property {MapiResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {MapiError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n */\n\n/**\n * @ignore\n * @param {MapiClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n */\nfunction MapiRequest(client, options) {\n  if (!client) {\n    throw new Error('MapiRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'MapiRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nMapiRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  if (accessToken) {\n    url = urlUtils.appendQueryParam(url, 'access_token', accessToken);\n    var accessTokenOwnerId = parseToken(accessToken).user;\n    routeParams = xtend({ ownerId: accessTokenOwnerId }, routeParams);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `MapiResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `MapiResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<MapiResponse>}\n */\nMapiRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nMapiRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: MapiError,\n *   response: MapiResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nMapiRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {MapiRequest} - A new `MapiRequest` configured just like this one.\n */\nMapiRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nMapiRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new MapiRequest(this.client, extendedOptions);\n};\n\nmodule.exports = MapiRequest;\n","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar MapiRequest = require('./mapi-request');\nvar constants = require('../constants');\n\n/**\n * A low-level Mapbox API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `MapiRequest`s use the underlying `MapiClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class MapiClient\n * @property {string} accessToken - The Mapbox access token assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://api.mapbox.com.\n */\n\nfunction MapiClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an access token');\n  }\n  // Try parsing the access token to determine right away if it's valid.\n  parseToken(options.accessToken);\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nMapiClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new MapiRequest(this, requestOptions);\n};\n\nmodule.exports = MapiClient;\n","'use strict';\n\nvar browser = require('./browser-layer');\nvar MapiClient = require('../classes/mapi-client');\n\nfunction BrowserClient(options) {\n  MapiClient.call(this, options);\n}\nBrowserClient.prototype = Object.create(MapiClient.prototype);\nBrowserClient.prototype.constructor = BrowserClient;\n\nBrowserClient.prototype.sendRequest = browser.browserSend;\nBrowserClient.prototype.abortRequest = browser.browserAbort;\n\n/**\n * Create a client for the browser.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {MapiClient}\n */\nfunction createBrowserClient(options) {\n  return new BrowserClient(options);\n}\n\nmodule.exports = createBrowserClient;\n","'use strict';\n\nfunction parseSingleHeader(raw) {\n  var boundary = raw.indexOf(':');\n  var name = raw\n    .substring(0, boundary)\n    .trim()\n    .toLowerCase();\n  var value = raw.substring(boundary + 1).trim();\n  return {\n    name: name,\n    value: value\n  };\n}\n\n/**\n * Parse raw headers into an object with lowercase properties.\n * Does not fully parse headings into more complete data structure,\n * as larger libraries might do. Also does not deal with duplicate\n * headers because Node doesn't seem to deal with those well, so\n * we shouldn't let the browser either, for consistency.\n *\n * @param {string} raw\n * @returns {Object}\n */\nfunction parseHeaders(raw) {\n  var headers = {};\n  if (!raw) {\n    return headers;\n  }\n\n  raw\n    .trim()\n    .split(/[\\r|\\n]+/)\n    .forEach(function(rawHeader) {\n      var parsed = parseSingleHeader(rawHeader);\n      headers[parsed.name] = parsed.value;\n    });\n\n  return headers;\n}\n\nmodule.exports = parseHeaders;\n","'use strict';\n\nvar client = require('./lib/client');\n\nmodule.exports = client;\n","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n","'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex ¯\\_(ツ)_/¯. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('@mapbox/fusspot');\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n","'use strict';\n\n/**\n * Create a new object by picking properties off an existing object.\n * The second param can be overloaded as a callback for\n * more fine grained picking of properties.\n * @param {Object} source\n * @param {Array<string>|function(string, Object):boolean} keys\n * @returns {Object}\n */\nfunction pick(source, keys) {\n  var filter = function(key, val) {\n    return keys.indexOf(key) !== -1 && val !== undefined;\n  };\n\n  if (typeof keys === 'function') {\n    filter = keys;\n  }\n\n  return Object.keys(source)\n    .filter(function(key) {\n      return filter(key, source[key]);\n    })\n    .reduce(function(result, key) {\n      result[key] = source[key];\n      return result;\n    }, {});\n}\n\nmodule.exports = pick;\n","'use strict';\n\nvar objectMap = require('./object-map');\n\n/**\n * Stringify all the boolean values in an object, so true becomes \"true\".\n *\n * @param {Object} obj\n * @returns {Object}\n */\nfunction stringifyBoolean(obj) {\n  return objectMap(obj, function(_, value) {\n    return typeof value === 'boolean' ? JSON.stringify(value) : value;\n  });\n}\n\nmodule.exports = stringifyBoolean;\n","'use strict';\n\nfunction objectMap(obj, cb) {\n  return Object.keys(obj).reduce(function(result, key) {\n    result[key] = cb(key, obj[key]);\n    return result;\n  }, {});\n}\n\nmodule.exports = objectMap;\n","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('./service-helpers/validator');\nvar pick = require('./service-helpers/pick');\nvar stringifyBooleans = require('./service-helpers/stringify-booleans');\nvar createServiceFactory = require('./service-helpers/create-service-factory');\n\n/**\n * Geocoding API service.\n *\n * Learn more about this service and its responses in\n * [the HTTP service documentation](https://www.mapbox.com/api-documentation/#geocoding).\n */\nvar Geocoding = {};\n\nvar featureTypes = [\n  'country',\n  'region',\n  'postcode',\n  'district',\n  'place',\n  'locality',\n  'neighborhood',\n  'address',\n  'poi',\n  'poi.landmark'\n];\n\n/**\n * Search for a place.\n *\n * See the [public documentation](https://www.mapbox.com/api-documentation/#search-for-places).\n *\n * @param {Object} config\n * @param {string} config.query - A place name.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Coordinates} [config.proximity] - Bias local results based on a provided location.\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {boolean} [config.autocomplete=true] - Return autocomplete results or not.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=5] - Limit the number of results returned.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @return {MapiRequest}\n */\nGeocoding.forwardGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.string),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    proximity: v.coordinates,\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    autocomplete: v.boolean,\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string)\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'proximity',\n        'types',\n        'autocomplete',\n        'bbox',\n        'limit',\n        'language'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\n/**\n * Search for places near coordinates.\n *\n * See the [public documentation](https://www.mapbox.com/api-documentation/#retrieve-places-near-a-location).\n *\n * @param {Object} config\n * @param {Coordinates} config.query - Coordinates at which features will be searched.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=1] - Limit the number of results returned. If using this option, you must provide a single item for `types`.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {'distance'|'score'} [config.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @return {MapiRequest}\n */\nGeocoding.reverseGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.coordinates),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    reverseMode: v.oneOf('distance', 'score')\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'country',\n        'types',\n        'bbox',\n        'limit',\n        'language',\n        'reverseMode'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\nmodule.exports = createServiceFactory(Geocoding);\n","'use strict';\n\nvar MapiClient = require('../../lib/classes/mapi-client');\n// This will create the environment-appropriate client.\nvar createClient = require('../../lib/client');\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (MapiClient.prototype.isPrototypeOf(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n","if (process.env.NODE_ENV !== 'production') {\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n/*\n * This alphabet uses a-z A-Z 0-9 _- symbols.\n * Symbols order was changed for better gzip compression.\n */\nvar url = 'Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-'\n\nmodule.exports = function (size) {\n  size = size || 21\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (0 < size--) {\n    id += url[bytes[size] & 63]\n  }\n  return id\n}\n","'use strict';\nvar nanoid = require('nanoid')\n\n/**\n * Construct a new mapbox event client to send interaction events to the mapbox event service\n * @param {Object} options options with which to create the service\n * @param {String} options.accessToken the mapbox access token to make requests\n * @param {Number} [options.flushInterval=1000] the number of ms after which to flush the event queue\n * @param {Number} [options.maxQueueSize=100] the number of events to queue before flushing\n * @private\n */\nfunction MapboxEventManager(options) {\n  this.origin = options.origin || 'https://api.mapbox.com';\n  this.endpoint = 'events/v2';\n  this.access_token = options.accessToken;\n  this.version = '0.2.0'\n  this.sessionID = this.generateSessionID();\n  this.userAgent = this.getUserAgent();\n\n  this.options = options;\n  this.send = this.send.bind(this);\n\n\n  // parse global options to be sent with each request\n  this.countries = (options.countries) ? options.countries.split(\",\") : null;\n  this.types = (options.types) ? options.types.split(\",\") : null;\n  this.bbox = (options.bbox) ? options.bbox : null;\n  this.language = (options.language) ? options.language.split(\",\") : null;\n  this.limit = (options.limit) ? +options.limit : null;\n  this.locale = navigator.language || null;\n  this.enableEventLogging = this.shouldEnableLogging(options);\n  this.eventQueue = new Array();\n  this.flushInterval = options.flushInterval || 1000;\n  this.maxQueueSize = options.maxQueueSize || 100;\n  this.timer = (this.flushInterval) ? setTimeout(this.flush.bind(this), this.flushInterval) : null;\n  // keep some state to deduplicate requests if necessary\n  this.lastSentInput = \"\";\n  this.lastSentIndex = 0;\n}\n\nMapboxEventManager.prototype = {\n  /**\n     * Send a search.select event to the mapbox events service\n     * This event marks the array index of the item selected by the user out of the array of possible options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  select: function(selected, geocoder){\n    var resultIndex = this.getSelectedIndex(selected, geocoder);\n    var payload = this.getEventPayload('search.select', geocoder);\n    payload.resultIndex = resultIndex;\n    payload.resultPlaceName  = selected.place_name;\n    payload.resultId = selected.id;\n    if ((resultIndex === this.lastSentIndex && payload.queryString === this.lastSentInput) || resultIndex == -1) {\n      // don't log duplicate events if the user re-selected the same feature on the same search\n      return;\n    }\n    this.lastSentIndex = resultIndex;\n    this.lastSentInput = payload.queryString;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload)\n  },\n\n  /**\n     * Send a search-start event to the mapbox events service\n     * This turnstile event marks when a user starts a new search\n     * @private\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  start: function(geocoder){\n    var payload = this.getEventPayload('search.start', geocoder);\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send a search-keyevent event to the mapbox events service\n   * This event records each keypress in sequence\n   * @private\n   * @param {Object} keyEvent the keydown event to log\n   * @param {Obeject} geocoder a mapbox-gl-geocoder instance\n   * \n   */\n  keyevent: function(keyEvent, geocoder){\n    //pass invalid event\n    if (!keyEvent.key) return;\n    // don't send events for keys that don't change the input\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (keyEvent.metaKey || [9, 27, 37, 39, 13, 38, 40].indexOf(keyEvent.keyCode) !== -1) return;\n    var payload = this.getEventPayload('search.keystroke', geocoder);\n    payload.lastAction = keyEvent.key;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send an event to the events service\n   *\n   * The event is skipped if the instance is not enabled to send logging events\n   *\n   * @private\n   * @param {Object} payload the http POST body of the event\n   * @param {Function} [callback] a callback function to invoke when the send has completed\n   * @returns {Promise}\n   */\n  send: function (payload, callback) {\n    if (!this.enableEventLogging) {\n      if (callback) return callback();\n      return;\n    }\n    var options = this.getRequestOptions(payload);\n    this.request(options, function(err){\n      if (err) return this.handleError(err, callback);\n      if (callback) {\n        return callback();\n      }\n    }.bind(this))\n  },\n  /**\n   * Get http request options\n   * @private\n   * @param {*} payload\n   */\n  getRequestOptions: function(payload){\n    if (!Array.isArray(payload)) payload = [payload];\n    var options = {\n      // events must be sent with POST\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint +  \"?access_token=\" + this.access_token,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(payload) //events are arrays\n    }\n    return options\n  },\n\n  /**\n   * Get the event payload to send to the events service\n   * Most payload properties are shared across all events\n   * @private\n   * @param {String} event the name of the event to send to the events service. Valid options are 'search.start', 'search.select', 'search.feedback'.\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * @returns {Object} an event payload\n   */\n  getEventPayload: function (event, geocoder) {\n    var proximity;\n    if (!geocoder.options.proximity) proximity = null;\n    else proximity = [geocoder.options.proximity.longitude, geocoder.options.proximity.latitude];\n\n    var zoom = (geocoder._map) ? geocoder._map.getZoom() : null;\n    var payload = {\n      event: event,\n      created: +new Date(),\n      sessionIdentifier: this.sessionID,\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: 'mapbox.places',\n      // fuzzyMatch: search.fuzzy, //todo  --> add to plugin\n      proximity: proximity,\n      limit: geocoder.options.limit,\n      // routing: search.routing, //todo --> add to plugin\n      mapZoom: zoom,\n      keyboardLocale: this.locale\n    }\n\n    // get the text in the search bar\n    if (event === \"search.select\"){\n      payload.queryString = geocoder.inputString;\n    }else if (event != \"search.select\" && geocoder._inputEl){\n      payload.queryString = geocoder._inputEl.value;\n    }else{\n      payload.queryString = geocoder.inputString;\n    }\n    return payload;\n  },\n\n  /**\n   * Wraps the request function for easier testing\n   * Make an http request and invoke a callback\n   * @private\n   * @param {Object} opts options describing the http request to be made\n   * @param {Function} callback the callback to invoke when the http request is completed\n   */\n  request: function (opts, callback) {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 ) {\n        if (this.status == 204){\n          //success\n          return callback(null);\n        }else {\n          return callback(this.statusText);\n        }\n      }\n    };\n\n    xhttp.open(opts.method, opts.host + '/' + opts.path, true);\n    for (var header in opts.headers){\n      var headerValue = opts.headers[header];\n      xhttp.setRequestHeader(header, headerValue)\n    }\n    xhttp.send(opts.body);\n  },\n\n  /**\n   * Handle an error that occurred while making a request\n   * @param {Object} err an error instance to log\n   * @private\n   */\n  handleError: function (err, callback) {\n    if (callback) return callback(err);\n  },\n\n  /**\n   * Generate a session ID to be returned with all of the searches made by this geocoder instance\n   * ID is random and cannot be tracked across sessions\n   * @private\n   */\n  generateSessionID: function () {\n    return nanoid();\n  },\n\n  /**\n   * Get a user agent string to send with the request to the events service\n   * @private\n   */\n  getUserAgent: function () {\n    return 'mapbox-gl-geocoder.' + this.version + \".\" + navigator.userAgent;\n  },\n\n  /**\n     * Get the 0-based numeric index of the item that the user selected out of the list of options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a Mapbox-GL-Geocoder instance\n     * @returns {Number} the index of the selected result\n     */\n  getSelectedIndex: function(selected, geocoder){\n    if (!geocoder._typeahead) return;\n    var results = geocoder._typeahead.data;\n    var selectedID = selected.id;\n    var resultIDs = results.map(function (feature) {\n      return feature.id;\n    });\n    var selectedIdx = resultIDs.indexOf(selectedID);\n    return selectedIdx;\n  },\n\n  /**\n     * Check whether events should be logged\n     * Clients using a localGeocoder or an origin other than mapbox should not have events logged\n     * @private\n     */\n  shouldEnableLogging: function(options){\n    if (options.enableEventLogging === false) return false;\n    if (options.origin && options.origin.indexOf('api.mapbox.com') == -1) return false;\n    // hard to make sense of events when a local instance is suplementing results from origin\n    if (options.localGeocoder) return false;\n    // hard to make sense of events when a custom filter is in use\n    if (options.filter) return false;\n    return true;\n  },\n\n  /**\n   * Flush out the event queue by sending events to the events service\n   * @private\n   */\n  flush: function(){\n    if (this.eventQueue.length > 0){\n      this.send(this.eventQueue);\n      this.eventQueue = new Array();\n    }\n    // //reset the timer\n    if (this.timer)  clearTimeout(this.timer);\n    if (this.flushInterval) this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n  },\n\n  /**\n   * Push event into the pending queue\n   * @param {Object} evt the event to send to the events service\n   * @param {Boolean} forceFlush indicates that the event queue should be flushed after adding this event regardless of size of the queue\n   * @private\n   */\n  push: function(evt, forceFlush){\n    this.eventQueue.push(evt);\n    if (this.eventQueue.length >= this.maxQueueSize || forceFlush){\n      this.flush();\n    }\n  },\n\n  /**\n   * Flush any remaining events from the queue before it is removed\n   * @private\n   */\n  remove: function(){\n    this.flush();\n  }\n}\n\n\n\nmodule.exports = MapboxEventManager;\n","'use strict';\n\n/**\n * Localized values for the placeholder string\n * \n * @private\n */\nvar placeholder = {\n    // list drawn from https://docs.mapbox.com/api/search/#language-coverage\n  'de': 'Suche', // german\n  'it': 'Ricerca', //italian\n  'en': 'Search', // english\n  'nl': 'Zoeken', //dutch\n  'fr': 'Chercher',  //french\n  'ca': 'Cerca', //catalan\n  'he': 'לחפש', //hebrew\n  'ja': 'サーチ',  //japanese\n  'lv': 'Meklēt', //latvian\n  'pt': 'Procurar', //portuguese \n  'sr': 'Претрага', //serbian\n  'zh': '搜索', //chinese-simplified\n  'cs': 'Vyhledávání', //czech\n  'hu': 'Keresés', //hungarian\n  'ka': 'ძიება', // georgian\n  'nb': 'Søke', //norwegian\n  'sk': 'Vyhľadávanie', //slovak\n  'th': 'ค้นหา', //thai\n  'fi': 'Hae',//finnish\n  'is': 'Leita',//icelandic\n  'ko': '수색',//korean\n  'pl':  'Szukaj', //polish\n  'sl': 'Iskanje' //slovenian\n}\n\nmodule.exports = {placeholder: placeholder};","!function(root, name, make) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = make()\r\n  else root[name] = make()\r\n}(this, 'subtag', function() {\r\n\r\n  var empty = ''\r\n  var pattern = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/\r\n\r\n  function match(tag) {\r\n    return tag.match(pattern) || []\r\n  }\r\n\r\n  function split(tag) {\r\n    return match(tag).filter(function(v, i) { return v && i })\r\n  }\r\n\r\n  function api(tag) {\r\n    tag = match(tag)\r\n    return {\r\n      language: tag[1] || empty,\r\n      extlang: tag[2] || empty,\r\n      script: tag[3] || empty,\r\n      region: tag[4] || empty\r\n    }\r\n  }\r\n\r\n  function expose(target, key, value) {\r\n    Object.defineProperty(target, key, {\r\n      value: value,\r\n      enumerable: true\r\n    })\r\n  }\r\n\r\n  function part(position, pattern, type) {\r\n    function method(tag) {\r\n      return match(tag)[position] || empty\r\n    }\r\n    expose(method, 'pattern', pattern)\r\n    expose(api, type, method)\r\n  }\r\n\r\n  part(1, /^[a-zA-Z]{2,3}$/, 'language')\r\n  part(2, /^[a-zA-Z]{3}$/, 'extlang')\r\n  part(3, /^[a-zA-Z]{4}$/, 'script')\r\n  part(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, 'region')\r\n\r\n  expose(api, 'split', split)\r\n\r\n  return api\r\n});\r\n","'use strict';\n\nvar Typeahead = require('suggestions');\nvar debounce = require('lodash.debounce');\nvar extend = require('xtend');\nvar EventEmitter = require('events').EventEmitter;\nvar exceptions = require('./exceptions');\nvar MapboxClient = require('@mapbox/mapbox-sdk');\nvar mbxGeocoder = require('@mapbox/mapbox-sdk/services/geocoding');\nvar MapboxEventManager = require('./events');\nvar localization = require('./localization');\nvar subtag = require('subtag');\n\n/**\n * A geocoder component using Mapbox Geocoding API\n * @class MapboxGeocoder\n * @param {Object} options\n * @param {String} options.accessToken Required.\n * @param {String} options.origin Use to set a custom API origin. Defaults to https://api.mapbox.com.\n * @param {Object} [options.mapboxgl] A [mapbox-gl](https://github.com/mapbox/mapbox-gl-js) instance to use when creating [Markers](https://docs.mapbox.com/mapbox-gl-js/api/#marker). Required if `options.marker` is true.\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n * @param {Boolean|Object} [options.flyTo] If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, the object will be passed to the map method to specify a custom animation when a result is selected.\n * @param {String} [options.placeholder=\"Search\"] Override the default placeholder attribute value.\n * @param {Object} [options.proximity] a proximity argument: this is\n * a geographical point given as an object with latitude and longitude\n * properties. Search results closer to this point will be given\n * higher priority.\n * @param {Boolean} [options.trackProximity=true] If true, the geocoder proximity will automatically update based on the map view.\n * @param {Boolean} [options.collapsed=false] If true, the geocoder control will collapse until hovered or in focus.\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If true, the geocoder control will clear it's contents and blur when user presses the escape key.\n * @param {Boolean} [options.clearOnBlur=false] If true, the geocoder control will clear its value when the input blurs.\n * @param {Array} [options.bbox] a bounding box argument: this is\n * a bounding box given as an array in the format [minX, minY, maxX, maxY].\n * Search results will be limited to the bounding box.\n * @param {string} [options.countries] a comma separated list of country codes to\n * limit results to specified country or countries.\n * @param {string} [options.types] a comma seperated list of types that filter\n * results to match those specified. See https://docs.mapbox.com/api/search/#data-types\n * for available types.\n * If reverseGeocode is enabled, you should specify one type. If you configure more than one type, the first type will be used.\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\n * @param {Number} [options.limit=5] Maximum number of results to show.\n * @param {string} [options.language] Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n * @param {Function} [options.filter] A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n * @param {Function} [options.localGeocoder] A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format.\n * @param {'distance'|'score'} [options.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @param {boolean} [options.reverseGeocode] Enable reverse geocoding. Defaults to false. Expects coordinates to be lat, lon.\n * @param {Boolean} [options.enableEventLogging=true] Allow Mapbox to collect anonymous usage statistics from the plugin\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set.\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. Accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object  as input and return a string. Any html in the returned string will be rendered.\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object  as input and return a string. HTML tags in the output string will not be rendered.\n * @example\n * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n * map.addControl(geocoder);\n * @return {MapboxGeocoder} `this`\n *\n */\n\nfunction MapboxGeocoder(options) {\n  this._eventEmitter = new EventEmitter();\n  this.options = extend({}, this.options, options);\n  this.inputString = '';\n  this.fresh = true;\n  this.lastSelected = null;\n}\n\nMapboxGeocoder.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: true,\n    trackProximity: true,\n    minLength: 2,\n    reverseGeocode: false,\n    limit: 5,\n    origin: 'https://api.mapbox.com',\n    enableEventLogging: true,\n    marker: true,\n    mapboxgl: null,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    getItemValue: function(item) {\n      return item.place_name\n    },\n    render: function(item) {\n      var placeName = item.place_name.split(',');\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + placeName[0]+ '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + placeName.splice(1, placeName.length).join(',') + '</div></div>';\n    }\n  },\n\n  onAdd: function(map) {\n    this._map = map;\n\n    this.setLanguage();\n\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n\n    this.eventManager = new MapboxEventManager(this.options);\n\n    this._onChange = this._onChange.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._showButton = this._showButton.bind(this);\n    this._hideButton = this._hideButton.bind(this);\n    this._onQueryResult = this._onQueryResult.bind(this);\n    this.clear = this.clear.bind(this);\n    this._updateProximity = this._updateProximity.bind(this);\n    this._collapse = this._collapse.bind(this);\n    this._unCollapse = this._unCollapse.bind(this);\n    this._clear = this._clear.bind(this);\n    this._clearOnBlur = this._clearOnBlur.bind(this);\n\n    var el = (this.container = document.createElement('div'));\n    el.className = 'mapboxgl-ctrl-geocoder mapboxgl-ctrl';\n\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>')\n\n    this._inputEl = document.createElement('input');\n    this._inputEl.type = 'text';\n    this._inputEl.className = 'mapboxgl-ctrl-geocoder--input';\n\n    this.setPlaceholder();\n\n    if (this.options.collapsed) {\n      this._collapse();\n      this.container.addEventListener('mouseenter', this._unCollapse);\n      this.container.addEventListener('mouseleave', this._collapse);\n      this._inputEl.addEventListener('focus', this._unCollapse);\n    }\n\n    if (this.options.collapsed || this.options.clearOnBlur) {\n      this._inputEl.addEventListener('blur', this._onBlur);\n    }\n\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\n    this._inputEl.addEventListener('change', this._onChange);\n    this.container.addEventListener('mouseenter', this._showButton);\n    this.container.addEventListener('mouseleave', this._hideButton);\n    this._inputEl.addEventListener('keyup', function(e){\n      this.eventManager.keyevent(e, this);\n    }.bind(this));\n\n    var actions = document.createElement('div');\n    actions.classList.add('mapboxgl-ctrl-geocoder--pin-right');\n\n    this._clearEl = document.createElement('button');\n    this._clearEl.setAttribute('aria-label', 'Clear');\n    this._clearEl.addEventListener('click', this.clear);\n    this._clearEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>')\n    this._clearEl.appendChild(buttonIcon);\n\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\n\n    actions.appendChild(this._clearEl);\n    actions.appendChild(this._loadingEl);\n\n    el.appendChild(searchIcon);\n    el.appendChild(this._inputEl);\n    el.appendChild(actions);\n\n    this._typeahead = new Typeahead(this._inputEl, [], {\n      filter: false,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    });\n\n    this.setRenderFunction(this.options.render);\n    this._typeahead.getItemValue = this.options.getItemValue;\n\n    if (this.options.trackProximity) {\n      this._updateProximity();\n      this._map.on('moveend', this._updateProximity);\n    }\n\n    this.mapMarker = null;\n    this._handleMarker = this._handleMarker.bind(this);\n\n    this._mapboxgl = this.options.mapboxgl;\n    if (!this._mapboxgl && this.options.marker) {\n      console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\");\n      this.options.marker = false;\n    }\n\n    return el;\n  },\n\n  createIcon: function(name, path) {\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    icon.setAttribute('class', 'mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-' + name);\n    icon.setAttribute('viewBox', '0 0 18 18');\n    icon.setAttribute('xml:space','preserve');\n    icon.setAttribute('width', 18);\n    icon.setAttribute('height', 18);\n    icon.innerHTML = path;\n    return icon;\n  },\n\n  onRemove: function() {\n    this.container.parentNode.removeChild(this.container);\n\n    if (this.options.trackProximity) {\n      this._map.off('moveend', this._updateProximity);\n    }\n\n    this._removeMarker();\n\n    this._map = null;\n\n    return this;\n  },\n\n  _onKeyDown: function(e) {\n    var ESC_KEY_CODE = 27,\n      TAB_KEY_CODE = 9;\n\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\n      this._clear(e);\n      return this._inputEl.blur();\n    }\n\n    // if target has shadowRoot, then get the actual active element inside the shadowRoot\n    var target = e.target && e.target.shadowRoot\n      ? e.target.shadowRoot.activeElement\n      : e.target;\n    var value = target ? target.value : '';\n    if (!value) {\n      this.fresh = true;\n      // the user has removed all the text\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\n      return (this._clearEl.style.display = 'none');\n    }\n\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1)\n      return;\n\n    if (target.value.length >= this.options.minLength) {\n      this._geocode(target.value);\n    }\n  },\n\n  _showButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'block';\n  },\n\n  _hideButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'none';\n  },\n\n  _onBlur: function(e) {\n    if (this.options.clearOnBlur) {\n      this._clearOnBlur(e);\n    }\n    if (this.options.collapsed) {\n      this._collapse();\n    }\n  },\n  _onChange: function() {\n    var selected = this._typeahead.selected;\n    if (selected  && selected.id !== this.lastSelected) {\n      this._clearEl.style.display = 'none';\n      if (this.options.flyTo) {\n        var flyOptions;\n        if (selected.properties && !exceptions[selected.properties.short_code] && selected.bbox) {\n          var bbox = selected.bbox;\n          flyOptions = extend({}, this.options.flyTo);\n          this._map.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], flyOptions);\n        } else if (selected.properties && exceptions[selected.properties.short_code]) {\n          // Certain geocoder search results return (and therefore zoom to fit)\n          // an unexpectedly large bounding box: for example, both Russia and the\n          // USA span both sides of -180/180, or France includes the island of\n          // Reunion in the Indian Ocean. An incomplete list of these exceptions\n          // at ./exceptions.json provides \"reasonable\" bounding boxes as a\n          // short-term solution; this may be amended as necessary.\n          flyOptions = extend({}, this.options.flyTo);\n          this._map.fitBounds(exceptions[selected.properties.short_code].bbox, flyOptions);\n        } else {\n          var defaultFlyOptions = {\n            zoom: this.options.zoom\n          }\n          flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);\n          //  ensure that center is not overriden by custom options\n          flyOptions.center = selected.center;\n          this._map.flyTo(flyOptions);\n        }\n      }\n      if (this.options.marker && this._mapboxgl){\n        this._handleMarker(selected);\n      }\n\n      // After selecting a feature, re-focus the textarea and set\n      // cursor at start.\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n\n      this._eventEmitter.emit('result', { result: selected });\n      this.eventManager.select(selected, this);\n      this.lastSelected = selected.id;\n    }\n  },\n\n  _geocode: function(searchInput) {\n    this._loadingEl.style.display = 'block';\n    this._eventEmitter.emit('loading', { query: searchInput });\n    this.inputString = searchInput;\n    // Possible config proprerties to pass to client\n    var keys = [\n      'bbox',\n      'limit',\n      'proximity',\n      'countries',\n      'types',\n      'language',\n      'reverseMode'\n    ];\n    var self = this;\n    // Create config object\n    var config = keys.reduce(function(config, key) {\n      if (self.options[key]) {\n        // countries, types, and language need to be passed in as arrays to client\n        // https://github.com/mapbox/mapbox-sdk-js/blob/master/services/geocoding.js#L38-L47\n        ['countries', 'types', 'language'].indexOf(key) > -1\n          ? (config[key] = self.options[key].split(/[\\s,]+/))\n          : (config[key] = self.options[key]);\n\n        if (key === 'proximity' && self.options[key] && self.options[key].longitude && self.options[key].latitude) {\n          config[key] = [self.options[key].longitude, self.options[key].latitude]\n        }\n      }\n      return config;\n    }, {});\n\n    var request;\n    // check if searchInput resembles coordinates, and if it does,\n    // make the request a reverseGeocode\n    if (\n      this.options.reverseGeocode &&\n      /(-?\\d+\\.?\\d*)[, ]+(-?\\d+\\.?\\d*)[ ]*$/.test(searchInput)\n    ) {\n      // parse coordinates\n      var coords = searchInput.split(/[\\s(,)?]+/).map(function(c) {\n        return parseFloat(c, 10);\n      }).reverse();\n\n      // client only accepts one type for reverseGeocode, so\n      // use first config type if one, if not default to poi\n      config.types ? [config.types[0]] : [\"poi\"];\n      config = extend(config, { query: coords, limit: 1 });\n      request = this.geocoderService.reverseGeocode(config).send();\n    } else {\n      config = extend(config, { query: searchInput });\n      request = this.geocoderService.forwardGeocode(config).send();\n    }\n\n    var localGeocoderRes = [];\n    if (this.options.localGeocoder) {\n      localGeocoderRes = this.options.localGeocoder(searchInput);\n      if (!localGeocoderRes) {\n        localGeocoderRes = [];\n      }\n    }\n\n    request.then(\n      function(response) {\n        this._loadingEl.style.display = 'none';\n\n        var res = {};\n\n        if (response.statusCode == '200') {\n          res = response.body;\n        }\n\n        res.config = config;\n        if (this.fresh){\n          this.eventManager.start(this);\n          this.fresh = false;\n        }\n\n        // supplement Mapbox Geocoding API results with locally populated results\n        res.features = res.features\n          ? localGeocoderRes.concat(res.features)\n          : localGeocoderRes;\n\n        // apply results filter if provided\n        if (this.options.filter && res.features.length) {\n          res.features = res.features.filter(this.options.filter);\n        }\n\n        if (res.features.length) {\n          this._clearEl.style.display = 'block';\n          this._eventEmitter.emit('results', res);\n          this._typeahead.update(res.features);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderNoResults();\n          this._eventEmitter.emit('results', res);\n        }\n\n      }.bind(this)\n    );\n\n    request.catch(\n      function(err) {\n        this._loadingEl.style.display = 'none';\n\n        // in the event of an error in the Mapbox Geocoding API still display results from the localGeocoder\n        if (localGeocoderRes.length && this.options.localGeocoder) {\n          this._clearEl.style.display = 'block';\n          this._typeahead.update(localGeocoderRes);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderError();\n        }\n\n        this._eventEmitter.emit('results', { features: localGeocoderRes });\n        this._eventEmitter.emit('error', { error: err });\n      }.bind(this)\n    );\n\n    return request;\n  },\n\n  /**\n   * Shared logic for clearing input\n   * @param {Event} [ev] the event that triggered the clear, if available\n   * @private\n   *\n   */\n  _clear: function(ev) {\n    if (ev) ev.preventDefault();\n    this._inputEl.value = '';\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    this._clearEl.style.display = 'none';\n    this._removeMarker();\n    this.lastSelected = null;\n    this._eventEmitter.emit('clear');\n    this.fresh = true;\n  },\n\n  /**\n   * Clear and then focus the input.\n   * @param {Event} [ev] the event that triggered the clear, if available\n   *\n   */\n  clear: function(ev) {\n    this._clear(ev);\n    this._inputEl.focus();\n  },\n\n\n  /**\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\n   * constructor option.\n   * @param {Event} [ev] the blur event\n   * @private\n   */\n  _clearOnBlur: function(ev) {\n    var ctx = this;\n\n    /**\n    * If relatedTarget is not found, assume user targeted the suggestions list.\n    * In that case, do not clear on blur. There are other edge cases where\n    * ev.relatedTarget could be null. Clicking on list always results in null\n    * relatedtarget because of upstream behavior in `suggestions`.\n    *\n    * The ideal solution would be to check if ev.relatedTarget is a child of\n    * the list. See issue #258 for details on why we can't do that yet.\n    */\n    if (ev.relatedTarget) {\n      ctx._clear(ev);\n    }\n  },\n\n  _onQueryResult: function(response) {\n    var results = response.body;\n    if (!results.features.length) return;\n    var result = results.features[0];\n    this._typeahead.selected = result;\n    this._inputEl.value = result.place_name;\n    this._onChange();\n  },\n\n  _updateProximity: function() {\n    // proximity is designed for local scale, if the user is looking at the whole world,\n    // it doesn't make sense to factor in the arbitrary centre of the map\n    if (this._map.getZoom() > 9) {\n      var center = this._map.getCenter().wrap();\n      this.setProximity({ longitude: center.lng, latitude: center.lat });\n    } else {\n      this.setProximity(null);\n    }\n  },\n\n  _collapse: function() {\n    // do not collapse if input is in focus\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  _unCollapse: function() {\n    this.container.classList.remove('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  /**\n   * Set & query the input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  query: function(searchInput) {\n    this._geocode(searchInput).then(this._onQueryResult);\n    return this;\n  },\n\n  _renderError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderNoResults: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\";\n    this._renderMessage(errorMessage);\n  },\n\n  _renderMessage: function(msg){\n    this._typeahead.update([]);\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._typeahead.renderError(msg);\n  },\n\n  /**\n   * Get the text to use as the search bar placeholder\n   *\n   * If placeholder is provided in options, then use options.placeholder\n   * Otherwise, if language is provided in options, then use the localized string of the first language if available\n   * Otherwise use the default\n   *\n   * @returns {String} the value to use as the search bar placeholder\n   * @private\n   */\n  _getPlaceholderText: function(){\n    if (this.options.placeholder) return this.options.placeholder;\n    if (this.options.language){\n      var firstLanguage = this.options.language.split(\",\")[0];\n      var language = subtag.language(firstLanguage);\n      var localizedValue = localization.placeholder[language];\n      if (localizedValue)  return localizedValue;\n    }\n    return 'Search';\n  },\n\n  /**\n   * Set input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  setInput: function(searchInput) {\n    // Set input value to passed value and clear everything else.\n    this._inputEl.value = searchInput;\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    return this;\n  },\n\n  /**\n   * Set proximity\n   * @param {Object} proximity The new options.proximity value. This is a geographical point given as an object with latitude and longitude properties.\n   * @returns {MapboxGeocoder} this\n   */\n  setProximity: function(proximity) {\n    this.options.proximity = proximity;\n    return this;\n  },\n\n  /**\n   * Get proximity\n   * @returns {Object} The geocoder proximity\n   */\n  getProximity: function() {\n    return this.options.proximity;\n  },\n\n  /**\n   * Set the render function used in the results dropdown\n   * @param {Function} fn The function to use as a render function. This function accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and returns a string.\n   * @returns {MapboxGeocoder} this\n   */\n  setRenderFunction: function(fn){\n    if (fn && typeof(fn) == \"function\"){\n      this._typeahead.render = fn;\n    }\n    return this;\n  },\n\n  /**\n   * Get the function used to render the results dropdown\n   *\n   * @returns {Function} the render function\n   */\n  getRenderFunction: function(){\n    return this._typeahead.render;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   *\n   * Look first at the explicitly set options otherwise use the browser's language settings\n   * @param {String} language Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n   * @returns {MapboxGeocoder} this\n   */\n  setLanguage: function(language){\n    var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    this.options.language = language || this.options.language || browserLocale;\n    return this;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   * @returns {String} The language(s) used by the plugin, if any\n   */\n  getLanguage: function(){\n    return this.options.language;\n  },\n\n  /**\n   * Get the zoom level the map will move to when there is no bounding box on the selected result\n   * @returns {Number} the map zoom\n   */\n  getZoom: function(){\n    return this.options.zoom;\n  },\n\n  /**\n   * Set the zoom level\n   * @param {Number} zoom The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n   * @returns {MapboxGeocoder} this\n   */\n  setZoom: function(zoom){\n    this.options.zoom = zoom;\n    return this;\n  },\n\n  /**\n   * Get the parameters used to fly to the selected response, if any\n   * @returns {MapboxGeocoder} this\n   */\n  getFlyTo: function(){\n    return this.options.flyTo;\n  },\n\n  /**\n   * Set the flyTo options\n   * @param {Object|Boolean} flyTo  If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, the object will be passed to the flyTo map method to specify a custom animation.\n   */\n  setFlyTo: function(flyTo){\n    this.options.flyTo = flyTo;\n    return this;\n  },\n\n  /**\n   * Get the value of the placeholder string\n   * @returns {String} The input element's placeholder value\n   */\n  getPlaceholder: function(){\n    return this.options.placeholder;\n  },\n\n  /**\n   * Set the value of the input element's placeholder\n   * @param {String} placeholder the text to use as the input element's placeholder\n   * @returns {MapboxGeocoder} this\n   */\n  setPlaceholder: function(placeholder){\n    this.placeholder = (placeholder) ? placeholder : this._getPlaceholderText();\n    this._inputEl.placeholder = this.placeholder;\n    return this\n  },\n\n  /**\n   * Get the bounding box used by the plugin\n   * @returns {Array<Number>} the bounding box, if any\n   */\n  getBbox: function(){\n    return this.options.bbox;\n  },\n\n  /**\n   * Set the bounding box to limit search results to\n   * @param {Array<Number>} bbox a bounding box given as an array in the format [minX, minY, maxX, maxY].\n   * @returns {MapboxGeocoder} this\n   */\n  setBbox: function(bbox){\n    this.options.bbox = bbox;\n    return this;\n  },\n\n  /**\n   * Get a list of the countries to limit search results to\n   * @returns {String} a comma separated list of countries to limit to, if any\n   */\n  getCountries: function(){\n    return this.options.countries;\n  },\n\n  /**\n   * Set the countries to limit search results to\n   * @param {String} countries a comma separated list of countries to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setCountries: function(countries){\n    this.options.countries = countries;\n    return this;\n  },\n\n  /**\n   * Get a list of the types to limit search results to\n   * @returns {String} a comma separated list of types to limit to\n   */\n  getTypes: function(){\n    return this.options.types;\n  },\n\n  /**\n   * Set the types to limit search results to\n   * @param {String} countries a comma separated list of types to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setTypes: function(types){\n    this.options.types = types;\n    return this;\n  },\n\n  /**\n   * Get the minimum number of characters typed to trigger results used in the plugin\n   * @returns {Number} The minimum length in characters before a search is triggered\n   */\n  getMinLength: function(){\n    return this.options.minLength;\n  },\n\n  /**\n   * Set the minimum number of characters typed to trigger results used by the plugin\n   * @param {Number} minLength the minimum length in characters\n   * @returns {MapboxGeocoder} this\n   */\n  setMinLength: function(minLength){\n    this.options.minLength = minLength;\n    if (this._typeahead)  this._typeahead.minLength = minLength;\n    return this;\n  },\n\n  /**\n   * Get the limit value for the number of results to display used by the plugin\n   * @returns {Number} The limit value for the number of results to display used by the plugin\n   */\n  getLimit: function(){\n    return this.options.limit;\n  },\n\n  /**\n   * Set the limit value for the number of results to display used by the plugin\n   * @param {Number} limit the number of search results to return\n   * @returns {MapboxGeocoder}\n   */\n  setLimit: function(limit){\n    this.options.limit = limit;\n    if (this._typeahead) this._typeahead.options.limit = limit;\n    return this;\n  },\n\n  /**\n   * Get the filter function used by the plugin\n   * @returns {Function} the filter function\n   */\n  getFilter: function(){\n    return this.options.filter;\n  },\n\n  /**\n   * Set the filter function used by the plugin.\n   * @param {Function} filter A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n   * @returns {MapboxGeocoder} this\n   */\n  setFilter: function(filter){\n    this.options.filter = filter;\n    return this;\n  },\n\n  /**\n   * Handle the placement of a result marking the selected result\n   * @private\n   * @param {Object} selected the selected geojson feature\n   * @returns {MapboxGeocoder} this\n   */\n  _handleMarker: function(selected){\n    // clean up any old marker that might be present\n    this._removeMarker();\n    var defaultMarkerOptions = {\n      color: '#4668F2'\n    }\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker)\n    this.mapMarker = new this._mapboxgl.Marker(markerOptions);\n    this.mapMarker\n      .setLngLat(selected.center)\n      .addTo(this._map);\n    return this;\n  },\n\n  /**\n   * Handle the removal of a result marker\n   * @private\n   */\n  _removeMarker: function(){\n    if (this.mapMarker){\n      this.mapMarker.remove();\n      this.mapMarker = null;\n    }\n  },\n\n  /**\n   * Subscribe to events that happen within the plugin.\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\n   *\n   * - __clear__ `Emitted when the input is cleared`\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\n   * - __results__ `{ results } Fired when the geocoder returns a response`\n   * - __result__ `{ result } Fired when input is set`\n   * - __error__ `{ error } Error as string`\n   * @param {Function} fn function that's called when the event is emitted.\n   * @returns {MapboxGeocoder} this;\n   */\n  on: function(type, fn) {\n    this._eventEmitter.on(type, fn);\n    return this;\n  },\n\n  /**\n   * Remove an event\n   * @returns {MapboxGeocoder} this\n   * @param {String} type Event name.\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\n   */\n  off: function(type, fn) {\n    this._eventEmitter.removeListener(type, fn);\n    this.eventManager.remove();\n    return this;\n  }\n};\n\nmodule.exports = MapboxGeocoder;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as vec4 from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\n//# sourceMappingURL=math-utils.js.map","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  var trace = mat[0] + mat[5] + mat[10];\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if (mat[0] > mat[5] && mat[0] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2));\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'viewport-mercator-project: assertion failed.');\n  }\n}\n//# sourceMappingURL=assert.js.map","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createMat4, transformVector } from './math-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEFAULT_ALTITUDE = 1.5;\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nexport function scaleToZoom(scale) {\n  return Math.log2(scale);\n}\nexport function lngLatToWorld(_ref, scale) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  assert(Number.isFinite(lng) && Number.isFinite(scale));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  scale *= TILE_SIZE;\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = scale * (lambda2 + PI) / (2 * PI);\n  var y = scale * (PI - Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nexport function worldToLngLat(_ref3, scale) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  scale *= TILE_SIZE;\n  var lambda2 = x / scale * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(PI - y / scale * (2 * PI))) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nexport function getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nexport function getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      zoom = _ref6.zoom,\n      scale = _ref6.scale,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  scale = scale !== undefined ? scale : zoomToScale(zoom);\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude) && Number.isFinite(scale));\n  var result = {};\n  var worldSize = TILE_SIZE * scale;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var pixelsPerDegreeX = worldSize / 360;\n  var pixelsPerDegreeY = pixelsPerDegreeX / latCosine;\n  var altPixelsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.pixelsPerMeter = [altPixelsPerMeter, -altPixelsPerMeter, altPixelsPerMeter];\n  result.metersPerPixel = [1 / altPixelsPerMeter, -1 / altPixelsPerMeter, 1 / altPixelsPerMeter];\n  result.pixelsPerDegree = [pixelsPerDegreeX, -pixelsPerDegreeY, altPixelsPerMeter];\n  result.degreesPerPixel = [1 / pixelsPerDegreeX, -1 / pixelsPerDegreeY, 1 / altPixelsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var pixelsPerDegreeY2 = pixelsPerDegreeX * latCosine2 / 2;\n    var altPixelsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altPixelsPerMeter2 = altPixelsPerDegree2 / pixelsPerDegreeY * altPixelsPerMeter;\n    result.pixelsPerDegree2 = [0, -pixelsPerDegreeY2, altPixelsPerDegree2];\n    result.pixelsPerMeter2 = [altPixelsPerMeter2, 0, altPixelsPerMeter2];\n  }\n\n  return result;\n}\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var scale = 1;\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    scale: scale,\n    highPrecision: true\n  }),\n      pixelsPerMeter = _getDistanceScales.pixelsPerMeter,\n      pixelsPerMeter2 = _getDistanceScales.pixelsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ, scale);\n  worldspace[0] += x * (pixelsPerMeter[0] + pixelsPerMeter2[0] * y);\n  worldspace[1] += y * (pixelsPerMeter[1] + pixelsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace, scale);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nexport function getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center,\n      _ref7$flipY = _ref7.flipY,\n      flipY = _ref7$flipY === void 0 ? false : _ref7$flipY;\n  var vm = createMat4();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.scale(vm, vm, [1, 1, 1 / height]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n\n  if (flipY) {\n    mat4.scale(vm, vm, [1, -1, 1]);\n  }\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\nexport function getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$altitude = _ref8.altitude,\n      altitude = _ref8$altitude === void 0 ? DEFAULT_ALTITUDE : _ref8$altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var halfFov = Math.atan(0.5 / altitude);\n  var topHalfSurfaceDistance = Math.sin(halfFov) * altitude / Math.sin(Math.PI / 2 - pitchRadians - halfFov);\n  var farZ = Math.cos(Math.PI / 2 - pitchRadians) * topHalfSurfaceDistance + altitude;\n  return {\n    fov: 2 * Math.atan(height / 2 / altitude),\n    aspect: width / height,\n    focalDistance: altitude,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nexport function getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = _slicedToArray(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = _slicedToArray(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}\n//# sourceMappingURL=web-mercator-utils.js.map","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { createMat4 } from './math-utils';\nimport { worldToPixels, pixelsToWorld } from './web-mercator-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nvar IDENTITY = createMat4();\n\nvar Viewport = function () {\n  function Viewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        width = _ref.width,\n        height = _ref.height,\n        _ref$viewMatrix = _ref.viewMatrix,\n        viewMatrix = _ref$viewMatrix === void 0 ? IDENTITY : _ref$viewMatrix,\n        _ref$projectionMatrix = _ref.projectionMatrix,\n        projectionMatrix = _ref$projectionMatrix === void 0 ? IDENTITY : _ref$projectionMatrix;\n\n    _classCallCheck(this, Viewport);\n\n    this.width = width || 1;\n    this.height = height || 1;\n    this.scale = 1;\n    this.pixelsPerMeter = 1;\n    this.viewMatrix = viewMatrix;\n    this.projectionMatrix = projectionMatrix;\n    var vpm = createMat4();\n    mat4.multiply(vpm, vpm, this.projectionMatrix);\n    mat4.multiply(vpm, vpm, this.viewMatrix);\n    this.viewProjectionMatrix = vpm;\n    var m = createMat4();\n    mat4.scale(m, m, [this.width / 2, -this.height / 2, 1]);\n    mat4.translate(m, m, [1, -1, 0]);\n    mat4.multiply(m, m, this.viewProjectionMatrix);\n    var mInverse = mat4.invert(createMat4(), m);\n\n    if (!mInverse) {\n      throw new Error('Pixel project matrix not invertible');\n    }\n\n    this.pixelProjectionMatrix = m;\n    this.pixelUnprojectionMatrix = mInverse;\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  _createClass(Viewport, [{\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          targetZ = _ref3.targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.pixelsPerMeter;\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = _slicedToArray(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.pixelsPerMeter;\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = _slicedToArray(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) / this.pixelsPerMeter;\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return xyz;\n    }\n  }]);\n\n  return Viewport;\n}();\n\nexport { Viewport as default };\n//# sourceMappingURL=viewport.js.map","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nexport default function fitBounds(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      bounds = _ref.bounds,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n\n  var _bounds = _slicedToArray(bounds, 2),\n      _bounds$ = _slicedToArray(_bounds[0], 2),\n      west = _bounds$[0],\n      south = _bounds$[1],\n      _bounds$2 = _slicedToArray(_bounds[1], 2),\n      east = _bounds$2[0],\n      north = _bounds$2[1];\n\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n\n  var viewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.abs(se[0] - nw[0]), Math.abs(se[1] - nw[1])];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = viewport.zoom + Math.log2(Math.abs(Math.min(scaleX, scaleY)));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}\n//# sourceMappingURL=fit-bounds.js.map","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport Viewport from './viewport';\nimport { zoomToScale, pixelsToWorld, lngLatToWorld, worldToLngLat, getProjectionMatrix, getDistanceScales, getViewMatrix } from './web-mercator-utils';\nimport _fitBounds from './fit-bounds';\nimport * as vec2 from 'gl-matrix/vec2';\n\nvar WebMercatorViewport = function (_Viewport) {\n  _inherits(WebMercatorViewport, _Viewport);\n\n  function WebMercatorViewport() {\n    var _this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude,\n        nearZMultiplier = _ref.nearZMultiplier,\n        farZMultiplier = _ref.farZMultiplier;\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    width = width || 1;\n    height = height || 1;\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var center = lngLatToWorld([longitude, latitude], scale);\n    center[2] = 0;\n    var projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier || 1 / height,\n      farZMultiplier: farZMultiplier || 1.01\n    });\n    var viewMatrix = getViewMatrix({\n      height: height,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude,\n      flipY: true\n    });\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WebMercatorViewport).call(this, {\n      width: width,\n      height: height,\n      viewMatrix: viewMatrix,\n      projectionMatrix: projectionMatrix\n    }));\n    _this.latitude = latitude;\n    _this.longitude = longitude;\n    _this.zoom = zoom;\n    _this.pitch = pitch;\n    _this.bearing = bearing;\n    _this.altitude = altitude;\n    _this.scale = scale;\n    _this.center = center;\n    _this.pixelsPerMeter = getDistanceScales(_assertThisInitialized(_assertThisInitialized(_this))).pixelsPerMeter[2];\n    Object.freeze(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return lngLatToWorld(lngLat, scale);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return worldToLngLat(xy, scale);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref2) {\n      var lngLat = _ref2.lngLat,\n          pos = _ref2.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat, this.scale);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return worldToLngLat(newCenter, this.scale);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref3) {\n      var lngLat = _ref3.lngLat,\n          pos = _ref3.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }]);\n\n  return WebMercatorViewport;\n}(Viewport);\n\nexport { WebMercatorViewport as default };\n//# sourceMappingURL=web-mercator-viewport.js.map","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\nimport { FlyToInterpolator } from 'react-map-gl'\nimport WebMercatorViewport from 'viewport-mercator-project'\n\nconst VALID_POSITIONS = ['top-left', 'top-right', 'bottom-left', 'bottom-right']\n\nclass Geocoder extends PureComponent {\n  geocoder = null\n  cachedResult = null\n\n  componentDidMount() {\n    this.initializeGeocoder()\n  }\n\n  componentWillUnmount() {\n    this.removeGeocoder()\n  }\n\n  componentDidUpdate() {\n    this.removeGeocoder()\n    this.initializeGeocoder()\n  }\n\n  initializeGeocoder = () => {\n    const mapboxMap = this.getMapboxMap()\n    const containerNode = this.getContainerNode()\n    const {\n      mapboxApiAccessToken,\n      inputValue,\n      origin,\n      zoom,\n      placeholder,\n      proximity,\n      trackProximity,\n      collapsed,\n      clearAndBlurOnEsc,\n      clearOnBlur,\n      bbox,\n      types,\n      countries,\n      minLength,\n      limit,\n      language,\n      filter,\n      localGeocoder,\n      reverseGeocode,\n      enableEventLogging,\n      render,\n      getItemValue,\n      onInit,\n      position\n    } = this.props\n    const options = {\n      accessToken: mapboxApiAccessToken,\n      origin,\n      zoom,\n      flyTo: false,\n      placeholder,\n      proximity,\n      trackProximity,\n      collapsed,\n      clearAndBlurOnEsc,\n      clearOnBlur,\n      bbox,\n      types,\n      countries,\n      minLength,\n      limit,\n      language,\n      filter,\n      localGeocoder,\n      reverseGeocode,\n      enableEventLogging,\n      marker: false\n    }\n\n    if (render && typeof render === 'function') {\n      options.render = render\n    }\n\n    if (getItemValue && typeof getItemValue === 'function') {\n      options.getItemValue = getItemValue\n    }\n\n    this.geocoder = new MapboxGeocoder(options)\n    this.subscribeEvents()\n\n    if (containerNode) {\n      containerNode.appendChild(this.geocoder.onAdd(mapboxMap))\n    } else {\n      mapboxMap.addControl(this.geocoder, VALID_POSITIONS.find((_position) => position === _position))\n    }\n\n    if (inputValue !== undefined && inputValue !== null) {\n      this.geocoder.setInput(inputValue)\n    } else if (this.cachedResult) {\n      this.geocoder.setInput(this.cachedResult.place_name)\n    }\n\n    if (this.cachedResult || (inputValue !== undefined && inputValue !== null)) {\n      this.showClearIcon()\n    }\n\n    onInit(this.geocoder)\n  }\n\n  showClearIcon = () => {\n    // this is a hack to force clear icon to show if there is text in the input\n    this.geocoder._clearEl.style.display = 'block'\n  }\n\n  getMapboxMap = () => {\n    const { mapRef } = this.props\n\n    return (mapRef && mapRef.current && mapRef.current.getMap()) || null\n  }\n\n  getContainerNode = () => {\n    const { containerRef } = this.props\n\n    return (containerRef && containerRef.current) || null\n  }\n\n  subscribeEvents = () => {\n    this.geocoder.on('clear', this.handleClear)\n    this.geocoder.on('loading', this.handleLoading)\n    this.geocoder.on('results', this.handleResults)\n    this.geocoder.on('result', this.handleResult)\n    this.geocoder.on('error', this.handleError)\n  }\n\n  unsubscribeEvents = () => {\n    this.geocoder.off('clear', this.handleClear)\n    this.geocoder.off('loading', this.handleLoading)\n    this.geocoder.off('results', this.handleResults)\n    this.geocoder.off('result', this.handleResult)\n    this.geocoder.off('error', this.handleError)\n  }\n\n  removeGeocoder = () => {\n    const mapboxMap = this.getMapboxMap()\n\n    this.unsubscribeEvents()\n\n    if (mapboxMap && mapboxMap.removeControl) {\n      this.getMapboxMap().removeControl(this.geocoder)\n    }\n\n    this.geocoder = null\n  }\n\n  handleClear = () => {\n    this.cachedResult = null\n    this.props.onClear()\n  }\n\n  handleLoading = (event) => {\n    this.props.onLoading(event)\n  }\n\n  handleResults = (event) => {\n    this.props.onResults(event)\n  }\n\n  handleResult = (event) => {\n    const { result } = event\n    const { onViewportChange, onResult } = this.props\n    const { bbox, center, properties = {} } = result\n    const { short_code } = properties\n    const [longitude, latitude] = center\n    const bboxExceptions = {\n      fr: {\n        name: 'France',\n        bbox: [[-4.59235, 41.380007], [9.560016, 51.148506]]\n      },\n      us: {\n        name: 'United States',\n        bbox: [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n      },\n      ru: {\n        name: 'Russia',\n        bbox: [[19.66064, 41.151416], [190.10042, 81.2504]]\n      },\n      ca: {\n        name: 'Canada',\n        bbox: [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n      }\n    }\n    const { width, height } = this.getMapboxMap()\n      .getContainer()\n      .getBoundingClientRect()\n    let zoom = this.geocoder.options.zoom\n    const fitBounds = (bounds, viewport) => new WebMercatorViewport(viewport).fitBounds(bounds)\n\n    try {\n      if (!bboxExceptions[short_code] && bbox) {\n        zoom = fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], { width, height }).zoom\n      } else if (bboxExceptions[short_code]) {\n        zoom = fitBounds(bboxExceptions[short_code].bbox, { width, height }).zoom\n      }\n    } catch (e) {\n      console.warn('following result caused an error when trying to zoom to bbox: ', result) // eslint-disable-line\n      zoom = this.geocoder.options.zoom\n    }\n\n    onViewportChange({\n      longitude,\n      latitude,\n      zoom,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionDuration: 3000\n    })\n    onResult(event)\n\n    this.cachedResult = result\n    this.geocoder._typeahead.selected = null\n    this.showClearIcon()\n  }\n\n  handleError = (event) => {\n    this.props.onError(event)\n  }\n\n  getGeocoder() {\n    return this.geocoder\n  }\n\n  render() {\n    return null\n  }\n\n  static propTypes = {\n    mapRef: PropTypes.object.isRequired,\n    containerRef: PropTypes.object,\n    onViewportChange: PropTypes.func,\n    mapboxApiAccessToken: PropTypes.string.isRequired,\n    inputValue: PropTypes.string,\n    origin: PropTypes.string,\n    zoom: PropTypes.number,\n    placeholder: PropTypes.string,\n    proximity: PropTypes.object,\n    trackProximity: PropTypes.bool,\n    collapsed: PropTypes.bool,\n    clearAndBlurOnEsc: PropTypes.bool,\n    clearOnBlur: PropTypes.bool,\n    bbox: PropTypes.array,\n    types: PropTypes.string,\n    countries: PropTypes.string,\n    minLength: PropTypes.number,\n    limit: PropTypes.number,\n    language: PropTypes.string,\n    filter: PropTypes.func,\n    localGeocoder: PropTypes.func,\n    reverseGeocode: PropTypes.bool,\n    enableEventLogging: PropTypes.bool,\n    render: PropTypes.func,\n    getItemValue: PropTypes.func,\n    position: PropTypes.oneOf(VALID_POSITIONS),\n    onInit: PropTypes.func,\n    onClear: PropTypes.func,\n    onLoading: PropTypes.func,\n    onResults: PropTypes.func,\n    onResult: PropTypes.func,\n    onError: PropTypes.func\n  }\n\n  static defaultProps = {\n    onViewportChange: () => {},\n    origin: 'https://api.mapbox.com',\n    zoom: 16,\n    placeholder: 'Search',\n    trackProximity: false,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    minLength: 2,\n    limit: 5,\n    reverseGeocode: false,\n    enableEventLogging: true,\n    position: 'top-right',\n    onInit: () => {},\n    onClear: () => {},\n    onLoading: () => {},\n    onResults: () => {},\n    onResult: () => {},\n    onError: () => {}\n  }\n}\n\nexport default Geocoder\n"]},"metadata":{},"sourceType":"module"}