{"ast":null,"code":"var _jsxFileName = \"/Users/garrettmillar/pandemic_dashboard/src/App.js\";\nimport React, { useState, useRef, useCallback, Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport mapboxgl from 'mapbox-gl';\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport MapGL, { NavigationControl, Marker, Popup } from \"react-map-gl\";\nimport { render } from \"react-dom\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport { Icon } from \"semantic-ui-react\";\nimport data from './pandemic_output.json'; // import arcData from './arcData.json'\n\nimport presence_data from './presence_pandemic.json';\nimport Tooltip from './components/tooltip';\nimport ReactDOM from 'react-dom';\nimport ReactMapboxGl from 'react-mapbox-gl'; // import React, {useState, useRef, useCallback} from 'react';\n\nimport DeckGL from '@deck.gl/react';\nimport { ScatterplotLayer, GeoJsonLayer, ArcLayer } from '@deck.gl/layers';\nimport { StaticMap } from 'react-map-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'; // import Geocoder from 'react-map-gl-geocoder';\n// import { Container, Col, Row } from 'reactstrap';\n\nimport { MapboxLayer } from '@deck.gl/mapbox';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\"; // const mapStyle = {\n//   width: '100%',\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'; // const TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';\nvar stops = [[0, 'rgba(45,69,132, 0.4)'], [0.1, 'rgba(77,30,129, 0.4)'], [0.2, 'rgba(109,41,126, 0.4)'], [0.3, 'rgba(141,52,123, 0.4)'], [0.4, 'rgba(173,63,120, 0.4)'], [0.5, 'rgba(205,74,118, 0.4)'], [0.6, 'rgba(210,103,103\t, 0.4)'], [0.7, 'rgba(216,132,89,0.7)'], [0.8, 'rgba(222,161,75, 0.4)'], [0.9, 'rgba(228,190,61, 0.4)'], [1, 'rgba(240,249,33, 0.4)']];\nconst options = [{\n  name: '1993',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T0',\n  stops: stops\n}, {\n  name: '1994',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T1',\n  stops: stops\n}, {\n  name: '1995',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T2',\n  stops: stops\n}, {\n  name: '1996',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T3',\n  stops: stops\n}, {\n  name: '1997',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T4',\n  stops: stops\n}, {\n  name: '1998',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T5',\n  stops: stops\n}, {\n  name: '1999',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T6',\n  stops: stops\n}, {\n  name: '2000',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T7',\n  stops: stops\n}, {\n  name: '2001',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T8',\n  stops: stops\n}, {\n  name: '2002',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T9',\n  stops: stops\n}, {\n  name: '2003',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T10',\n  stops: stops\n}, {\n  name: '2004',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T11',\n  stops: stops\n}, {\n  name: '2005',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T12',\n  stops: stops\n}, {\n  name: '2006',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T13',\n  stops: stops\n}, {\n  name: '2007',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T14',\n  stops: stops\n}, {\n  name: '2008',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T15',\n  stops: stops\n}, {\n  name: '2009',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T16',\n  stops: stops\n}, {\n  name: '2010',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T17',\n  stops: stops\n}, {\n  name: '2011',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T18',\n  stops: stops\n}, {\n  name: '2012',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T19',\n  stops: stops\n}, {\n  name: '2013',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T20',\n  stops: stops\n}, {\n  name: '2014',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T21',\n  stops: stops\n}, {\n  name: '2015',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T22',\n  stops: stops\n}, {\n  name: '2016',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T23',\n  stops: stops\n}, {\n  name: '2017',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T24',\n  stops: stops\n}, {\n  name: '2018',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T25',\n  propertyPresence: 'Presence 1993',\n  stops: stops\n}];\nconst markerList = [{\n  name: '1993',\n  description: 'Presence',\n  property: 'Presence 1993'\n}, {\n  name: '1994',\n  description: 'Presence',\n  property: 'Presence 1994'\n}, {\n  name: '1995',\n  description: 'Presence',\n  property: 'Presence 1995'\n}, {\n  name: '1996',\n  description: 'Presence',\n  property: 'Presence 1996'\n}, {\n  name: '1997',\n  description: 'Presence',\n  property: 'Presence 1997'\n}, {\n  name: '1998',\n  description: 'Presence',\n  property: 'Presence 1998'\n}, {\n  name: '1999',\n  description: 'Presence',\n  property: 'Presence 1999'\n}, {\n  name: '2000',\n  description: 'Presence',\n  property: 'Presence 2000'\n}, {\n  name: '2001',\n  description: 'Presence',\n  property: 'Presence 2001'\n}, {\n  name: '2002',\n  description: 'Presence',\n  property: 'Presence 2002'\n}, {\n  name: '2003',\n  description: 'Presence',\n  property: 'Presence 2003'\n}, {\n  name: '2004',\n  description: 'Presence',\n  property: 'Presence 2004'\n}, {\n  name: '2005',\n  description: 'Presence',\n  property: 'Presence 2005'\n}, {\n  name: '2006',\n  description: 'Presence',\n  property: 'Presence 2006'\n}, {\n  name: '2007',\n  description: 'Presence',\n  property: 'Presence 2007'\n}, {\n  name: '2008',\n  description: 'Presence',\n  property: 'Presence 2008'\n}, {\n  name: '2009',\n  description: 'Presence',\n  property: 'Presence 2009'\n}, {\n  name: '2010',\n  description: 'Presence',\n  property: 'Presence 2010'\n}, {\n  name: '2011',\n  description: 'Presence',\n  property: 'Presence 2011'\n}, {\n  name: '2012',\n  description: 'Presence',\n  property: 'Presence 2012'\n}, {\n  name: '2013',\n  description: 'Presence',\n  property: 'Presence 2013'\n}, {\n  name: '2014',\n  description: 'Presence',\n  property: 'Presence 2014'\n}, {\n  name: '2015',\n  description: 'Presence',\n  property: 'Presence 2015'\n}, {\n  name: '2016',\n  description: 'Presence',\n  property: 'Presence 2016'\n}, {\n  name: '2017',\n  description: 'Presence',\n  property: 'Presence 2017'\n}, {\n  name: '2018',\n  description: 'Presence',\n  property: 'Presence 2018'\n}];\nconst myDeckLayer = new MapboxLayer({\n  id: 'my-scatterplot',\n  type: ArcLayer,\n  data: [// [\n  // [\n  {\n    \"id\": 0,\n    \"START\": [-8.409518, 115.188919],\n    \"END\": [22.302711, 114.177216],\n    \"Year\": 1993\n  } // {\n  //   \"id\": 1,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"Year\": 1993\n  // },\n  // {\n  //   \"id\": 4,\n  //   \"START\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"END\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"Year\": 1995\n  // },\n  // {\n  //   \"id\": 6,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 1995\n  // },\n  // {\n  //   \"id\": 7,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     35.652832,\n  //     139.839478\n  //   ],\n  //   \"Year\": 1997\n  // },\n  // {\n  //   \"id\": 8,\n  //   \"START\": [\n  //     35.652832,\n  //     139.839478\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 1997\n  // },\n  // {\n  //   \"id\": 9,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 1997\n  // },\n  // {\n  //   \"id\": 12,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 1999\n  // },\n  // {\n  //   \"id\": 13,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 1999\n  // },\n  // {\n  //   \"id\": 14,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2000\n  // },\n  // {\n  //   \"id\": 15,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2000\n  // },\n  // {\n  //   \"id\": 16,\n  //   \"START\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"END\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"Year\": 2000\n  // },\n  // {\n  //   \"id\": 17,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2001\n  // },\n  // {\n  //   \"id\": 18,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2001\n  // },\n  // {\n  //   \"id\": 19,\n  //   \"START\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2001\n  // },\n  // {\n  //   \"id\": 20,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 2001\n  // },\n  // {\n  //   \"id\": 21,\n  //   \"START\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2003\n  // },\n  // {\n  //   \"id\": 22,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2003\n  // },\n  // {\n  //   \"id\": 23,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": \"Macao\",\n  //   \"Year\": 2003\n  // },\n  // {\n  //   \"id\": 26,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2004\n  // },\n  // {\n  //   \"id\": 27,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2004\n  // },\n  // {\n  //   \"id\": 29,\n  //   \"START\": [\n  //     35.652832,\n  //     139.839478\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2005\n  // },\n  // {\n  //   \"id\": 36,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2008\n  // },\n  // {\n  //   \"id\": 37,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2008\n  // },\n  // {\n  //   \"id\": 40,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2009\n  // },\n  // {\n  //   \"id\": 41,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2009\n  // },\n  // {\n  //   \"id\": 42,\n  //   \"START\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"END\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"Year\": 2009\n  // },\n  // {\n  //   \"id\": 44,\n  //   \"START\": [\n  //     35.652832,\n  //     139.839478\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2010\n  // },\n  // {\n  //   \"id\": 45,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2010\n  // },\n  // {\n  //   \"id\": 49,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"Year\": 2011\n  // },\n  // {\n  //   \"id\": 57,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"Year\": 2012\n  // },\n  // {\n  //   \"id\": 59,\n  //   \"START\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 2012\n  // },\n  // {\n  //   \"id\": 60,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 2012\n  // },\n  // {\n  //   \"id\": 62,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2013\n  // },\n  // {\n  //   \"id\": 64,\n  //   \"START\": [\n  //     13.736717,\n  //     100.523186\n  //   ],\n  //   \"END\": [\n  //     -8.409518,\n  //     115.188919\n  //   ],\n  //   \"Year\": 2013\n  // },\n  // {\n  //   \"id\": 65,\n  //   \"START\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"END\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"Year\": 2014\n  // },\n  // {\n  //   \"id\": 72,\n  //   \"START\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2016\n  // },\n  // {\n  //   \"id\": 75,\n  //   \"START\": [\n  //     39.913818,\n  //     116.363625\n  //   ],\n  //   \"END\": [\n  //     1.29027,\n  //     103.851959\n  //   ],\n  //   \"Year\": 2016\n  // },\n  // {\n  //   \"id\": 87,\n  //   \"START\": [\n  //     22.302711,\n  //     114.177216\n  //   ],\n  //   \"END\": [\n  //     3.140853,\n  //     101.693207\n  //   ],\n  //   \"Year\": 2018\n  // }\n  // ]\n  // ]\n  // {\"id\":0,\"Origin\":[-8.409518,115.188919],\"Destination\":[22.302711,114.177216],\"Year\":1993},{\"id\":1,\"Origin\":[13.736717,100.523186],\"Destination\":[1.29027,103.851959],\"Year\":1993},{\"id\":4,\"Origin\":[22.302711,114.177216],\"Destination\":[39.913818,116.363625],\"Year\":1995},{\"id\":6,\"Origin\":[13.736717,100.523186],\"Destination\":[22.302711,114.177216],\"Year\":1995},{\"id\":7,\"Origin\":[39.913818,116.363625],\"Destination\":[35.652832,139.839478],\"Year\":1997},{\"id\":8,\"Origin\":[35.652832,139.839478],\"Destination\":[-8.409518,115.188919],\"Year\":1997},{\"id\":9,\"Origin\":[13.736717,100.523186],\"Destination\":[-8.409518,115.188919],\"Year\":1997},{\"id\":12,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":1999},{\"id\":13,\"Origin\":[39.913818,116.363625],\"Destination\":[-8.409518,115.188919],\"Year\":1999},{\"id\":14,\"Origin\":[39.913818,116.363625],\"Destination\":[3.140853,101.693207],\"Year\":2000},{\"id\":15,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2000},{\"id\":16,\"Origin\":[22.302711,114.177216],\"Destination\":[1.29027,103.851959],\"Year\":2000},{\"id\":17,\"Origin\":[39.913818,116.363625],\"Destination\":[3.140853,101.693207],\"Year\":2001},{\"id\":18,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2001},{\"id\":19,\"Origin\":[-8.409518,115.188919],\"Destination\":[22.302711,114.177216],\"Year\":2001},{\"id\":20,\"Origin\":[39.913818,116.363625],\"Destination\":[-8.409518,115.188919],\"Year\":2001},{\"id\":21,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2003},{\"id\":22,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2003},{\"id\":23,\"Origin\":[13.736717,100.523186],\"Destination\":\"Macao\",\"Year\":2003},{\"id\":26,\"Origin\":[1.29027,103.851959],\"Destination\":[3.140853,101.693207],\"Year\":2004},{\"id\":27,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2004},{\"id\":29,\"Origin\":[35.652832,139.839478],\"Destination\":[3.140853,101.693207],\"Year\":2005},{\"id\":36,\"Origin\":[1.29027,103.851959],\"Destination\":[3.140853,101.693207],\"Year\":2008},{\"id\":37,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2008},{\"id\":40,\"Origin\":[13.736717,100.523186],\"Destination\":[3.140853,101.693207],\"Year\":2009},{\"id\":41,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2009},{\"id\":42,\"Origin\":[3.140853,101.693207],\"Destination\":[1.29027,103.851959],\"Year\":2009},{\"id\":44,\"Origin\":[35.652832,139.839478],\"Destination\":[3.140853,101.693207],\"Year\":2010},{\"id\":45,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2010},{\"id\":49,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2011},{\"id\":57,\"Origin\":[39.913818,116.363625],\"Destination\":[1.29027,103.851959],\"Year\":2012},{\"id\":59,\"Origin\":[3.140853,101.693207],\"Destination\":[-8.409518,115.188919],\"Year\":2012},{\"id\":60,\"Origin\":[1.29027,103.851959],\"Destination\":[-8.409518,115.188919],\"Year\":2012},{\"id\":62,\"Origin\":[13.736717,100.523186],\"Destination\":[3.140853,101.693207],\"Year\":2013},{\"id\":64,\"Origin\":[13.736717,100.523186],\"Destination\":[-8.409518,115.188919],\"Year\":2013},{\"id\":65,\"Origin\":[1.29027,103.851959],\"Destination\":[39.913818,116.363625],\"Year\":2014},{\"id\":72,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2016},{\"id\":75,\"Origin\":[39.913818,116.363625],\"Destination\":[1.29027,103.851959],\"Year\":2016},{\"id\":87,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2018}\n  ],\n  // getPosition: d => d.position,\n  // getRadius: d => d.size,\n  getSourceColor: d => [64, 255, 0],\n  getTargetColor: d => [0, 128, 200],\n  // getFillColor: [255, 0, 0],\n  // getSourcePosition: d => d.Origin,\n  // getTargetPosition: d => d.Destination,\n  getSourcePosition: d => d.START,\n  getTargetPosition: d => d.END,\n  getColor: [255, 0, 0]\n}); // console.log(myDeckLayer);\n\nclass App extends React.Component {\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n  render() {\n    const {\n      viewport\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100vh\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MapGL, Object.assign({\n      ref: this.mapRef\n    }, viewport, {\n      width: \"100%\",\n      height: \"100%\",\n      onViewportChange: this.handleViewportChange,\n      mapboxApiAccessToken: MAPBOX_TOKEN,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Geocoder, {\n      mapRef: this.mapRef,\n      onViewportChange: this.handleGeocoderViewportChange,\n      mapboxApiAccessToken: MAPBOX_TOKEN,\n      position: \"top-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 808,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  setTooltip(features) {\n    if (features.length) {\n      ReactDOM.render(React.createElement(Tooltip, {\n        features\n      }), this.tooltipContainer);\n    } else {\n      ReactDOM.unmountComponentAtNode(this.tooltipContainer);\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.mapRef = React.createRef();\n\n    this.handleViewportChange = viewport => {\n      this.setState({\n        viewport: { ...this.state.viewport,\n          ...viewport\n        }\n      });\n    };\n\n    this.handleGeocoderViewportChange = viewport => {\n      const geocoderDefaultOverrides = {\n        transitionDuration: 1000\n      };\n      return this.handleViewportChange({ ...viewport,\n        ...geocoderDefaultOverrides\n      });\n    };\n\n    this.mapRef = React.createRef();\n    this.state = {\n      active: options[0],\n      viewport: {\n        latitude: 17.44212,\n        longitude: 78.391384,\n        zoom: 15,\n        bearing: 0,\n        pitch: 0,\n        width: \"100%\",\n        height: 500\n      },\n      popupInfo: null\n    };\n  }\n\n  componentDidUpdate() {\n    this.setFill();\n  }\n\n  componentDidMount() {\n    this.tooltipContainer = document.createElement('div');\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',\n      // style: 'mapbox://styles/mapbox/dark-v10',\n      center: [12, 26],\n      // center: [-122.396511,37.793089],\n      zoom: 1.5 // zoom: 9\n\n    });\n    this.map.on('load', () => {\n      new MapboxGeocoder({\n        accessToken: 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw',\n        mapboxgl: mapboxgl\n      });\n      this.map.addLayer(myDeckLayer); // this.map.addLayer({\n      //           id: 'my-arc',\n      //           type: 'ArcLayer',\n      //           data: arcData,\n      //           getSourcePosition: d => d.START,\n      //           getTargetPosition: d => d.END,\n      //           getSourceColor: d => [64, 255, 0],\n      //           getTargetColor: d => [0, 128, 200]\n      //       // });\n      //       //Add the deck.gl arc layer to the map \n      //       // .addLayer(arclayer, 'waterway-label')\n      // });\n\n      this.map.addSource('countries', {\n        type: 'geojson',\n        data\n      });\n      this.map.addSource('presence_data', {\n        type: 'geojson',\n        presence_data\n      });\n      this.map.addLayer({\n        id: 'countries',\n        type: 'fill',\n        source: 'countries'\n      }, 'country-label');\n      this.map.addLayer({\n        id: 'presence_data',\n        interactive: true,\n        type: \"symbol\",\n        source: 'presence_data',\n        layout: {\n          'icon-image': ['concat', ['get', 'icon'], '-15'],\n          'text-field': ['get', 'title'],\n          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n          'text-offset': [0, 0.6],\n          'text-anchor': 'top'\n        }\n      }); // this.map.addLayer(arclayer, 'waterway-label');\n\n      this.setFill(); //   presence_data.features.forEach((marker) => {\n      //     const markerEl = document.createElement('div');\n      //     markerEl.innerHTML = 'ðŸ¦Ÿ';\n      //     new mapboxgl.Marker(markerEl, { offset: [5,-5] })\n      //         .setLngLat(marker.geometry.coordinates)\n      //         .addTo(this.map);\n      //     markerEl.addEventListener('click', () => {\n      //       this.map.flyTo({\n      //           center: marker.geometry.coordinates,\n      //           zoom: 11,\n      //       });\n      //     });\n      // });\n    });\n    const tooltip = new mapboxgl.Marker(this.tooltipContainer, {\n      offset: [-120, 0]\n    }).setLngLat([0, 0]).addTo(this.map);\n    var popup = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false\n    });\n    this.map.on('mouseenter', 'countries', e => {\n      this.map.getCanvas().style.cursor = 'pointer';\n    });\n    this.map.on('click', 'countries', e => {\n      const features = this.map.queryRenderedFeatures(e.point, {});\n      const {\n        name,\n        description,\n        stops,\n        property\n      } = this.state.active;\n      const prob_intro = features[0].properties[property];\n      this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n      popup.setLngLat(e.lngLat).setHTML('<b><u>Country Information' + '</b></u>' + '<ul>' + '<li><b>Name: </b>' + features[0].properties[\"NAME\"] + '</li>' + '<li><b>Introduction Probability: </b>' + prob_intro + '</li>' + '</ul>').addTo(this.map);\n    });\n    this.map.on('click', 'presence_data', p => {\n      const presenceFeatures = this.map.queryRenderedFeatures(p.point, {}); // console.log(presenceFeatures)\n    });\n    this.map.on('mouseleave', 'countries', e => {\n      this.map.getCanvas().style.cursor = '';\n      popup.remove();\n    });\n  }\n\n  setFill() {\n    const {\n      property,\n      stops\n    } = this.state.active;\n    this.map.setPaintProperty('countries', 'fill-color', {\n      property,\n      stops\n    });\n    this.map.setPaintProperty('countries', 'fill-outline-color', {\n      property,\n      stops\n    }) // this.map.setTooltip('presence_data', '', {\n    //   property,\n    //   stops\n    // })  ;\n    ;\n  }\n\n  render() {\n    const {\n      name,\n      description,\n      stops,\n      property\n    } = this.state.active;\n\n    const renderLegendKeys = (stop, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        className: \"txt-s \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \" round-full w12 h12 inline-block \",\n        style: {\n          backgroundColor: stop[1]\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1024,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1025,\n          columnNumber: 11\n        }\n      }, `${stop[0].toLocaleString()}`));\n    };\n\n    const renderOptions = (option, i) => {\n      return /*#__PURE__*/React.createElement(\"label\", {\n        key: i,\n        className: \"toggle-container  \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: () => this.setState({\n          active: options[i]\n        }),\n        checked: option.property === property,\n        name: \"toggle\",\n        type: \"radio\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toggle grid txt-s color-white py3 toggle--active-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 11\n        }\n      }, option.name));\n    };\n\n    const {\n      viewport\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1043,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mapRef,\n      className: \"absolute top right left bottom align-middle grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1044,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"ctxt-bold color-white absolute mt6 ml12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 69\n      }\n    }, \"Select Year:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"toggle-group grid ml12 mt36 top left ctxt-bold color-white absolute  border border--2 border--white bg-transparent shadow-darken10   \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 9\n      }\n    }, options.map(renderOptions)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bg-transparent color-white absolute bottom right mr12 mb24 py12 px12 border--white round border border--2 round shadow-darken10 z1 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb6 color-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1050,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"txt-bold txt-s block color-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 13\n      }\n    }, name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"txt-s color-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 13\n      }\n    }, description)), stops.map(renderLegendKeys))); //absolute top left ml12 mt12 border border--2 border--white bg-white shadow-darken10 z1\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/src/App.js"],"names":["React","useState","useRef","useCallback","Component","mapboxgl","MapboxGeocoder","MapGL","NavigationControl","Marker","Popup","render","Geocoder","Icon","data","presence_data","Tooltip","ReactDOM","ReactMapboxGl","DeckGL","ScatterplotLayer","GeoJsonLayer","ArcLayer","StaticMap","MapboxLayer","accessToken","MAPBOX_TOKEN","stops","options","name","description","property","propertyPresence","markerList","myDeckLayer","id","type","getSourceColor","d","getTargetColor","getSourcePosition","START","getTargetPosition","END","getColor","App","viewport","state","height","mapRef","handleViewportChange","handleGeocoderViewportChange","setTooltip","features","length","createElement","tooltipContainer","unmountComponentAtNode","constructor","props","createRef","setState","geocoderDefaultOverrides","transitionDuration","active","latitude","longitude","zoom","bearing","pitch","width","popupInfo","componentDidUpdate","setFill","componentDidMount","document","map","Map","container","current","style","center","on","addLayer","addSource","source","interactive","layout","tooltip","offset","setLngLat","addTo","popup","closeButton","closeOnClick","e","getCanvas","cursor","queryRenderedFeatures","point","prob_intro","properties","lngLat","setHTML","p","presenceFeatures","remove","setPaintProperty","renderLegendKeys","stop","i","backgroundColor","toLocaleString","renderOptions","option"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF;AACF;AACA;AAtdI,GAH4B;AA2dlC;AACA;AACAuB,EAAAA,cAAc,EAAEC,CAAC,IAAI,CAAC,EAAD,EAAK,GAAL,EAAU,CAAV,CA7da;AA8dlCC,EAAAA,cAAc,EAAED,CAAC,IAAI,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CA9da;AA+dlC;AACA;AACA;AACAE,EAAAA,iBAAiB,EAAEF,C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","sourcesContent":["import React, {useState, useRef, useCallback, Component }  from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport mapboxgl from 'mapbox-gl'\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport MapGL, { NavigationControl, Marker, Popup } from \"react-map-gl\";\nimport { render } from \"react-dom\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport { Icon } from \"semantic-ui-react\";\nimport data from './pandemic_output.json'\n// import arcData from './arcData.json'\nimport presence_data from './presence_pandemic.json'\nimport Tooltip from './components/tooltip'\nimport ReactDOM from 'react-dom'\nimport ReactMapboxGl from 'react-mapbox-gl';\n// import React, {useState, useRef, useCallback} from 'react';\nimport DeckGL from '@deck.gl/react';\nimport {ScatterplotLayer, GeoJsonLayer, ArcLayer} from '@deck.gl/layers';\nimport {StaticMap} from 'react-map-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\n// import Geocoder from 'react-map-gl-geocoder';\n// import { Container, Col, Row } from 'reactstrap';\nimport {MapboxLayer} from '@deck.gl/mapbox';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport  \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\n// const mapStyle = {\n//   width: '100%',\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'\n// const TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'\n\nvar stops =  [\n  [0, 'rgba(45,69,132, 0.4)'],\t\n  [0.1, 'rgba(77,30,129, 0.4)'],\t\n  [0.2, 'rgba(109,41,126, 0.4)'],\t\t\t\n  [0.3, 'rgba(141,52,123, 0.4)'], \n  [0.4, 'rgba(173,63,120, 0.4)'],\t\n  [0.5, 'rgba(205,74,118, 0.4)'], \n  [0.6, 'rgba(210,103,103\t, 0.4)'],\t\t\n  [0.7, 'rgba(216,132,89,0.7)'], \n  [0.8, 'rgba(222,161,75, 0.4)'],\t\n  [0.9, 'rgba(228,190,61, 0.4)'],\n  [1, 'rgba(240,249,33, 0.4)']\n]\n\nconst options = [{\n  name: '1993',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T0',\n  stops: stops\n}, {\n  name: '1994',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T1',\n  stops: stops\n}, {\n  name: '1995',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T2',\n  stops: stops\n}, {\n  name: '1996',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T3',\n  stops: stops\n}, {\n  name: '1997',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T4',\n  stops: stops\n}, {\n  name: '1998',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T5',\n  stops: stops\n}, {\n  name: '1999',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T6',\n  stops: stops\n}, {\n  name: '2000',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T7',\n  stops: stops\n}, {\n  name: '2001',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T8',\n  stops: stops\n}, {\n  name: '2002',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T9',\n  stops: stops\n}, {\n  name: '2003',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T10',\n  stops: stops\n}, {\n  name: '2004',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T11',\n  stops: stops\n}, {\n  name: '2005',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T12',\n  stops: stops\n}, {\n  name: '2006',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T13',\n  stops: stops\n}, {\n  name: '2007',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T14',\n  stops: stops\n}, {\n  name: '2008',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T15',\n  stops: stops\n}, {\n  name: '2009',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T16',\n  stops: stops\n}, {\n  name: '2010',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T17',\n  stops: stops\n}, {\n  name: '2011',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T18',\n  stops: stops\n}, {\n  name: '2012',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T19',\n  stops: stops\n}, {\n  name: '2013',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T20',\n  stops: stops\n}, {\n  name: '2014',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T21',\n  stops: stops\n}, {\n  name: '2015',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T22',\n  stops: stops\n}, {\n  name: '2016',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T23',\n  stops: stops\n}, {\n  name: '2017',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T24',\n  stops: stops\n}, {\n  name: '2018',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T25',\n  propertyPresence: 'Presence 1993',\n  stops: stops\n}\n]\n\nconst markerList = [{\n  name: '1993',\n  description: 'Presence',\n  property: 'Presence 1993'\n}, {\n  name: '1994',\n  description: 'Presence',\n  property: 'Presence 1994'\n}, {\n  name: '1995',\n  description: 'Presence',\n  property: 'Presence 1995'\n}, {\n  name: '1996',\n  description: 'Presence',\n  property: 'Presence 1996'\n}, {\n  name: '1997',\n  description: 'Presence',\n  property: 'Presence 1997'\n}, {\n  name: '1998',\n  description: 'Presence',\n  property: 'Presence 1998'\n}, {\n  name: '1999',\n  description: 'Presence',\n  property: 'Presence 1999'\n}, {\n  name: '2000',\n  description: 'Presence',\n  property: 'Presence 2000'\n}, {\n  name: '2001',\n  description: 'Presence',\n  property: 'Presence 2001'\n}, {\n  name: '2002',\n  description: 'Presence',\n  property: 'Presence 2002'\n}, {\n  name: '2003',\n  description: 'Presence',\n  property: 'Presence 2003'\n}, {\n  name: '2004',\n  description: 'Presence',\n  property: 'Presence 2004'\n}, {\n  name: '2005',\n  description: 'Presence',\n  property: 'Presence 2005'\n}, {\n  name: '2006',\n  description: 'Presence',\n  property: 'Presence 2006'\n}, {\n  name: '2007',\n  description: 'Presence',\n  property: 'Presence 2007'\n}, {\n  name: '2008',\n  description: 'Presence',\n  property: 'Presence 2008'\n}, {\n  name: '2009',\n  description: 'Presence',\n  property: 'Presence 2009'\n}, {\n  name: '2010',\n  description: 'Presence',\n  property: 'Presence 2010'\n}, {\n  name: '2011',\n  description: 'Presence',\n  property: 'Presence 2011'\n}, {\n  name: '2012',\n  description: 'Presence',\n  property: 'Presence 2012'\n}, {\n  name: '2013',\n  description: 'Presence',\n  property: 'Presence 2013'\n}, {\n  name: '2014',\n  description: 'Presence',\n  property: 'Presence 2014'\n}, {\n  name: '2015',\n  description: 'Presence',\n  property: 'Presence 2015'\n}, {\n  name: '2016',\n  description: 'Presence',\n  property: 'Presence 2016'\n}, {\n  name: '2017',\n  description: 'Presence',\n  property: 'Presence 2017'\n}, {\n  name: '2018',\n  description: 'Presence',\n  property: 'Presence 2018'\n}\n]\n\nconst myDeckLayer = new MapboxLayer({\n  id: 'my-scatterplot',\n  type: ArcLayer,\n  data: [\n    // [\n      // [\n        {\n          \"id\": 0,\n          \"START\": [\n            -8.409518,\n            115.188919\n          ],\n          \"END\": [\n            22.302711,\n            114.177216\n          ],\n          \"Year\": 1993\n        },\n        // {\n        //   \"id\": 1,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 1993\n        // },\n        // {\n        //   \"id\": 4,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"Year\": 1995\n        // },\n        // {\n        //   \"id\": 6,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 1995\n        // },\n        // {\n        //   \"id\": 7,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"Year\": 1997\n        // },\n        // {\n        //   \"id\": 8,\n        //   \"START\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 1997\n        // },\n        // {\n        //   \"id\": 9,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 1997\n        // },\n        // {\n        //   \"id\": 12,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 1999\n        // },\n        // {\n        //   \"id\": 13,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 1999\n        // },\n        // {\n        //   \"id\": 14,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2000\n        // },\n        // {\n        //   \"id\": 15,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2000\n        // },\n        // {\n        //   \"id\": 16,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2000\n        // },\n        // {\n        //   \"id\": 17,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 18,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 19,\n        //   \"START\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 20,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 21,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2003\n        // },\n        // {\n        //   \"id\": 22,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2003\n        // },\n        // {\n        //   \"id\": 23,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": \"Macao\",\n        //   \"Year\": 2003\n        // },\n        // {\n        //   \"id\": 26,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2004\n        // },\n        // {\n        //   \"id\": 27,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2004\n        // },\n        // {\n        //   \"id\": 29,\n        //   \"START\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2005\n        // },\n        // {\n        //   \"id\": 36,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2008\n        // },\n        // {\n        //   \"id\": 37,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2008\n        // },\n        // {\n        //   \"id\": 40,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2009\n        // },\n        // {\n        //   \"id\": 41,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2009\n        // },\n        // {\n        //   \"id\": 42,\n        //   \"START\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2009\n        // },\n        // {\n        //   \"id\": 44,\n        //   \"START\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2010\n        // },\n        // {\n        //   \"id\": 45,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2010\n        // },\n        // {\n        //   \"id\": 49,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2011\n        // },\n        // {\n        //   \"id\": 57,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2012\n        // },\n        // {\n        //   \"id\": 59,\n        //   \"START\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2012\n        // },\n        // {\n        //   \"id\": 60,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2012\n        // },\n        // {\n        //   \"id\": 62,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2013\n        // },\n        // {\n        //   \"id\": 64,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2013\n        // },\n        // {\n        //   \"id\": 65,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"Year\": 2014\n        // },\n        // {\n        //   \"id\": 72,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2016\n        // },\n        // {\n        //   \"id\": 75,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2016\n        // },\n        // {\n        //   \"id\": 87,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2018\n        // }\n      // ]\n    // ]\n    // {\"id\":0,\"Origin\":[-8.409518,115.188919],\"Destination\":[22.302711,114.177216],\"Year\":1993},{\"id\":1,\"Origin\":[13.736717,100.523186],\"Destination\":[1.29027,103.851959],\"Year\":1993},{\"id\":4,\"Origin\":[22.302711,114.177216],\"Destination\":[39.913818,116.363625],\"Year\":1995},{\"id\":6,\"Origin\":[13.736717,100.523186],\"Destination\":[22.302711,114.177216],\"Year\":1995},{\"id\":7,\"Origin\":[39.913818,116.363625],\"Destination\":[35.652832,139.839478],\"Year\":1997},{\"id\":8,\"Origin\":[35.652832,139.839478],\"Destination\":[-8.409518,115.188919],\"Year\":1997},{\"id\":9,\"Origin\":[13.736717,100.523186],\"Destination\":[-8.409518,115.188919],\"Year\":1997},{\"id\":12,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":1999},{\"id\":13,\"Origin\":[39.913818,116.363625],\"Destination\":[-8.409518,115.188919],\"Year\":1999},{\"id\":14,\"Origin\":[39.913818,116.363625],\"Destination\":[3.140853,101.693207],\"Year\":2000},{\"id\":15,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2000},{\"id\":16,\"Origin\":[22.302711,114.177216],\"Destination\":[1.29027,103.851959],\"Year\":2000},{\"id\":17,\"Origin\":[39.913818,116.363625],\"Destination\":[3.140853,101.693207],\"Year\":2001},{\"id\":18,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2001},{\"id\":19,\"Origin\":[-8.409518,115.188919],\"Destination\":[22.302711,114.177216],\"Year\":2001},{\"id\":20,\"Origin\":[39.913818,116.363625],\"Destination\":[-8.409518,115.188919],\"Year\":2001},{\"id\":21,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2003},{\"id\":22,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2003},{\"id\":23,\"Origin\":[13.736717,100.523186],\"Destination\":\"Macao\",\"Year\":2003},{\"id\":26,\"Origin\":[1.29027,103.851959],\"Destination\":[3.140853,101.693207],\"Year\":2004},{\"id\":27,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2004},{\"id\":29,\"Origin\":[35.652832,139.839478],\"Destination\":[3.140853,101.693207],\"Year\":2005},{\"id\":36,\"Origin\":[1.29027,103.851959],\"Destination\":[3.140853,101.693207],\"Year\":2008},{\"id\":37,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2008},{\"id\":40,\"Origin\":[13.736717,100.523186],\"Destination\":[3.140853,101.693207],\"Year\":2009},{\"id\":41,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2009},{\"id\":42,\"Origin\":[3.140853,101.693207],\"Destination\":[1.29027,103.851959],\"Year\":2009},{\"id\":44,\"Origin\":[35.652832,139.839478],\"Destination\":[3.140853,101.693207],\"Year\":2010},{\"id\":45,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2010},{\"id\":49,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2011},{\"id\":57,\"Origin\":[39.913818,116.363625],\"Destination\":[1.29027,103.851959],\"Year\":2012},{\"id\":59,\"Origin\":[3.140853,101.693207],\"Destination\":[-8.409518,115.188919],\"Year\":2012},{\"id\":60,\"Origin\":[1.29027,103.851959],\"Destination\":[-8.409518,115.188919],\"Year\":2012},{\"id\":62,\"Origin\":[13.736717,100.523186],\"Destination\":[3.140853,101.693207],\"Year\":2013},{\"id\":64,\"Origin\":[13.736717,100.523186],\"Destination\":[-8.409518,115.188919],\"Year\":2013},{\"id\":65,\"Origin\":[1.29027,103.851959],\"Destination\":[39.913818,116.363625],\"Year\":2014},{\"id\":72,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2016},{\"id\":75,\"Origin\":[39.913818,116.363625],\"Destination\":[1.29027,103.851959],\"Year\":2016},{\"id\":87,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2018}\n  ],\n  // getPosition: d => d.position,\n  // getRadius: d => d.size,\n  getSourceColor: d => [64, 255, 0],\n  getTargetColor: d => [0, 128, 200],\n  // getFillColor: [255, 0, 0],\n  // getSourcePosition: d => d.Origin,\n  // getTargetPosition: d => d.Destination,\n  getSourcePosition: d => d.START,\n  getTargetPosition: d => d.END,\n  getColor: [255, 0, 0]\n});\n// console.log(myDeckLayer);\n\nclass App extends React.Component {\n  mapRef = React.createRef();\n\n  handleViewportChange = viewport => {\n    this.setState({\n      viewport: { ...this.state.viewport, ...viewport }\n    });\n  };\n\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n  handleGeocoderViewportChange = viewport => {\n    const geocoderDefaultOverrides = { transitionDuration: 1000 };\n\n    return this.handleViewportChange({\n      ...viewport,\n      ...geocoderDefaultOverrides\n    });\n  };\n\n  render() {\n    const { viewport } = this.state;\n\n    return (\n      <div style={{ height: \"100vh\" }}>\n        <MapGL\n          ref={this.mapRef}\n          {...viewport}\n          width=\"100%\"\n          height=\"100%\"\n          onViewportChange={this.handleViewportChange}\n          mapboxApiAccessToken={MAPBOX_TOKEN}\n        >\n          <Geocoder\n            mapRef={this.mapRef}\n            onViewportChange={this.handleGeocoderViewportChange}\n            mapboxApiAccessToken={MAPBOX_TOKEN}\n            position=\"top-left\"\n          />\n        </MapGL>\n      </div>\n    );\n  }\n\n  mapRef = React.createRef();\n  map;\n  tooltipContainer;\n\n  \n\n  setTooltip(features) {\n    if (features.length) {\n      ReactDOM.render(\n        React.createElement(\n          Tooltip, {\n            features\n          }\n        ),\n        this.tooltipContainer\n      );\n    } else {\n      ReactDOM.unmountComponentAtNode(this.tooltipContainer);\n    }\n  }\n\n\n\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: options[0],\n      viewport: {\n        latitude: 17.44212,\n        longitude: 78.391384,\n        zoom: 15,\n        bearing: 0,\n        pitch: 0,\n        width: \"100%\",\n        height: 500\n      },\n      popupInfo: null\n    };\n  }\n\n  componentDidUpdate() {\n    this.setFill();\n  }\n\n  componentDidMount() {\n\n    \n    this.tooltipContainer = document.createElement('div');\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',\n      // style: 'mapbox://styles/mapbox/dark-v10',\n      center: [12, 26],\n      // center: [-122.396511,37.793089],\n      zoom: 1.5,\n      // zoom: 9\n    });\n\n    this.map.on('load', () => {\n      new MapboxGeocoder({\n        accessToken: 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw',\n        mapboxgl: mapboxgl\n        })\n      this.map.addLayer(myDeckLayer);\n      // this.map.addLayer({\n      //           id: 'my-arc',\n      //           type: 'ArcLayer',\n      //           data: arcData,\n      //           getSourcePosition: d => d.START,\n      //           getTargetPosition: d => d.END,\n      //           getSourceColor: d => [64, 255, 0],\n      //           getTargetColor: d => [0, 128, 200]\n      //       // });\n      \n      //       //Add the deck.gl arc layer to the map \n      //       // .addLayer(arclayer, 'waterway-label')\n      // });\n      this.map.addSource('countries', {\n        type: 'geojson',\n        data\n      });\n\n      this.map.addSource('presence_data', {\n        type: 'geojson',\n        presence_data\n      });\n\n      this.map.addLayer({\n        id: 'countries',\n        type: 'fill',\n        source: 'countries'\n      },'country-label'); \n\n      this.map.addLayer({\n        id: 'presence_data',\n        interactive: true,\n        type: \"symbol\",\n        source:  'presence_data',\n        layout: {\n          'icon-image': \n          ['concat', ['get', 'icon'], '-15'],\n          'text-field': ['get', 'title'],\n          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n          'text-offset': [0, 0.6],\n          'text-anchor': 'top'\n        }\n      }); \n      // this.map.addLayer(arclayer, 'waterway-label');\n\n      this.setFill();\n\n    //   presence_data.features.forEach((marker) => {\n    //     const markerEl = document.createElement('div');\n    //     markerEl.innerHTML = 'ðŸ¦Ÿ';\n    //     new mapboxgl.Marker(markerEl, { offset: [5,-5] })\n    //         .setLngLat(marker.geometry.coordinates)\n    //         .addTo(this.map);\n    //     markerEl.addEventListener('click', () => {\n    //       this.map.flyTo({\n    //           center: marker.geometry.coordinates,\n    //           zoom: 11,\n    //       });\n    //     });\n    // });\n\n    \n    \n    });\n      \n    \n\n    const tooltip = new mapboxgl.Marker(this.tooltipContainer, {\n      offset: [-120, 0]\n    }).setLngLat([0,0]).addTo(this.map);\n\n    var popup = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false\n      });\n\n      this.map.on('mouseenter', 'countries', (e) => {\n        this.map.getCanvas().style.cursor =  'pointer';\n      });\n\n\n      this.map.on('click', 'countries', (e) => {\n        const features = this.map.queryRenderedFeatures(e.point, {\n      });\n      const { name, description, stops, property } = this.state.active;\n      const prob_intro = features[0].properties[property]\n      this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n      popup \n      .setLngLat(e.lngLat)\n       .setHTML('<b><u>Country Information' + '</b></u>' +\n          '<ul>' +\n          '<li><b>Name: </b>' + features[0].properties[\"NAME\"] + '</li>' +\n          '<li><b>Introduction Probability: </b>' + prob_intro  + '</li>' +\n          '</ul>')\n      .addTo(this.map);\n    });\n\n    \n\n    this.map.on('click', 'presence_data', (p) => {\n      const presenceFeatures = this.map.queryRenderedFeatures(p.point, {\n    });\n    // console.log(presenceFeatures)\n  });\n    this.map.on('mouseleave', 'countries', (e) => {\n      this.map.getCanvas().style.cursor =  '';\n      popup.remove();\n    });\n\n   \n  }\n\n  \n\n  setFill() {\n    const { property, stops } = this.state.active;\n    this.map.setPaintProperty('countries', 'fill-color', {\n      property,\n      stops\n    },\n    )\n    this.map.setPaintProperty('countries', 'fill-outline-color', {\n      property,\n      stops\n    },\n    )\n      // this.map.setTooltip('presence_data', '', {\n      //   property,\n      //   stops\n      // })  ;\n      ;    \n  }\n\n\n\n  render() {\n    const { name, description, stops, property } = this.state.active;\n    const renderLegendKeys = (stop, i) => {\n      return (\n        <div key={i} className='txt-s '>\n          <span className=' round-full w12 h12 inline-block ' style={{ backgroundColor: stop[1] }} />\n          <span >{`${stop[0].toLocaleString()}`}</span>\n        </div>\n      );\n    }\n\n   \n    const renderOptions = (option, i) => {\n      return (\n        <label key={i} className=\"toggle-container  \">\n          <input  onChange={() => this.setState({ active: options[i] })} checked={option.property === property} name=\"toggle\" type=\"radio\" />\n          <div  className=\"toggle grid txt-s color-white py3 toggle--active-white\">{option.name}</div>\n        </label>\n      );\n    }\n    const {viewport} = this.state\n\n    return (\n      \n      <div>\n        <div ref={this.mapRef} className=\"absolute top right left bottom align-middle grid\" />\n        <label className=\"ctxt-bold color-white absolute mt6 ml12\" ><b>Select Year:</b></label>\n        <div  className=\"toggle-group grid ml12 mt36 top left ctxt-bold color-white absolute  border border--2 border--white bg-transparent shadow-darken10   \">\n          {options.map(renderOptions)}\n        </div>\n        <div  className=\" bg-transparent color-white absolute bottom right mr12 mb24 py12 px12 border--white round border border--2 round shadow-darken10 z1 \">\n          <div className='mb6 color-white'>\n            <h2 className=\"txt-bold txt-s block color-white\">{name}</h2>\n            <p className='txt-s color-white'>{description}</p>\n          </div>\n          {stops.map(renderLegendKeys)}\n        </div>\n      </div>\n    );//absolute top left ml12 mt12 border border--2 border--white bg-white shadow-darken10 z1\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}