{"ast":null,"code":"import _classCallCheck from\"/Users/garrettmillar/pandemic_dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/garrettmillar/pandemic_dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/garrettmillar/pandemic_dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/garrettmillar/pandemic_dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import logo from\"./logo.svg\";import'./App.css';import mapboxgl from'mapbox-gl';import data from'./pandemic_output.json';import Tooltip from'./components/tooltip';import ReactDOM from'react-dom';// return (\n//   <div className=\"App\">\n//     <header className=\"App-header\">\n//       <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//       <p>\n//         Edit <code>src/App.js</code> and save to reload.\n//       </p>\n//       <a\n//         className=\"App-link\"\n//         href=\"https://reactjs.org\"\n//         target=\"_blank\"\n//         rel=\"noopener noreferrer\"\n//       >\n//         Learn React\n//       </a>\n//     </header>\n//   </div>\n// );\nmapboxgl.accessToken='pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';var stops=[[0,'rgba(45,69,132, 0.4)'],// [0.1, 'rgba(45,19,13, 0.4)'], \n[0.1,'rgba(77,30,129, 0.4)'],[0.2,'rgba(109,41,126, 0.4)'],[0.3,'rgba(141,52,123, 0.4)'],[0.4,'rgba(173,63,120, 0.4)'],[0.5,'rgba(205,74,118, 0.4)'],[0.6,'rgba(210,103,103\t, 0.4)'],[0.7,'rgba(216,132,89,0.7)'],[0.8,'rgba(222,161,75, 0.4)'],[0.9,'rgba(228,190,61, 0.4)'],[1,'rgba(240,249,33, 0.4)']];var options=[{name:'1993',description:'Introduction Probability',property:'Probability of introduction T0',stops:stops},{name:'1994',description:'Introduction Probability',property:'Probability of introduction T1',stops:stops},{name:'1995',description:'Introduction Probability',property:'Probability of introduction T2',stops:stops},{name:'1996',description:'Introduction Probability',property:'Probability of introduction T3',stops:stops},{name:'1997',description:'Introduction Probability',property:'Probability of introduction T4',stops:stops},{name:'1998',description:'Introduction Probability',property:'Probability of introduction T5',stops:stops},{name:'1999',description:'Introduction Probability',property:'Probability of introduction T6',stops:stops},{name:'2000',description:'Introduction Probability',property:'Probability of introduction T7',stops:stops},{name:'2001',description:'Introduction Probability',property:'Probability of introduction T8',stops:stops},{name:'2002',description:'Introduction Probability',property:'Probability of introduction T9',stops:stops},{name:'2003',description:'Introduction Probability',property:'Probability of introduction T10',stops:stops},{name:'2004',description:'Introduction Probability',property:'Probability of introduction T11',stops:stops},{name:'2005',description:'Introduction Probability',property:'Probability of introduction T12',stops:stops},{name:'2006',description:'Introduction Probability',property:'Probability of introduction T13',stops:stops},{name:'2007',description:'Introduction Probability',property:'Probability of introduction T14',stops:stops},{name:'2008',description:'Introduction Probability',property:'Probability of introduction T15',stops:stops},{name:'2009',description:'Introduction Probability',property:'Probability of introduction T16',stops:stops},{name:'2010',description:'Introduction Probability',property:'Probability of introduction T17',stops:stops},{name:'2011',description:'Introduction Probability',property:'Probability of introduction T18',stops:stops},{name:'2012',description:'Introduction Probability',property:'Probability of introduction T19',stops:stops},{name:'2013',description:'Introduction Probability',property:'Probability of introduction T20',stops:stops},{name:'2014',description:'Introduction Probability',property:'Probability of introduction T21',stops:stops},{name:'2015',description:'Introduction Probability',property:'Probability of introduction T22',stops:stops},{name:'2016',description:'Introduction Probability',property:'Probability of introduction T23',stops:stops},{name:'2017',description:'Introduction Probability',property:'Probability of introduction T24',stops:stops},{name:'2018',description:'Introduction Probability',property:'Probability of introduction T25',stops:stops}];var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);_createClass(App,[{key:\"setTooltip\",value:function setTooltip(features){if(features.length){ReactDOM.render(React.createElement(Tooltip,{features:features}),this.tooltipContainer);}else{ReactDOM.unmountComponentAtNode(this.tooltipContainer);}}}]);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.mapRef=React.createRef();_this.state={active:options[0]};return _this;}_createClass(App,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.setFill();}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.tooltipContainer=document.createElement('div');this.map=new mapboxgl.Map({container:this.mapRef.current,style:'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',// style: 'mapbox://styles/mapbox/dark-v10',\ncenter:[12,26],zoom:1.5});this.map.on('load',function(){_this2.map.addSource('countries',{type:'geojson',data:data});_this2.map.addLayer({id:'countries',type:'fill',source:'countries'},'country-label');// ID metches `mapbox/streets-v9`\n_this2.setFill();});// componentDidMount() {\n// const map = new mapboxgl.Map({\n//   container: this.mapRef.current,\n//   style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',\n//   // style: 'mapbox://styles/mapbox/dark-v10',\n//   center: [12, 26],\n//   zoom: 1.5,\n// });\nvar tooltip=new mapboxgl.Marker(this.tooltipContainer,{offset:[-120,0]}).setLngLat([0,0]).addTo(this.map);var popup=new mapboxgl.Popup({// className: \"gray-dark\",\ncloseButton:false,closeOnClick:false});// txt-code--dark\nthis.map.on('mouseenter','countries',function(e){_this2.map.getCanvas().style.cursor='pointer';// popup.remove();\n});this.map.on('click','countries',function(e){var features=_this2.map.queryRenderedFeatures(e.point,{});// console.log(features[0].properties);\nvar _this2$state$active=_this2.state.active,name=_this2$state$active.name,description=_this2$state$active.description,stops=_this2$state$active.stops,property=_this2$state$active.property;// console.log(property);\nvar prob_intro=features[0].properties[property];// this.map.getCanvas().style.cursor =  'pointer';\n_this2.map.getCanvas().style.cursor=features.length?'pointer':'';popup.setLngLat(e.lngLat).setHTML('<b><u>Country Information'+'</b></u>'+'<ul>'+'<li><b>Name: </b>'+features[0].properties[\"NAME\"]+'</li>'+'<li><b>Introduction Probability: </b>'+prob_intro+'</li>'+'</ul>').addTo(_this2.map);});this.map.on('mouseleave','countries',function(e){_this2.map.getCanvas().style.cursor='';popup.remove();});}},{key:\"setFill\",value:function setFill(){var _this$state$active=this.state.active,property=_this$state$active.property,stops=_this$state$active.stops;this.map.setPaintProperty('countries','fill-color',{property:property,stops:stops});this.map.setPaintProperty('countries','fill-outline-color',{property:property,stops:stops});}},{key:\"render\",value:function render(){var _this3=this;var _this$state$active2=this.state.active,name=_this$state$active2.name,description=_this$state$active2.description,stops=_this$state$active2.stops,property=_this$state$active2.property;var renderLegendKeys=function renderLegendKeys(stop,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"txt-s \"},/*#__PURE__*/React.createElement(\"span\",{className:\" round-full w12 h12 inline-block \",style:{backgroundColor:stop[1]}}),/*#__PURE__*/React.createElement(\"span\",null,\"\".concat(stop[0].toLocaleString())));};var renderOptions=function renderOptions(option,i){return/*#__PURE__*/React.createElement(\"label\",{key:i,className:\"toggle-container  right  left px3 py3\"},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(){return _this3.setState({active:options[i]});},checked:option.property===property,name:\"toggle\",type:\"radio\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"toggle grid txt-s color-white right   left toggle--active-white\"},option.name));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{ref:this.mapRef,className:\"absolute top right left bottom align-middle grid\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"ctxt-bold color-white absolute mt6 ml12\"},\"Select Year:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"toggle-group grid ctxt-bold color-white absolute mt36 ml12 border border--2 border--white bg-transparent  shadow-darken10  absolute  \"},options.map(renderOptions)),/*#__PURE__*/React.createElement(\"div\",{className:\" bg-transparent color-white absolute bottom right mr12 mb24 py12 px12 border--white round border border--2 round shadow-darken10 z1 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb6 color-white\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"txt-bold txt-s block color-white\"},name),/*#__PURE__*/React.createElement(\"p\",{className:\"txt-s color-white\"},description)),stops.map(renderLegendKeys)));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/src/App.js"],"names":["React","mapboxgl","data","Tooltip","ReactDOM","accessToken","stops","options","name","description","property","App","features","length","render","createElement","tooltipContainer","unmountComponentAtNode","props","mapRef","createRef","state","active","setFill","document","map","Map","container","current","style","center","zoom","on","addSource","type","addLayer","id","source","tooltip","Marker","offset","setLngLat","addTo","popup","Popup","closeButton","closeOnClick","e","getCanvas","cursor","queryRenderedFeatures","point","prob_intro","properties","lngLat","setHTML","remove","setPaintProperty","renderLegendKeys","stop","i","backgroundColor","toLocaleString","renderOptions","option","setState","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport mapboxgl from 'mapbox-gl'\nimport data from './pandemic_output.json'\nimport Tooltip from './components/tooltip'\nimport ReactDOM from 'react-dom'\n\n\n\n  // return (\n  //   <div className=\"App\">\n  //     <header className=\"App-header\">\n  //       <img src={logo} className=\"App-logo\" alt=\"logo\" />\n  //       <p>\n  //         Edit <code>src/App.js</code> and save to reload.\n  //       </p>\n  //       <a\n  //         className=\"App-link\"\n  //         href=\"https://reactjs.org\"\n  //         target=\"_blank\"\n  //         rel=\"noopener noreferrer\"\n  //       >\n  //         Learn React\n  //       </a>\n  //     </header>\n  //   </div>\n  // );\n\n\n\n    \n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';\n\n\nvar stops =  [\n  [0, 'rgba(45,69,132, 0.4)'],\t\n  // [0.1, 'rgba(45,19,13, 0.4)'], \n  [0.1, 'rgba(77,30,129, 0.4)'],\t\n  [0.2, 'rgba(109,41,126, 0.4)'],\t\t\t\n  [0.3, 'rgba(141,52,123, 0.4)'], \n  [0.4, 'rgba(173,63,120, 0.4)'],\t\n  [0.5, 'rgba(205,74,118, 0.4)'], \n  [0.6, 'rgba(210,103,103\t, 0.4)'],\t\t\n  [0.7, 'rgba(216,132,89,0.7)'], \n  [0.8, 'rgba(222,161,75, 0.4)'],\t\n  [0.9, 'rgba(228,190,61, 0.4)'],\n  [1, 'rgba(240,249,33, 0.4)']\n]\nconst options = [{\n  name: '1993',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T0',\n  stops: stops\n}, {\n  name: '1994',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T1',\n  stops: stops\n}, {\n  name: '1995',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T2',\n  stops: stops\n}, {\n  name: '1996',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T3',\n  stops: stops\n}, {\n  name: '1997',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T4',\n  stops: stops\n}, {\n  name: '1998',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T5',\n  stops: stops\n}, {\n  name: '1999',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T6',\n  stops: stops\n}, {\n  name: '2000',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T7',\n  stops: stops\n}, {\n  name: '2001',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T8',\n  stops: stops\n}, {\n  name: '2002',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T9',\n  stops: stops\n}, {\n  name: '2003',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T10',\n  stops: stops\n}, {\n  name: '2004',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T11',\n  stops: stops\n}, {\n  name: '2005',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T12',\n  stops: stops\n}, {\n  name: '2006',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T13',\n  stops: stops\n}, {\n  name: '2007',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T14',\n  stops: stops\n}, {\n  name: '2008',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T15',\n  stops: stops\n}, {\n  name: '2009',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T16',\n  stops: stops\n}, {\n  name: '2010',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T17',\n  stops: stops\n}, {\n  name: '2011',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T18',\n  stops: stops\n}, {\n  name: '2012',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T19',\n  stops: stops\n}, {\n  name: '2013',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T20',\n  stops: stops\n}, {\n  name: '2014',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T21',\n  stops: stops\n}, {\n  name: '2015',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T22',\n  stops: stops\n}, {\n  name: '2016',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T23',\n  stops: stops\n}, {\n  name: '2017',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T24',\n  stops: stops\n}, {\n  name: '2018',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T25',\n  stops: stops\n}\n]\n\nclass App extends React.Component {\n  mapRef = React.createRef();\n  map;\n  tooltipContainer;\n\n  setTooltip(features) {\n    if (features.length) {\n      ReactDOM.render(\n        React.createElement(\n          Tooltip, {\n            features\n          }\n        ),\n        this.tooltipContainer\n      );\n    } else {\n      ReactDOM.unmountComponentAtNode(this.tooltipContainer);\n    }\n  }\n\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: options[0]\n    };\n  }\n\n  componentDidUpdate() {\n    this.setFill();\n  }\n\n  componentDidMount() {\n    this.tooltipContainer = document.createElement('div');\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',\n      // style: 'mapbox://styles/mapbox/dark-v10',\n      center: [12, 26],\n      zoom: 1.5,\n    });\n\n    this.map.on('load', () => {\n      this.map.addSource('countries', {\n        type: 'geojson',\n        data\n      });\n\n      this.map.addLayer({\n        id: 'countries',\n        type: 'fill',\n        source: 'countries'\n      },'country-label'); // ID metches `mapbox/streets-v9`\n\n      this.setFill();\n\n    \n\n   \n    });\n\n  // componentDidMount() {\n\n    // const map = new mapboxgl.Map({\n    //   container: this.mapRef.current,\n    //   style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',\n    //   // style: 'mapbox://styles/mapbox/dark-v10',\n    //   center: [12, 26],\n    //   zoom: 1.5,\n    // });\n    \n    const tooltip = new mapboxgl.Marker(this.tooltipContainer, {\n      offset: [-120, 0]\n    }).setLngLat([0,0]).addTo(this.map);\n\n    var popup = new mapboxgl.Popup({\n      // className: \"gray-dark\",\n      closeButton: false,\n      closeOnClick: false\n      });\n      // txt-code--dark\n\n      this.map.on('mouseenter', 'countries', (e) => {\n        this.map.getCanvas().style.cursor =  'pointer';\n        // popup.remove();\n      });\n    this.map.on('click', 'countries', (e) => {\n      const features = this.map.queryRenderedFeatures(e.point, {\n       \n      });\n      // console.log(features[0].properties);\n      const { name, description, stops, property } = this.state.active;\n      // console.log(property);\n      const prob_intro = features[0].properties[property]\n      // this.map.getCanvas().style.cursor =  'pointer';\n      this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n      popup \n      .setLngLat(e.lngLat)\n       .setHTML('<b><u>Country Information' + '</b></u>' +\n          '<ul>' +\n          '<li><b>Name: </b>' + features[0].properties[\"NAME\"] + '</li>' +\n          '<li><b>Introduction Probability: </b>' + prob_intro  + '</li>' +\n          '</ul>')\n      .addTo(this.map);\n    });\n    this.map.on('mouseleave', 'countries', (e) => {\n      this.map.getCanvas().style.cursor =  '';\n      popup.remove();\n    });\n  }\n\n  setFill() {\n    const { property, stops } = this.state.active;\n    this.map.setPaintProperty('countries', 'fill-color', {\n      property,\n      stops\n    },\n    )\n    this.map.setPaintProperty('countries', 'fill-outline-color', {\n      property,\n      stops\n    },\n    );    \n  }\n\n  render() {\n    const { name, description, stops, property } = this.state.active;\n    const renderLegendKeys = (stop, i) => {\n      return (\n        <div key={i} className='txt-s '>\n          <span className=' round-full w12 h12 inline-block ' style={{ backgroundColor: stop[1] }} />\n          <span >{`${stop[0].toLocaleString()}`}</span>\n        </div>\n      );\n    }\n\n   \n    const renderOptions = (option, i) => {\n      return (\n        <label key={i} className=\"toggle-container  right  left px3 py3\">\n          <input  onChange={() => this.setState({ active: options[i] })} checked={option.property === property} name=\"toggle\" type=\"radio\" />\n          <div  className=\"toggle grid txt-s color-white right   left toggle--active-white\">{option.name}</div>\n        </label>\n      );\n    }\n\n    return (\n      <div>\n        <div ref={this.mapRef} className=\"absolute top right left bottom align-middle grid\" />\n        <label className=\"ctxt-bold color-white absolute mt6 ml12\" >Select Year:</label>\n        <div  className=\"toggle-group grid ctxt-bold color-white absolute mt36 ml12 border border--2 border--white bg-transparent  shadow-darken10  absolute  \">\n          {options.map(renderOptions)}\n        </div>\n        <div  className=\" bg-transparent color-white absolute bottom right mr12 mb24 py12 px12 border--white round border border--2 round shadow-darken10 z1 \">\n          <div className='mb6 color-white'>\n            <h2 className=\"txt-bold txt-s block color-white\">{name}</h2>\n            <p className='txt-s color-white'>{description}</p>\n          </div>\n          {stops.map(renderLegendKeys)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}