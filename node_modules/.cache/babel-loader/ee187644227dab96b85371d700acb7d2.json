{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\n\nvar inherits = require('inherits');\n\nvar css = require('dom-css');\n\nvar uuid = require('node-uuid');\n\nvar insertcss = require('insert-css');\n\nmodule.exports = Multibox;\ninherits(Multibox, EventEmitter);\n\nfunction Multibox(root, opts, theme, id) {\n  if (!(this instanceof Multibox)) return new Multibox(root, opts, theme, id);\n  opts = opts || {};\n  var self = this;\n\n  var container = require('./container')(root, opts.label);\n\n  require('./label')(container, opts.label, theme);\n\n  var boxes = container.appendChild(document.createElement('div'));\n  css(boxes, {\n    position: 'relative',\n    width: '60%',\n    display: 'inline-block',\n    paddingBottom: '7px'\n  });\n  if (!opts.count) opts.count = opts.names.length;\n  var inputs = [];\n  var i = 0;\n\n  for (i; i < opts.count; i++) {\n    var box = boxes.appendChild(document.createElement('span'));\n    css(box, {\n      display: 'inline-block'\n    });\n    var classname = 'control-panel-multibox-' + id + uuid.v4() + i;\n    var input = box.appendChild(document.createElement('input'));\n    input.id = 'multibox-' + opts.label + id + i;\n    input.type = 'checkbox';\n    input.checked = opts.initial ? opts.initial[i] : true;\n    input.classList.add('control-panel-multibox-' + id);\n    input.classList.add(classname);\n    var label = box.appendChild(document.createElement('label'));\n    label.htmlFor = 'multibox-' + opts.label + id + i;\n    label.className = 'control-panel-multibox-' + id;\n    var color = opts.colors ? opts.colors[i] : theme.foreground1;\n    var tmpcss = `input[type=checkbox]:checked.${classname}  + label:before {\n      background-color: ${color};\n    }`;\n    insertcss(tmpcss);\n\n    if (opts.names) {\n      var name = box.appendChild(document.createElement('span'));\n      name.innerHTML = opts.names[i];\n      css(name, {\n        backgroundColor: theme.background2,\n        paddingRight: '7px',\n        verticalAlign: 'middle',\n        padding: '2px',\n        marginRight: '8px',\n        color: theme.text2\n      });\n    }\n\n    inputs.push(input);\n  }\n\n  setTimeout(function () {\n    var state = inputs.map(function (d) {\n      return d.checked;\n    });\n    self.emit('initialized', state);\n  });\n  inputs.forEach(function (input) {\n    input.onchange = function (data) {\n      var state = inputs.map(function (d) {\n        return d.checked;\n      });\n      self.emit('input', state);\n    };\n  });\n}","map":{"version":3,"sources":["/Users/garrettmillar/pandemic_dashboard/node_modules/control-panel/components/multibox.js"],"names":["EventEmitter","require","inherits","css","uuid","insertcss","module","exports","Multibox","root","opts","theme","id","self","container","label","boxes","appendChild","document","createElement","position","width","display","paddingBottom","count","names","length","inputs","i","box","classname","v4","input","type","checked","initial","classList","add","htmlFor","className","color","colors","foreground1","tmpcss","name","innerHTML","backgroundColor","background2","paddingRight","verticalAlign","padding","marginRight","text2","push","setTimeout","state","map","d","emit","forEach","onchange","data"],"mappings":"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","sourcesContent":["var EventEmitter = require('events').EventEmitter\nvar inherits = require('inherits')\nvar css = require('dom-css')\nvar uuid = require('node-uuid')\nvar insertcss = require('insert-css')\n\nmodule.exports = Multibox\ninherits(Multibox, EventEmitter)\n\nfunction Multibox (root, opts, theme, id) {\n  if (!(this instanceof Multibox)) return new Multibox(root, opts, theme, id)\n  opts = opts || {}\n  var self = this\n\n  var container = require('./container')(root, opts.label)\n  require('./label')(container, opts.label, theme)\n\n  var boxes = container.appendChild(document.createElement('div'))\n  css(boxes, {\n    position: 'relative',\n    width: '60%',\n    display: 'inline-block',\n    paddingBottom: '7px'\n  })\n\n  if (!opts.count) opts.count = opts.names.length\n  var inputs = []\n\n  var i =0 \n  for (i;i<opts.count;i++) {\n    var box = boxes.appendChild(document.createElement('span'))\n    css(box, {\n      display: 'inline-block'\n    })\n\n    var classname = 'control-panel-multibox-' + id + uuid.v4() + i\n\n    var input = box.appendChild(document.createElement('input'))\n    input.id = 'multibox-' + opts.label + id + i\n    input.type = 'checkbox'\n    input.checked = opts.initial ? opts.initial[i] : true\n    input.classList.add('control-panel-multibox-' + id)\n    input.classList.add(classname)\n\n    var label = box.appendChild(document.createElement('label'))\n    label.htmlFor = 'multibox-' + opts.label + id + i\n    label.className = 'control-panel-multibox-' + id\n\n    var color = opts.colors ? opts.colors[i] : theme.foreground1\n    var tmpcss = `input[type=checkbox]:checked.${classname}  + label:before {\n      background-color: ${color};\n    }`\n    insertcss(tmpcss)\n\n    if (opts.names) {\n      var name = box.appendChild(document.createElement('span'))\n      name.innerHTML = opts.names[i]\n      css(name, {\n        backgroundColor: theme.background2,\n        paddingRight: '7px',\n        verticalAlign: 'middle',\n        padding: '2px',\n        marginRight: '8px',\n        color: theme.text2\n      })\n    }\n\n    inputs.push(input)\n  }\n\n  setTimeout(function () {\n    var state = inputs.map(function (d) {\n      return d.checked\n    })\n    self.emit('initialized', state)\n  })\n\n  inputs.forEach(function (input) {\n    input.onchange = function (data) {\n      var state = inputs.map(function (d) {\n        return d.checked\n      })\n      self.emit('input', state)\n    }\n  })\n}\n"]},"metadata":{},"sourceType":"script"}