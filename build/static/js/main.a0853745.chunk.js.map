{"version":3,"sources":["logo.svg","components/tooltip.js","App.js","index.js"],"names":["module","exports","Tooltip","features","this","props","className","map","feature","i","key","layer","id","React","Component","mapboxgl","accessToken","MAPBOX_TOKEN","stops","options","name","description","property","propertyPresence","myDeckLayer","MapboxLayer","type","ArcLayer","data","getSourceColor","d","getTargetColor","getSourcePosition","START","getTargetPosition","END","getColor","App","mapRef","createRef","handleViewportChange","viewport","setState","state","handleGeocoderViewportChange","transitionDuration","active","latitude","longitude","zoom","bearing","pitch","width","height","popupInfo","style","ref","onViewportChange","mapboxApiAccessToken","position","length","ReactDOM","render","createElement","tooltipContainer","unmountComponentAtNode","setFill","document","Map","container","current","center","on","MapboxGeocoder","addLayer","addSource","presence_data","source","interactive","layout","Marker","offset","setLngLat","addTo","popup","Popup","closeButton","closeOnClick","e","getCanvas","cursor","queryRenderedFeatures","point","prob_intro","properties","lngLat","setHTML","p","remove","setPaintProperty","option","onChange","checked","stop","backgroundColor","toLocaleString","getElementById"],"mappings":"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","file":"static/js/main.a0853745.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1094cb6d.svg\";","import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class Tooltip extends React.Component {\n\n  static propTypes = {\n    features: PropTypes.array.isRequired\n  };\n\n  render() {\n    const { features } = this.props;\n\n    const renderFeature = (feature, i) => {\n      return (\n        <div key={i}>\n          <strong className='mr3'>{feature.layer['source-layer']}:</strong>\n          <span className='color-gray-light'>{feature.layer.id}</span>\n        </div>\n      )\n    };\n\n    return (\n      <div className=\"flex-parent-inline flex-parent--center-cross flex-parent--column absolute bottom\">\n        <div className=\"flex-child px12 py12 bg-gray-dark color-white shadow-darken10 round txt-s w240 clip txt-truncate\">\n          {features.map(renderFeature)}\n        </div>\n        <span className=\"flex-child color-gray-dark triangle triangle--d\"></span>\n      </div>\n    );\n  }\n}\n","import React, {useState, useRef, useCallback, Component }  from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport mapboxgl from 'mapbox-gl'\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport MapGL, { NavigationControl, Marker, Popup } from \"react-map-gl\";\nimport { render } from \"react-dom\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport { Icon } from \"semantic-ui-react\";\nimport data from './pandemic_output.json'\n// import arcData from './arcData.json'\nimport presence_data from './presence_pandemic.json'\nimport Tooltip from './components/tooltip'\nimport ReactDOM from 'react-dom'\nimport ReactMapboxGl from 'react-mapbox-gl';\n// import React, {useState, useRef, useCallback} from 'react';\nimport DeckGL from '@deck.gl/react';\nimport {ScatterplotLayer, GeoJsonLayer, ArcLayer} from '@deck.gl/layers';\nimport {StaticMap} from 'react-map-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\n// import Geocoder from 'react-map-gl-geocoder';\n// import { Container, Col, Row } from 'reactstrap';\nimport {MapboxLayer} from '@deck.gl/mapbox';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport  \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\n// const mapStyle = {\n//   width: '100%',\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'\n// const TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'\n\nvar stops =  [\n  [0, 'rgba(45,69,132, 0.4)'],\t\n  [0.1, 'rgba(77,30,129, 0.4)'],\t\n  [0.2, 'rgba(109,41,126, 0.4)'],\t\t\t\n  [0.3, 'rgba(141,52,123, 0.4)'], \n  [0.4, 'rgba(173,63,120, 0.4)'],\t\n  [0.5, 'rgba(205,74,118, 0.4)'], \n  [0.6, 'rgba(210,103,103\t, 0.4)'],\t\t\n  [0.7, 'rgba(216,132,89,0.7)'], \n  [0.8, 'rgba(222,161,75, 0.4)'],\t\n  [0.9, 'rgba(228,190,61, 0.4)'],\n  [1, 'rgba(240,249,33, 0.4)']\n]\n\nconst options = [{\n  name: '1993',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T0',\n  stops: stops\n}, {\n  name: '1994',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T1',\n  stops: stops\n}, {\n  name: '1995',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T2',\n  stops: stops\n}, {\n  name: '1996',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T3',\n  stops: stops\n}, {\n  name: '1997',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T4',\n  stops: stops\n}, {\n  name: '1998',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T5',\n  stops: stops\n}, {\n  name: '1999',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T6',\n  stops: stops\n}, {\n  name: '2000',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T7',\n  stops: stops\n}, {\n  name: '2001',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T8',\n  stops: stops\n}, {\n  name: '2002',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T9',\n  stops: stops\n}, {\n  name: '2003',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T10',\n  stops: stops\n}, {\n  name: '2004',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T11',\n  stops: stops\n}, {\n  name: '2005',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T12',\n  stops: stops\n}, {\n  name: '2006',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T13',\n  stops: stops\n}, {\n  name: '2007',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T14',\n  stops: stops\n}, {\n  name: '2008',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T15',\n  stops: stops\n}, {\n  name: '2009',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T16',\n  stops: stops\n}, {\n  name: '2010',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T17',\n  stops: stops\n}, {\n  name: '2011',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T18',\n  stops: stops\n}, {\n  name: '2012',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T19',\n  stops: stops\n}, {\n  name: '2013',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T20',\n  stops: stops\n}, {\n  name: '2014',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T21',\n  stops: stops\n}, {\n  name: '2015',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T22',\n  stops: stops\n}, {\n  name: '2016',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T23',\n  stops: stops\n}, {\n  name: '2017',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T24',\n  stops: stops\n}, {\n  name: '2018',\n  description: 'Introduction Probability',\n  property: 'Probability of introduction T25',\n  propertyPresence: 'Presence 1993',\n  stops: stops\n}\n]\n\nconst markerList = [{\n  name: '1993',\n  description: 'Presence',\n  property: 'Presence 1993'\n}, {\n  name: '1994',\n  description: 'Presence',\n  property: 'Presence 1994'\n}, {\n  name: '1995',\n  description: 'Presence',\n  property: 'Presence 1995'\n}, {\n  name: '1996',\n  description: 'Presence',\n  property: 'Presence 1996'\n}, {\n  name: '1997',\n  description: 'Presence',\n  property: 'Presence 1997'\n}, {\n  name: '1998',\n  description: 'Presence',\n  property: 'Presence 1998'\n}, {\n  name: '1999',\n  description: 'Presence',\n  property: 'Presence 1999'\n}, {\n  name: '2000',\n  description: 'Presence',\n  property: 'Presence 2000'\n}, {\n  name: '2001',\n  description: 'Presence',\n  property: 'Presence 2001'\n}, {\n  name: '2002',\n  description: 'Presence',\n  property: 'Presence 2002'\n}, {\n  name: '2003',\n  description: 'Presence',\n  property: 'Presence 2003'\n}, {\n  name: '2004',\n  description: 'Presence',\n  property: 'Presence 2004'\n}, {\n  name: '2005',\n  description: 'Presence',\n  property: 'Presence 2005'\n}, {\n  name: '2006',\n  description: 'Presence',\n  property: 'Presence 2006'\n}, {\n  name: '2007',\n  description: 'Presence',\n  property: 'Presence 2007'\n}, {\n  name: '2008',\n  description: 'Presence',\n  property: 'Presence 2008'\n}, {\n  name: '2009',\n  description: 'Presence',\n  property: 'Presence 2009'\n}, {\n  name: '2010',\n  description: 'Presence',\n  property: 'Presence 2010'\n}, {\n  name: '2011',\n  description: 'Presence',\n  property: 'Presence 2011'\n}, {\n  name: '2012',\n  description: 'Presence',\n  property: 'Presence 2012'\n}, {\n  name: '2013',\n  description: 'Presence',\n  property: 'Presence 2013'\n}, {\n  name: '2014',\n  description: 'Presence',\n  property: 'Presence 2014'\n}, {\n  name: '2015',\n  description: 'Presence',\n  property: 'Presence 2015'\n}, {\n  name: '2016',\n  description: 'Presence',\n  property: 'Presence 2016'\n}, {\n  name: '2017',\n  description: 'Presence',\n  property: 'Presence 2017'\n}, {\n  name: '2018',\n  description: 'Presence',\n  property: 'Presence 2018'\n}\n]\n\nconst myDeckLayer = new MapboxLayer({\n  id: 'my-scatterplot',\n  type: ArcLayer,\n  data: [\n    // [\n      // [\n        {\n          \"id\": 0,\n          \"START\": [\n            -8.409518,\n            115.188919\n          ],\n          \"END\": [\n            22.302711,\n            114.177216\n          ],\n          \"Year\": 1993\n        },\n        // {\n        //   \"id\": 1,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 1993\n        // },\n        // {\n        //   \"id\": 4,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"Year\": 1995\n        // },\n        // {\n        //   \"id\": 6,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 1995\n        // },\n        // {\n        //   \"id\": 7,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"Year\": 1997\n        // },\n        // {\n        //   \"id\": 8,\n        //   \"START\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 1997\n        // },\n        // {\n        //   \"id\": 9,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 1997\n        // },\n        // {\n        //   \"id\": 12,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 1999\n        // },\n        // {\n        //   \"id\": 13,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 1999\n        // },\n        // {\n        //   \"id\": 14,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2000\n        // },\n        // {\n        //   \"id\": 15,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2000\n        // },\n        // {\n        //   \"id\": 16,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2000\n        // },\n        // {\n        //   \"id\": 17,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 18,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 19,\n        //   \"START\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 20,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2001\n        // },\n        // {\n        //   \"id\": 21,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2003\n        // },\n        // {\n        //   \"id\": 22,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2003\n        // },\n        // {\n        //   \"id\": 23,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": \"Macao\",\n        //   \"Year\": 2003\n        // },\n        // {\n        //   \"id\": 26,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2004\n        // },\n        // {\n        //   \"id\": 27,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2004\n        // },\n        // {\n        //   \"id\": 29,\n        //   \"START\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2005\n        // },\n        // {\n        //   \"id\": 36,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2008\n        // },\n        // {\n        //   \"id\": 37,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2008\n        // },\n        // {\n        //   \"id\": 40,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2009\n        // },\n        // {\n        //   \"id\": 41,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2009\n        // },\n        // {\n        //   \"id\": 42,\n        //   \"START\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2009\n        // },\n        // {\n        //   \"id\": 44,\n        //   \"START\": [\n        //     35.652832,\n        //     139.839478\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2010\n        // },\n        // {\n        //   \"id\": 45,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2010\n        // },\n        // {\n        //   \"id\": 49,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"Year\": 2011\n        // },\n        // {\n        //   \"id\": 57,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2012\n        // },\n        // {\n        //   \"id\": 59,\n        //   \"START\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2012\n        // },\n        // {\n        //   \"id\": 60,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2012\n        // },\n        // {\n        //   \"id\": 62,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2013\n        // },\n        // {\n        //   \"id\": 64,\n        //   \"START\": [\n        //     13.736717,\n        //     100.523186\n        //   ],\n        //   \"END\": [\n        //     -8.409518,\n        //     115.188919\n        //   ],\n        //   \"Year\": 2013\n        // },\n        // {\n        //   \"id\": 65,\n        //   \"START\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"END\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"Year\": 2014\n        // },\n        // {\n        //   \"id\": 72,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2016\n        // },\n        // {\n        //   \"id\": 75,\n        //   \"START\": [\n        //     39.913818,\n        //     116.363625\n        //   ],\n        //   \"END\": [\n        //     1.29027,\n        //     103.851959\n        //   ],\n        //   \"Year\": 2016\n        // },\n        // {\n        //   \"id\": 87,\n        //   \"START\": [\n        //     22.302711,\n        //     114.177216\n        //   ],\n        //   \"END\": [\n        //     3.140853,\n        //     101.693207\n        //   ],\n        //   \"Year\": 2018\n        // }\n      // ]\n    // ]\n    // {\"id\":0,\"Origin\":[-8.409518,115.188919],\"Destination\":[22.302711,114.177216],\"Year\":1993},{\"id\":1,\"Origin\":[13.736717,100.523186],\"Destination\":[1.29027,103.851959],\"Year\":1993},{\"id\":4,\"Origin\":[22.302711,114.177216],\"Destination\":[39.913818,116.363625],\"Year\":1995},{\"id\":6,\"Origin\":[13.736717,100.523186],\"Destination\":[22.302711,114.177216],\"Year\":1995},{\"id\":7,\"Origin\":[39.913818,116.363625],\"Destination\":[35.652832,139.839478],\"Year\":1997},{\"id\":8,\"Origin\":[35.652832,139.839478],\"Destination\":[-8.409518,115.188919],\"Year\":1997},{\"id\":9,\"Origin\":[13.736717,100.523186],\"Destination\":[-8.409518,115.188919],\"Year\":1997},{\"id\":12,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":1999},{\"id\":13,\"Origin\":[39.913818,116.363625],\"Destination\":[-8.409518,115.188919],\"Year\":1999},{\"id\":14,\"Origin\":[39.913818,116.363625],\"Destination\":[3.140853,101.693207],\"Year\":2000},{\"id\":15,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2000},{\"id\":16,\"Origin\":[22.302711,114.177216],\"Destination\":[1.29027,103.851959],\"Year\":2000},{\"id\":17,\"Origin\":[39.913818,116.363625],\"Destination\":[3.140853,101.693207],\"Year\":2001},{\"id\":18,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2001},{\"id\":19,\"Origin\":[-8.409518,115.188919],\"Destination\":[22.302711,114.177216],\"Year\":2001},{\"id\":20,\"Origin\":[39.913818,116.363625],\"Destination\":[-8.409518,115.188919],\"Year\":2001},{\"id\":21,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2003},{\"id\":22,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2003},{\"id\":23,\"Origin\":[13.736717,100.523186],\"Destination\":\"Macao\",\"Year\":2003},{\"id\":26,\"Origin\":[1.29027,103.851959],\"Destination\":[3.140853,101.693207],\"Year\":2004},{\"id\":27,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2004},{\"id\":29,\"Origin\":[35.652832,139.839478],\"Destination\":[3.140853,101.693207],\"Year\":2005},{\"id\":36,\"Origin\":[1.29027,103.851959],\"Destination\":[3.140853,101.693207],\"Year\":2008},{\"id\":37,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2008},{\"id\":40,\"Origin\":[13.736717,100.523186],\"Destination\":[3.140853,101.693207],\"Year\":2009},{\"id\":41,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2009},{\"id\":42,\"Origin\":[3.140853,101.693207],\"Destination\":[1.29027,103.851959],\"Year\":2009},{\"id\":44,\"Origin\":[35.652832,139.839478],\"Destination\":[3.140853,101.693207],\"Year\":2010},{\"id\":45,\"Origin\":[39.913818,116.363625],\"Destination\":[22.302711,114.177216],\"Year\":2010},{\"id\":49,\"Origin\":[1.29027,103.851959],\"Destination\":[22.302711,114.177216],\"Year\":2011},{\"id\":57,\"Origin\":[39.913818,116.363625],\"Destination\":[1.29027,103.851959],\"Year\":2012},{\"id\":59,\"Origin\":[3.140853,101.693207],\"Destination\":[-8.409518,115.188919],\"Year\":2012},{\"id\":60,\"Origin\":[1.29027,103.851959],\"Destination\":[-8.409518,115.188919],\"Year\":2012},{\"id\":62,\"Origin\":[13.736717,100.523186],\"Destination\":[3.140853,101.693207],\"Year\":2013},{\"id\":64,\"Origin\":[13.736717,100.523186],\"Destination\":[-8.409518,115.188919],\"Year\":2013},{\"id\":65,\"Origin\":[1.29027,103.851959],\"Destination\":[39.913818,116.363625],\"Year\":2014},{\"id\":72,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2016},{\"id\":75,\"Origin\":[39.913818,116.363625],\"Destination\":[1.29027,103.851959],\"Year\":2016},{\"id\":87,\"Origin\":[22.302711,114.177216],\"Destination\":[3.140853,101.693207],\"Year\":2018}\n  ],\n  // getPosition: d => d.position,\n  // getRadius: d => d.size,\n  getSourceColor: d => [64, 255, 0],\n  getTargetColor: d => [0, 128, 200],\n  // getFillColor: [255, 0, 0],\n  // getSourcePosition: d => d.Origin,\n  // getTargetPosition: d => d.Destination,\n  getSourcePosition: d => d.START,\n  getTargetPosition: d => d.END,\n  getColor: [255, 0, 0]\n});\n// console.log(myDeckLayer);\n\nclass App extends React.Component {\n  mapRef = React.createRef();\n\n  handleViewportChange = viewport => {\n    this.setState({\n      viewport: { ...this.state.viewport, ...viewport }\n    });\n  };\n\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n  handleGeocoderViewportChange = viewport => {\n    const geocoderDefaultOverrides = { transitionDuration: 1000 };\n\n    return this.handleViewportChange({\n      ...viewport,\n      ...geocoderDefaultOverrides\n    });\n  };\n\n  render() {\n    const { viewport } = this.state;\n\n    return (\n      <div style={{ height: \"100vh\" }}>\n        <MapGL\n          ref={this.mapRef}\n          {...viewport}\n          width=\"100%\"\n          height=\"100%\"\n          onViewportChange={this.handleViewportChange}\n          mapboxApiAccessToken={MAPBOX_TOKEN}\n        >\n          <Geocoder\n            mapRef={this.mapRef}\n            onViewportChange={this.handleGeocoderViewportChange}\n            mapboxApiAccessToken={MAPBOX_TOKEN}\n            position=\"top-left\"\n          />\n        </MapGL>\n      </div>\n    );\n  }\n\n  mapRef = React.createRef();\n  map;\n  tooltipContainer;\n\n  \n\n  setTooltip(features) {\n    if (features.length) {\n      ReactDOM.render(\n        React.createElement(\n          Tooltip, {\n            features\n          }\n        ),\n        this.tooltipContainer\n      );\n    } else {\n      ReactDOM.unmountComponentAtNode(this.tooltipContainer);\n    }\n  }\n\n\n\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: options[0],\n      viewport: {\n        latitude: 17.44212,\n        longitude: 78.391384,\n        zoom: 15,\n        bearing: 0,\n        pitch: 0,\n        width: \"100%\",\n        height: 500\n      },\n      popupInfo: null\n    };\n  }\n\n  componentDidUpdate() {\n    this.setFill();\n  }\n\n  componentDidMount() {\n\n    \n    this.tooltipContainer = document.createElement('div');\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',\n      // style: 'mapbox://styles/mapbox/dark-v10',\n      center: [12, 26],\n      // center: [-122.396511,37.793089],\n      zoom: 1.5,\n      // zoom: 9\n    });\n\n    this.map.on('load', () => {\n      new MapboxGeocoder({\n        accessToken: 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw',\n        mapboxgl: mapboxgl\n        })\n      this.map.addLayer(myDeckLayer);\n      // this.map.addLayer({\n      //           id: 'my-arc',\n      //           type: 'ArcLayer',\n      //           data: arcData,\n      //           getSourcePosition: d => d.START,\n      //           getTargetPosition: d => d.END,\n      //           getSourceColor: d => [64, 255, 0],\n      //           getTargetColor: d => [0, 128, 200]\n      //       // });\n      \n      //       //Add the deck.gl arc layer to the map \n      //       // .addLayer(arclayer, 'waterway-label')\n      // });\n      this.map.addSource('countries', {\n        type: 'geojson',\n        data\n      });\n\n      this.map.addSource('presence_data', {\n        type: 'geojson',\n        presence_data\n      });\n\n      this.map.addLayer({\n        id: 'countries',\n        type: 'fill',\n        source: 'countries'\n      },'country-label'); \n\n      this.map.addLayer({\n        id: 'presence_data',\n        interactive: true,\n        type: \"symbol\",\n        source:  'presence_data',\n        layout: {\n          'icon-image': \n          ['concat', ['get', 'icon'], '-15'],\n          'text-field': ['get', 'title'],\n          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n          'text-offset': [0, 0.6],\n          'text-anchor': 'top'\n        }\n      }); \n      // this.map.addLayer(arclayer, 'waterway-label');\n\n      this.setFill();\n\n    //   presence_data.features.forEach((marker) => {\n    //     const markerEl = document.createElement('div');\n    //     markerEl.innerHTML = '🦟';\n    //     new mapboxgl.Marker(markerEl, { offset: [5,-5] })\n    //         .setLngLat(marker.geometry.coordinates)\n    //         .addTo(this.map);\n    //     markerEl.addEventListener('click', () => {\n    //       this.map.flyTo({\n    //           center: marker.geometry.coordinates,\n    //           zoom: 11,\n    //       });\n    //     });\n    // });\n\n    \n    \n    });\n      \n    \n\n    const tooltip = new mapboxgl.Marker(this.tooltipContainer, {\n      offset: [-120, 0]\n    }).setLngLat([0,0]).addTo(this.map);\n\n    var popup = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false\n      });\n\n      this.map.on('mouseenter', 'countries', (e) => {\n        this.map.getCanvas().style.cursor =  'pointer';\n      });\n\n\n      this.map.on('click', 'countries', (e) => {\n        const features = this.map.queryRenderedFeatures(e.point, {\n      });\n      const { name, description, stops, property } = this.state.active;\n      const prob_intro = features[0].properties[property]\n      this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n      popup \n      .setLngLat(e.lngLat)\n       .setHTML('<b><u>Country Information' + '</b></u>' +\n          '<ul>' +\n          '<li><b>Name: </b>' + features[0].properties[\"NAME\"] + '</li>' +\n          '<li><b>Introduction Probability: </b>' + prob_intro  + '</li>' +\n          '</ul>')\n      .addTo(this.map);\n    });\n\n    \n\n    this.map.on('click', 'presence_data', (p) => {\n      const presenceFeatures = this.map.queryRenderedFeatures(p.point, {\n    });\n    // console.log(presenceFeatures)\n  });\n    this.map.on('mouseleave', 'countries', (e) => {\n      this.map.getCanvas().style.cursor =  '';\n      popup.remove();\n    });\n\n   \n  }\n\n  \n\n  setFill() {\n    const { property, stops } = this.state.active;\n    this.map.setPaintProperty('countries', 'fill-color', {\n      property,\n      stops\n    },\n    )\n    this.map.setPaintProperty('countries', 'fill-outline-color', {\n      property,\n      stops\n    },\n    )\n      // this.map.setTooltip('presence_data', '', {\n      //   property,\n      //   stops\n      // })  ;\n      ;    \n  }\n\n\n\n  render() {\n    const { name, description, stops, property } = this.state.active;\n    const renderLegendKeys = (stop, i) => {\n      return (\n        <div key={i} className='txt-s '>\n          <span className=' round-full w12 h12 inline-block ' style={{ backgroundColor: stop[1] }} />\n          <span className='px12' >{`${stop[0].toLocaleString()}`}</span>\n        </div>\n      );\n    }\n\n   \n    const renderOptions = (option, i) => {\n      return (\n        <label key={i} className=\"toggle-container w60 py0 px0 \">\n          <input  onChange={() => this.setState({ active: options[i] })} checked={option.property === property} name=\"toggle\" type=\"radio\" />\n          <div  className=\"toggle txt-s color-white toggle--active-white \">{option.name}</div>\n        </label>\n      );\n    }\n    const {viewport} = this.state\n\n    return (\n      \n      <div>\n        <div ref={this.mapRef} className=\"absolute top right left bottom align-middle grid\" />\n        <label className=\"ctxt-bold color-white absolute mt6 ml12 \" ><b>Select Year:</b></label>\n        <div  className=\"toggle-group grid mt36 ml12 top left  ctxt-bold color-white absolute  border border--2 border--white bg-transparent shadow-darken10  \">\n          {options.map(renderOptions)}\n        </div>\n        <div  className=\" bg-transparent color-white absolute bottom right mr12 mb40 py12 px12 border--white round border border--2 round shadow-darken10 z1 \">\n          <div className='mb6 color-white '>\n            <h2 className=\"txt-bold txt-s block color-white \">{name}</h2>\n            <p className='txt-s color-white '>{description}</p>\n          </div>\n          {stops.map(renderLegendKeys)}\n        </div>\n      </div>\n    );//absolute top left ml12 mt12 border border--2 border--white bg-white shadow-darken10 z1\n  }\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport mapboxgl from 'mapbox-gl'\nimport data from './pandemic_output.json'\n\nimport App from './App';\n\nReactDOM.render( <App /> , document.getElementById(\"root\"))\n"],"sourceRoot":""}