import React, {useState, useRef, useCallback, Component }  from 'react';
import logo from './logo.svg';
import './App.css';
import mapboxgl from 'mapbox-gl'
import * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';
import MapGL, { NavigationControl, Marker, Popup } from "react-map-gl";
import { render } from "react-dom";
import Geocoder from "react-map-gl-geocoder";
import { Icon } from "semantic-ui-react";
import data from './pandemic_output.json'
import presence_data from './presence_pandemic.json'
import Tooltip from './components/tooltip'
import ReactDOM from 'react-dom'
import ReactMapboxGl from 'react-mapbox-gl';
import DeckGL from '@deck.gl/react';
import {ScatterplotLayer, GeoJsonLayer, ArcLayer} from '@deck.gl/layers';
import {StaticMap} from 'react-map-gl';
import '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';
import {MapboxLayer} from '@deck.gl/mapbox';
import "mapbox-gl/dist/mapbox-gl.css";
import  "react-map-gl-geocoder/dist/mapbox-gl-geocoder.css";
import StylesControl from 'mapbox-gl-controls/lib/styles';
import CompassControl from 'mapbox-gl-controls/lib/compass';
import RulerControl from 'mapbox-gl-controls/lib/ruler';
import ZoomControl from 'mapbox-gl-controls/lib/zoom';
import LanguageControl from 'mapbox-gl-controls/lib/language';
import InspectControl from 'mapbox-gl-controls/lib/inspect';
import TooltipControl from 'mapbox-gl-controls/lib/tooltip';
// import arcData from './arcData.json'
// import Geocoder from 'react-map-gl-geocoder';
// import { Container, Col, Row } from 'reactstrap';
// const mapStyle = {
//   width: '100%',
// import React, {useState, useRef, useCallback} from 'react';
mapboxgl.accessToken = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'
// const TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw';
const MAPBOX_TOKEN = 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw'

var stops =  [
  [0, 'rgba(45,69,132, 0.4)'],	
  [0.1, 'rgba(77,30,129, 0.4)'],	
  [0.2, 'rgba(109,41,126, 0.4)'],			
  [0.3, 'rgba(141,52,123, 0.4)'], 
  [0.4, 'rgba(173,63,120, 0.4)'],	
  [0.5, 'rgba(205,74,118, 0.4)'], 
  [0.6, 'rgba(210,103,103	, 0.4)'],		
  [0.7, 'rgba(216,132,89,0.7)'], 
  [0.8, 'rgba(222,161,75, 0.4)'],	
  [0.9, 'rgba(228,190,61, 0.4)'],
  [1, 'rgba(240,249,33, 0.4)']
]

const options = [{
  name: '1993',
  description: 'Introduction Probability',
  property: 'Probability of introduction T0',
  stops: stops
}, {
  name: '1994',
  description: 'Introduction Probability',
  property: 'Probability of introduction T1',
  stops: stops
}, {
  name: '1995',
  description: 'Introduction Probability',
  property: 'Probability of introduction T2',
  stops: stops
}, {
  name: '1996',
  description: 'Introduction Probability',
  property: 'Probability of introduction T3',
  stops: stops
}, {
  name: '1997',
  description: 'Introduction Probability',
  property: 'Probability of introduction T4',
  stops: stops
}, {
  name: '1998',
  description: 'Introduction Probability',
  property: 'Probability of introduction T5',
  stops: stops
}, {
  name: '1999',
  description: 'Introduction Probability',
  property: 'Probability of introduction T6',
  stops: stops
}, {
  name: '2000',
  description: 'Introduction Probability',
  property: 'Probability of introduction T7',
  stops: stops
}, {
  name: '2001',
  description: 'Introduction Probability',
  property: 'Probability of introduction T8',
  stops: stops
}, {
  name: '2002',
  description: 'Introduction Probability',
  property: 'Probability of introduction T9',
  stops: stops
}, {
  name: '2003',
  description: 'Introduction Probability',
  property: 'Probability of introduction T10',
  stops: stops
}, {
  name: '2004',
  description: 'Introduction Probability',
  property: 'Probability of introduction T11',
  stops: stops
}, {
  name: '2005',
  description: 'Introduction Probability',
  property: 'Probability of introduction T12',
  stops: stops
}, {
  name: '2006',
  description: 'Introduction Probability',
  property: 'Probability of introduction T13',
  stops: stops
}, {
  name: '2007',
  description: 'Introduction Probability',
  property: 'Probability of introduction T14',
  stops: stops
}, {
  name: '2008',
  description: 'Introduction Probability',
  property: 'Probability of introduction T15',
  stops: stops
}, {
  name: '2009',
  description: 'Introduction Probability',
  property: 'Probability of introduction T16',
  stops: stops
}, {
  name: '2010',
  description: 'Introduction Probability',
  property: 'Probability of introduction T17',
  stops: stops
}, {
  name: '2011',
  description: 'Introduction Probability',
  property: 'Probability of introduction T18',
  stops: stops
}, {
  name: '2012',
  description: 'Introduction Probability',
  property: 'Probability of introduction T19',
  stops: stops
}, {
  name: '2013',
  description: 'Introduction Probability',
  property: 'Probability of introduction T20',
  stops: stops
}, {
  name: '2014',
  description: 'Introduction Probability',
  property: 'Probability of introduction T21',
  stops: stops
}, {
  name: '2015',
  description: 'Introduction Probability',
  property: 'Probability of introduction T22',
  stops: stops
}, {
  name: '2016',
  description: 'Introduction Probability',
  property: 'Probability of introduction T23',
  stops: stops
}, {
  name: '2017',
  description: 'Introduction Probability',
  property: 'Probability of introduction T24',
  stops: stops
}, {
  name: '2018',
  description: 'Introduction Probability',
  property: 'Probability of introduction T25',
  propertyPresence: 'Presence 1993',
  stops: stops
}
]

const markerList = [{
  name: '1993',
  description: 'Presence',
  property: 'Presence 1993'
}, {
  name: '1994',
  description: 'Presence',
  property: 'Presence 1994'
}, {
  name: '1995',
  description: 'Presence',
  property: 'Presence 1995'
}, {
  name: '1996',
  description: 'Presence',
  property: 'Presence 1996'
}, {
  name: '1997',
  description: 'Presence',
  property: 'Presence 1997'
}, {
  name: '1998',
  description: 'Presence',
  property: 'Presence 1998'
}, {
  name: '1999',
  description: 'Presence',
  property: 'Presence 1999'
}, {
  name: '2000',
  description: 'Presence',
  property: 'Presence 2000'
}, {
  name: '2001',
  description: 'Presence',
  property: 'Presence 2001'
}, {
  name: '2002',
  description: 'Presence',
  property: 'Presence 2002'
}, {
  name: '2003',
  description: 'Presence',
  property: 'Presence 2003'
}, {
  name: '2004',
  description: 'Presence',
  property: 'Presence 2004'
}, {
  name: '2005',
  description: 'Presence',
  property: 'Presence 2005'
}, {
  name: '2006',
  description: 'Presence',
  property: 'Presence 2006'
}, {
  name: '2007',
  description: 'Presence',
  property: 'Presence 2007'
}, {
  name: '2008',
  description: 'Presence',
  property: 'Presence 2008'
}, {
  name: '2009',
  description: 'Presence',
  property: 'Presence 2009'
}, {
  name: '2010',
  description: 'Presence',
  property: 'Presence 2010'
}, {
  name: '2011',
  description: 'Presence',
  property: 'Presence 2011'
}, {
  name: '2012',
  description: 'Presence',
  property: 'Presence 2012'
}, {
  name: '2013',
  description: 'Presence',
  property: 'Presence 2013'
}, {
  name: '2014',
  description: 'Presence',
  property: 'Presence 2014'
}, {
  name: '2015',
  description: 'Presence',
  property: 'Presence 2015'
}, {
  name: '2016',
  description: 'Presence',
  property: 'Presence 2016'
}, {
  name: '2017',
  description: 'Presence',
  property: 'Presence 2017'
}, {
  name: '2018',
  description: 'Presence',
  property: 'Presence 2018'
}
]

const myDeckLayer = new MapboxLayer({
  id: 'my-scatterplot',
  type: ArcLayer,
  data: [
    {"LINE":"06","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.396511,37.793089],"END":[-122.466172,37.762174]},
  {"LINE":"06","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.394114,37.794043],"END":[-122.467372,37.74903]},
  {"LINE":"06","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.405836,37.785741],"END":[-122.451206,37.764682]},
  {"LINE":"08","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.405267,37.79726],"END":[-122.40116,37.782024]},
  {"LINE":"08","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.401161,37.782018],"END":[-122.405302,37.79734]},
  {"LINE":"08","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.405267,37.79726],"END":[-122.40116,37.782024]},
  {"LINE":"08","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.401161,37.782018],"END":[-122.405302,37.79734]},
  {"LINE":"08","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.405267,37.79726],"END":[-122.40116,37.782024]},
  {"LINE":"08","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.401161,37.782018],"END":[-122.405302,37.79734]},
  {"LINE":"09","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.402069,37.723924],"END":[-122.401317,37.789157]},
  {"LINE":"09","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.404663,37.732954],"END":[-122.402465,37.712182]},
  {"LINE":"09","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.406876,37.709346],"END":[-122.417509,37.776536]},
  {"LINE":"09","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.401317,37.789157],"END":[-122.415809,37.707091]},
  {"LINE":"N","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.39486,37.776966],"END":[-122.50904,37.760045]},
  {"LINE":"N","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.394837,37.776957],"END":[-122.509075,37.760036]},
  {"LINE":"N","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.39486,37.776966],"END":[-122.50904,37.760045]},
  {"LINE":"N","SERVICE":"SUNDAY","DIRECTION":"949","START":[-122.509075,37.760036],"END":[-122.394837,37.776957]},
  {"LINE":"01","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.459174,37.785676],"END":[-122.424347,37.791956]},
  {"LINE":"01","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.474236,37.784363],"END":[-122.49223,37.779744]},
  {"LINE":"01","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.455861,37.786096],"END":[-122.482867,37.783977]},
  {"LINE":"01","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.451757,37.786614],"END":[-122.415531,37.792177]},
  {"LINE":"01","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.459174,37.785676],"END":[-122.476425,37.784264]},
  {"LINE":"01","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.397014,37.795418],"END":[-122.466693,37.784712]},
  {"LINE":"02","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.418273,37.787029],"END":[-122.408402,37.788285]},
  {"LINE":"02","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.39494,37.79432],"END":[-122.472985,37.782554]},
  {"LINE":"02","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.472985,37.782554],"END":[-122.394928,37.794329]},
  {"LINE":"02","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.39494,37.79432],"END":[-122.472985,37.782554]},
  {"LINE":"02","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.394928,37.794329],"END":[-122.472985,37.782554]},
  {"LINE":"02","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.39494,37.79432],"END":[-122.472985,37.782554]},
  {"LINE":"03","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.446839,37.787381],"END":[-122.400674,37.790254]},
  {"LINE":"03","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.40072,37.790254],"END":[-122.446839,37.787399]},
  {"LINE":"03","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.400674,37.790254],"END":[-122.446839,37.787381]},
  {"LINE":"03","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.40072,37.790254],"END":[-122.446839,37.787399]},
  {"LINE":"03","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.400674,37.790254],"END":[-122.446839,37.787381]},
  {"LINE":"03","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.40072,37.790254],"END":[-122.446839,37.787399]},
  {"LINE":"05","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.399149,37.791012],"END":[-122.509886,37.771394]},
  {"LINE":"05","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.402074,37.788711],"END":[-122.463814,37.773961]},
  {"LINE":"05","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.393567,37.790385],"END":[-122.463711,37.773943]},
  {"LINE":"05","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.404586,37.786722],"END":[-122.399482,37.790735]},
  {"LINE":"05","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.402074,37.788711],"END":[-122.509991,37.773562]},
  {"LINE":"05","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.410297,37.782227],"END":[-122.397384,37.792406]},
  {"LINE":"06","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.396511,37.793089],"END":[-122.452558,37.764513]},
  {"LINE":"06","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.396511,37.793089],"END":[-122.430439,37.772104]},
  {"LINE":"06","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.470591,37.748869],"END":[-122.443654,37.770419]},
  {"LINE":"17","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.474441,37.715846],"END":[-122.483055,37.719796]},
  {"LINE":"17","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.474441,37.715846],"END":[-122.476884,37.725964]},
  {"LINE":"18","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.474948,37.725803],"END":[-122.499522,37.784818]},
  {"LINE":"18","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.499699,37.785046],"END":[-122.47496,37.725812]},
  {"LINE":"18","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.474948,37.725803],"END":[-122.499522,37.784818]},
  {"LINE":"18","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.499699,37.785046],"END":[-122.47496,37.725812]},
  {"LINE":"09","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.422059,37.713606],"END":[-122.401294,37.789148]},
  {"LINE":"09","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.406813,37.740281],"END":[-122.415809,37.707091]},
  {"LINE":"09","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.401294,37.789148],"END":[-122.422059,37.713606]},
  {"LINE":"10","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.434558,37.792472],"END":[-122.400744,37.791177]},
  {"LINE":"10","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.396943,37.7548],"END":[-122.434745,37.792511]},
  {"LINE":"10","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.396675,37.754707],"END":[-122.406256,37.753067]},
  {"LINE":"10","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.396675,37.754714],"END":[-122.423227,37.794817]},
  {"LINE":"10","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.396675,37.754707],"END":[-122.406256,37.753067]},
  {"LINE":"10","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.396675,37.754707],"END":[-122.423227,37.794817]},
  {"LINE":"12","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.418367,37.752294],"END":[-122.420279,37.748125]},
  {"LINE":"12","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.418221,37.748166],"END":[-122.423227,37.794817]},
  {"LINE":"12","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.418221,37.748166],"END":[-122.420282,37.748127]},
  {"LINE":"12","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.418221,37.748166],"END":[-122.423227,37.794817]},
  {"LINE":"12","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.418221,37.748166],"END":[-122.415577,37.769591]},
  {"LINE":"12","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.416266,37.752373],"END":[-122.423227,37.794817]},
  {"LINE":"14","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.419451,37.762716],"END":[-122.42198,37.742382]},
  {"LINE":"14","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.448066,37.710397],"END":[-122.441561,37.715759]},
  {"LINE":"14","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.412419,37.778043],"END":[-122.448375,37.710379]},
  {"LINE":"14","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.461452,37.705988],"END":[-122.447677,37.710754]},
  {"LINE":"14","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.422094,37.742203],"END":[-122.442569,37.714662]},
  {"LINE":"14","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.446383,37.711441],"END":[-122.434436,37.725181]},
  {"LINE":"17","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.483055,37.719796],"END":[-122.465823,37.740893]},
  {"LINE":"17","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.475833,37.720056],"END":[-122.47584,37.720057]},
  {"LINE":"17","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.465823,37.740893],"END":[-122.483055,37.719796]},
  {"LINE":"17","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.473021,37.715088],"END":[-122.47584,37.720057]},
  {"LINE":"22","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.397495,37.762521],"END":[-122.400633,37.764896]},
  {"LINE":"23","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.43298,37.733318],"END":[-122.505251,37.735474]},
  {"LINE":"23","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.434148,37.73355],"END":[-122.464412,37.732283]},
  {"LINE":"23","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.431124,37.733184],"END":[-122.490439,37.734052]},
  {"LINE":"23","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.39484,37.741873],"END":[-122.390974,37.734019]},
  {"LINE":"23","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.454905,37.731472],"END":[-122.484963,37.734304]},
  {"LINE":"23","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.431708,37.733015],"END":[-122.480244,37.734511]},
  {"LINE":"23","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.42023,37.735065],"END":[-122.4873,37.734187]},
  {"LINE":"24","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.40726,37.738817],"END":[-122.410124,37.739755]},
  {"LINE":"24","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.433779,37.748103],"END":[-122.422094,37.742203]},
  {"LINE":"24","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.43103,37.742633],"END":[-122.434476,37.755295]},
  {"LINE":"24","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.440809,37.78987],"END":[-122.439881,37.785239]},
  {"LINE":"24","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.441727,37.785962],"END":[-122.421751,37.740588]},
  {"LINE":"24","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.435918,37.769375],"END":[-122.440259,37.787104]},
  {"LINE":"27","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.418135,37.749041],"END":[-122.418139,37.749046]},
  {"LINE":"18","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.474948,37.725803],"END":[-122.499522,37.784818]},
  {"LINE":"18","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.499699,37.785046],"END":[-122.47496,37.725812]},
  {"LINE":"19","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.364671,37.728618],"END":[-122.364679,37.728624]},
  {"LINE":"19","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.366771,37.728755],"END":[-122.423333,37.806294]},
  {"LINE":"19","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.364671,37.728618],"END":[-122.364679,37.728624]},
  {"LINE":"19","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.366771,37.728755],"END":[-122.423333,37.806294]},
  {"LINE":"19","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.364671,37.728618],"END":[-122.364679,37.728624]},
  {"LINE":"19","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.366771,37.728755],"END":[-122.423333,37.806294]},
  {"LINE":"21","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.408072,37.783984],"END":[-122.398266,37.791707]},
  {"LINE":"21","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394206,37.794016],"END":[-122.45312,37.774925]},
  {"LINE":"21","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.417807,37.776688],"END":[-122.42646,37.777386]},
  {"LINE":"21","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.394206,37.794016],"END":[-122.45312,37.774925]},
  {"LINE":"21","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.399482,37.790735],"END":[-122.442759,37.774354]},
  {"LINE":"21","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.394206,37.794016],"END":[-122.45312,37.774925]},
  {"LINE":"22","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.433278,37.786077],"END":[-122.428676,37.764511]},
  {"LINE":"22","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.41968,37.765053],"END":[-122.433278,37.786077]},
  {"LINE":"22","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.388719,37.760501],"END":[-122.407543,37.765782]},
  {"LINE":"22","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.388719,37.760501],"END":[-122.42895,37.767509]},
  {"LINE":"22","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.388719,37.760501],"END":[-122.42895,37.767509]},
  {"LINE":"22","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.389612,37.761715],"END":[-122.436703,37.80262]},
  {"LINE":"22","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.388719,37.760501],"END":[-122.437471,37.806394]},
  {"LINE":"22","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.389612,37.761715],"END":[-122.407543,37.765782]},
  {"LINE":"29","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.440427,37.717249],"END":[-122.424657,37.717131]},
  {"LINE":"29","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.408978,37.719474],"END":[-122.435215,37.722763]},
  {"LINE":"29","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.409963,37.719224],"END":[-122.47521,37.721056]},
  {"LINE":"29","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.495216,37.753413],"END":[-122.47521,37.721056]},
  {"LINE":"29","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.484722,37.780086],"END":[-122.474994,37.724929]},
  {"LINE":"29","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.456141,37.721853],"END":[-122.482113,37.791098]},
  {"LINE":"29","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.429604,37.720094],"END":[-122.461226,37.720024]},
  {"LINE":"29","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.478695,37.728212],"END":[-122.482362,37.78989]},
  {"LINE":"27","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.40993,37.759572],"END":[-122.403537,37.777692]},
  {"LINE":"27","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.41838,37.748198],"END":[-122.418139,37.749046]},
  {"LINE":"27","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.422833,37.793954],"END":[-122.418323,37.748189]},
  {"LINE":"27","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.418135,37.749041],"END":[-122.418139,37.749046]},
  {"LINE":"27","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.422833,37.793954],"END":[-122.418323,37.748189]},
  {"LINE":"28","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.432311,37.80518],"END":[-122.471003,37.709092]},
  {"LINE":"28","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.432266,37.805172],"END":[-122.46925,37.705675]},
  {"LINE":"28","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.423275,37.803413],"END":[-122.46925,37.705675]},
  {"LINE":"28","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.46925,37.705675],"END":[-122.423275,37.803413]},
  {"LINE":"28","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.46925,37.705675],"END":[-122.423275,37.803413]},
  {"LINE":"28","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.472585,37.784443],"END":[-122.4754,37.73933]},
  {"LINE":"28","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.473521,37.772433],"END":[-122.46054,37.801817]},
  {"LINE":"28","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.47521,37.721056],"END":[-122.478528,37.769497]},
  {"LINE":"28","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.475767,37.77246],"END":[-122.449361,37.802023]},
  {"LINE":"29","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.491178,37.764835],"END":[-122.453106,37.723245]},
  {"LINE":"31","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.448009,37.778494],"END":[-122.509727,37.773259]},
  {"LINE":"35","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.429496,37.737824],"END":[-122.435151,37.762415]},
  {"LINE":"35","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.435151,37.762415],"END":[-122.429496,37.737824]},
  {"LINE":"35","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.429496,37.737824],"END":[-122.435151,37.762415]},
  {"LINE":"35","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.435151,37.762415],"END":[-122.429496,37.737824]},
  {"LINE":"35","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.429496,37.737824],"END":[-122.435151,37.762415]},
  {"LINE":"35","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.435151,37.762415],"END":[-122.429496,37.737824]},
  {"LINE":"36","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.447299,37.731552],"END":[-122.428981,37.736387]},
  {"LINE":"36","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.44621,37.739092],"END":[-122.451606,37.743616]},
  {"LINE":"36","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.446703,37.739565],"END":[-122.433885,37.734514]},
  {"LINE":"36","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.445351,37.734327],"END":[-122.452328,37.745213]},
  {"LINE":"36","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.463833,37.754152],"END":[-122.423286,37.742302]},
  {"LINE":"36","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.446233,37.737308],"END":[-122.452488,37.743678]},
  {"LINE":"37","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.445361,37.770116],"END":[-122.445786,37.750504]},
  {"LINE":"37","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.444984,37.748907],"END":[-122.44535,37.770089]},
  {"LINE":"30","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.406479,37.782732],"END":[-122.425191,37.805081]},
  {"LINE":"30","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.405836,37.785741],"END":[-122.436279,37.800809]},
  {"LINE":"30","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.436279,37.800809],"END":[-122.405836,37.785741]},
  {"LINE":"30","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.409015,37.799483],"END":[-122.443422,37.802772]},
  {"LINE":"30","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.406225,37.785741],"END":[-122.423666,37.805277]},
  {"LINE":"30","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.445463,37.804423],"END":[-122.442952,37.800087]},
  {"LINE":"30","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.408595,37.789226],"END":[-122.429675,37.801647]},
  {"LINE":"30","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.411376,37.801116],"END":[-122.396381,37.78174]},
  {"LINE":"31","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.485523,37.776249],"END":[-122.506816,37.773403]},
  {"LINE":"31","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.402074,37.788711],"END":[-122.473694,37.776787]},
  {"LINE":"31","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.502669,37.775466],"END":[-122.488732,37.776105]},
  {"LINE":"31","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.509968,37.773562],"END":[-122.447046,37.778619]},
  {"LINE":"31","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.490875,37.776006],"END":[-122.497316,37.77571]},
  {"LINE":"45","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.414129,37.799814],"END":[-122.39486,37.77718]},
  {"LINE":"45","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.43714,37.796874],"END":[-122.39486,37.77718]},
  {"LINE":"45","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.438791,37.79666],"END":[-122.44716,37.797508]},
  {"LINE":"45","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.443767,37.796027],"END":[-122.39486,37.77718]},
  {"LINE":"45","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.394308,37.780088],"END":[-122.43714,37.796874]},
  {"LINE":"47","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.395181,37.777153],"END":[-122.412313,37.807585]},
  {"LINE":"47","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.39517,37.777189],"END":[-122.412313,37.807585]},
  {"LINE":"47","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.412313,37.807585],"END":[-122.395181,37.777153]},
  {"LINE":"37","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.445361,37.770116],"END":[-122.445786,37.750504]},
  {"LINE":"37","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.438291,37.766726],"END":[-122.439505,37.766582]},
  {"LINE":"37","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.445361,37.770116],"END":[-122.445786,37.750504]},
  {"LINE":"37","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.438291,37.766726],"END":[-122.439505,37.766582]},
  {"LINE":"38","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.423874,37.785003],"END":[-122.434562,37.784152]},
  {"LINE":"38","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.472312,37.780656],"END":[-122.475084,37.780528]},
  {"LINE":"38","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.44754,37.78227],"END":[-122.44582,37.782488]},
  {"LINE":"38","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.468564,37.780822],"END":[-122.504095,37.781783]},
  {"LINE":"38","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.466427,37.780925],"END":[-122.43948,37.783309]},
  {"LINE":"38","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.434562,37.784152],"END":[-122.493297,37.779688]},
  {"LINE":"38","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.496524,37.779551],"END":[-122.491918,37.776238]},
  {"LINE":"38","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.503344,37.781432],"END":[-122.501887,37.779514]},
  {"LINE":"39","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.40444,37.801034],"END":[-122.40578,37.802774]},
  {"LINE":"39","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.40578,37.802774],"END":[-122.410502,37.80696]},
  {"LINE":"39","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.409198,37.800437],"END":[-122.40578,37.802774]},
  {"LINE":"39","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.410502,37.80696],"END":[-122.40578,37.802774]},
  {"LINE":"39","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.40444,37.801034],"END":[-122.40578,37.802774]},
  {"LINE":"39","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.40578,37.802774],"END":[-122.410502,37.80696]},
  {"LINE":"41","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.394278,37.789921],"END":[-122.43714,37.796874]},
  {"LINE":"41","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.44716,37.797508],"END":[-122.423989,37.79855]},
  {"LINE":"43","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.448353,37.79782],"END":[-122.452147,37.799364]},
  {"LINE":"43","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.436695,37.71003],"END":[-122.44739,37.78217]},
  {"LINE":"43","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.436153,37.800818],"END":[-122.434605,37.801023]},
  {"LINE":"43","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.432423,37.712386],"END":[-122.445911,37.772989]},
  {"LINE":"43","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.436649,37.713555],"END":[-122.452285,37.799328]},
  {"LINE":"43","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.436489,37.710013],"END":[-122.436234,37.80072]},
  {"LINE":"44","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.466015,37.775263],"END":[-122.379438,37.734085]},
  {"LINE":"44","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.463871,37.775361],"END":[-122.386557,37.74195]},
  {"LINE":"44","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.380333,37.732426],"END":[-122.397673,37.736869]},
  {"LINE":"44","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.396516,37.737163],"END":[-122.390974,37.734019]},
  {"LINE":"44","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.386555,37.74195],"END":[-122.381318,37.732819]},
  {"LINE":"44","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.453634,37.745695],"END":[-122.466643,37.767688]},
  {"LINE":"44","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.379413,37.736762],"END":[-122.383414,37.733239]},
  {"LINE":"44","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.442407,37.737646],"END":[-122.459111,37.747309]},
  {"LINE":"45","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.43714,37.796874],"END":[-122.39486,37.77718]},
  {"LINE":"52","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.45887,37.748228],"END":[-122.425836,37.719308]},
  {"LINE":"52","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.425836,37.719308],"END":[-122.45887,37.748228]},
  {"LINE":"52","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.45887,37.748228],"END":[-122.425836,37.719308]},
  {"LINE":"54","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.389194,37.739024],"END":[-122.467796,37.705568]},
  {"LINE":"54","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.404884,37.728056],"END":[-122.388277,37.74005]},
  {"LINE":"54","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.450242,37.722085],"END":[-122.467796,37.705568]},
  {"LINE":"54","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.378273,37.731381],"END":[-122.467796,37.705568]},
  {"LINE":"54","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.450242,37.722085],"END":[-122.388655,37.740282]},
  {"LINE":"47","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.412313,37.807585],"END":[-122.39517,37.777189]},
  {"LINE":"47","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.395181,37.777153],"END":[-122.412313,37.807585]},
  {"LINE":"47","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.412313,37.807585],"END":[-122.39517,37.777189]},
  {"LINE":"48","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.43898,37.755393],"END":[-122.507459,37.745511]},
  {"LINE":"48","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.451686,37.745606],"END":[-122.47043,37.745166]},
  {"LINE":"48","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.449704,37.745998],"END":[-122.494365,37.747845]},
  {"LINE":"48","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.393133,37.757656],"END":[-122.398374,37.751342]},
  {"LINE":"48","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.388421,37.760509],"END":[-122.465972,37.740929]},
  {"LINE":"48","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.393123,37.757651],"END":[-122.393133,37.757656]},
  {"LINE":"48","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.393123,37.757651],"END":[-122.465972,37.740929]},
  {"LINE":"48","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.388398,37.760492],"END":[-122.466041,37.740965]},
  {"LINE":"49","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.423585,37.739884],"END":[-122.420922,37.783354]},
  {"LINE":"49","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.424539,37.801298],"END":[-122.42198,37.742382]},
  {"LINE":"49","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.424367,37.800406],"END":[-122.426393,37.733674]},
  {"LINE":"49","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.443279,37.723085],"END":[-122.425111,37.804144]},
  {"LINE":"49","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.436452,37.723789],"END":[-122.432809,37.727322]},
  {"LINE":"49","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.422094,37.742203],"END":[-122.443279,37.723085]},
  {"LINE":"52","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.45887,37.748228],"END":[-122.425836,37.719308]},
  {"LINE":"52","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.425836,37.719308],"END":[-122.45887,37.748228]},
  {"LINE":"52","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.425836,37.719308],"END":[-122.45887,37.748228]},
  {"LINE":"66","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.466229,37.762102],"END":[-122.487085,37.738791]},
  {"LINE":"66","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.466229,37.762066],"END":[-122.487131,37.738783]},
  {"LINE":"67","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.414938,37.734733],"END":[-122.41831,37.752312]},
  {"LINE":"67","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.418356,37.752312],"END":[-122.414938,37.734733]},
  {"LINE":"67","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.41831,37.752312],"END":[-122.414938,37.734733]},
  {"LINE":"67","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.418356,37.752312],"END":[-122.41627,37.752374]},
  {"LINE":"67","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.414938,37.734733],"END":[-122.41831,37.752312]},
  {"LINE":"67","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.418356,37.752312],"END":[-122.418288,37.75064]},
  {"LINE":"71","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.394289,37.789823],"END":[-122.507406,37.751007]},
  {"LINE":"71","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.44535,37.770214],"END":[-122.445345,37.77021]},
  {"LINE":"71","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.394289,37.789823],"END":[-122.507406,37.751007]},
  {"LINE":"54","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.38236,37.733721],"END":[-122.390698,37.734796]},
  {"LINE":"54","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.450242,37.722085],"END":[-122.450116,37.722085]},
  {"LINE":"56","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.402099,37.712797],"END":[-122.416057,37.715014]},
  {"LINE":"56","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.392729,37.709849],"END":[-122.394427,37.711304]},
  {"LINE":"56","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.414144,37.71579],"END":[-122.392733,37.709849]},
  {"LINE":"56","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.407348,37.712547],"END":[-122.403015,37.711968]},
  {"LINE":"56","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.407057,37.713227],"END":[-122.402465,37.712182]},
  {"LINE":"56","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.392729,37.709849],"END":[-122.392733,37.709849]},
  {"LINE":"61","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.4221,37.790394],"END":[-122.4174,37.790964]},
  {"LINE":"61","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.419039,37.790786],"END":[-122.4221,37.790394]},
  {"LINE":"61","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.4221,37.790394],"END":[-122.4174,37.790964]},
  {"LINE":"61","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.4221,37.790394],"END":[-122.4174,37.790964]},
  {"LINE":"61","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.396155,37.793705],"END":[-122.4174,37.790964]},
  {"LINE":"61","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.396155,37.793705],"END":[-122.4174,37.790964]},
  {"LINE":"66","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.466229,37.762102],"END":[-122.487085,37.738791]},
  {"LINE":"66","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.446943,37.770009],"END":[-122.47035,37.745033]},
  {"LINE":"66","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.445201,37.770178],"END":[-122.47035,37.745033]},
  {"LINE":"66","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.466229,37.762066],"END":[-122.487131,37.738783]},
  {"LINE":"66","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.466229,37.762102],"END":[-122.487085,37.738791]},
  {"LINE":"66","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.466229,37.762066],"END":[-122.487131,37.738783]},
  {"LINE":"F","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.417313,37.80723],"END":[-122.396519,37.797952]},
  {"LINE":"J","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.428973,37.767732],"END":[-122.446726,37.720934]},
  {"LINE":"J","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.446818,37.72296],"END":[-122.411627,37.781183]},
  {"LINE":"J","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.427257,37.757685],"END":[-122.441583,37.726761]},
  {"LINE":"J","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.42697,37.757498],"END":[-122.446612,37.720729]},
  {"LINE":"J","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.431926,37.733282],"END":[-122.436142,37.730535]},
  {"LINE":"J","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.434882,37.73181],"END":[-122.429133,37.769463]},
  {"LINE":"K","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.447219,37.72097],"END":[-122.471561,37.734709]},
  {"LINE":"KT","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.390836,37.792034],"END":[-122.446669,37.720854]},
  {"LINE":"KT","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.386812,37.75289],"END":[-122.394036,37.776323]},
  {"LINE":"KT","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.387756,37.752836],"END":[-122.465823,37.740893]},
  {"LINE":"KT","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.405113,37.708854],"END":[-122.387887,37.754112]},
  {"LINE":"KT","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.465823,37.740893],"END":[-122.434567,37.763138]},
  {"LINE":"KT","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.393381,37.7939],"END":[-122.388147,37.783234]},
  {"LINE":"M","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.468886,37.714259],"END":[-122.448604,37.7184]},
  {"LINE":"71","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.44535,37.770214],"END":[-122.445345,37.77021]},
  {"LINE":"71","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.394289,37.789823],"END":[-122.507406,37.751007]},
  {"LINE":"71","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.44535,37.770214],"END":[-122.445345,37.77021]},
  {"LINE":"76","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.538567,37.832281],"END":[-122.394815,37.776921]},
  {"LINE":"76","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.529761,37.825114],"END":[-122.394792,37.776912]},
  {"LINE":"88","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.44723,37.720961],"END":[-122.45488,37.710486]},
  {"LINE":"88","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.44723,37.720961],"END":[-122.453231,37.70871]},
  {"LINE":"90","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.425351,37.805037],"END":[-122.402465,37.712182]},
  {"LINE":"90","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.402465,37.712182],"END":[-122.42534,37.805028]},
  {"LINE":"90","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.402465,37.712182],"END":[-122.425351,37.805037]},
  {"LINE":"90","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.405236,37.712584],"END":[-122.42534,37.805028]},
  {"LINE":"90","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.425351,37.805037],"END":[-122.402465,37.712182]},
  {"LINE":"90","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.402465,37.712182],"END":[-122.42534,37.805028]},
  {"LINE":"91","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.47521,37.721056],"END":[-122.465835,37.74092]},
  {"LINE":"91","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.396275,37.720986],"END":[-122.467492,37.728035]},
  {"LINE":"91","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.475176,37.721128],"END":[-122.465835,37.74092]},
  {"LINE":"91","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.393912,37.72624],"END":[-122.453106,37.723245]},
  {"LINE":"91","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.47521,37.721056],"END":[-122.465835,37.74092]},
  {"LINE":"91","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.392902,37.728497],"END":[-122.469337,37.72998]},
  {"LINE":"F","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.4014,37.803433],"END":[-122.396305,37.79325]},
  {"LINE":"F","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.419263,37.775145],"END":[-122.415616,37.807274]},
  {"LINE":"F","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.417324,37.807239],"END":[-122.397394,37.792403]},
  {"LINE":"F","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.42362,37.771711],"END":[-122.417509,37.776536]},
  {"LINE":"F","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.408955,37.783279],"END":[-122.42895,37.767509]},
  {"LINE":"14X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.395825,37.791144],"END":[-122.440427,37.717249]},
  {"LINE":"14X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394035,37.792615],"END":[-122.461258,37.70606]},
  {"LINE":"14X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394035,37.792615],"END":[-122.461258,37.70606]},
  {"LINE":"14X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394035,37.792615],"END":[-122.461258,37.70606]},
  {"LINE":"16X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.405836,37.785741],"END":[-122.507566,37.750998]},
  {"LINE":"16X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.408496,37.784448],"END":[-122.507566,37.750998]},
  {"LINE":"M","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.426314,37.769605],"END":[-122.42631,37.769603]},
  {"LINE":"M","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.469053,37.737975],"END":[-122.466195,37.714286]},
  {"LINE":"M","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.471561,37.734709],"END":[-122.470467,37.714972]},
  {"LINE":"M","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.466195,37.714286],"END":[-122.465823,37.740893]},
  {"LINE":"M","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.449257,37.717544],"END":[-122.42631,37.769603]},
  {"LINE":"N","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.393003,37.793677],"END":[-122.403439,37.787632]},
  {"LINE":"N","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.387825,37.78791],"END":[-122.431574,37.769312]},
  {"LINE":"N","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.508994,37.760054],"END":[-122.449636,37.765842]},
  {"LINE":"N","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.388489,37.78957],"END":[-122.509292,37.760179]},
  {"LINE":"N","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.387825,37.78791],"END":[-122.508823,37.760179]},
  {"LINE":"N","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.509166,37.760045],"END":[-122.509292,37.760179]},
  {"LINE":"S","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.396504,37.793097],"END":[-122.435197,37.762674]},
  {"LINE":"08X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.439774,37.722076],"END":[-122.402133,37.712297]},
  {"LINE":"09L","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.395067,37.791965],"END":[-122.404551,37.709568]},
  {"LINE":"09L","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.404654,37.709407],"END":[-122.406188,37.710961]},
  {"LINE":"108","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.394276,37.789926],"END":[-122.372032,37.828355]},
  {"LINE":"108","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394276,37.789926],"END":[-122.372032,37.828355]},
  {"LINE":"108","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.394276,37.789926],"END":[-122.372032,37.828355]},
  {"LINE":"108","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.372032,37.828355],"END":[-122.394276,37.789926]},
  {"LINE":"108","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.394276,37.789926],"END":[-122.372032,37.828355]},
  {"LINE":"108","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.394276,37.789926],"END":[-122.372032,37.828355]},
  {"LINE":"14L","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.432912,37.727179],"END":[-122.454273,37.708255]},
  {"LINE":"14L","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.400504,37.787443],"END":[-122.418288,37.750643]},
  {"LINE":"14L","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.394895,37.791929],"END":[-122.461258,37.70606]},
  {"LINE":"14L","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.394918,37.79192],"END":[-122.461258,37.70606]},
  {"LINE":"14L","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.394895,37.791929],"END":[-122.461258,37.70606]},
  {"LINE":"14L","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.394918,37.79192],"END":[-122.461258,37.70606]},
  {"LINE":"71L","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.395814,37.791153],"END":[-122.507406,37.751007]},
  {"LINE":"71L","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.44535,37.770214],"END":[-122.445345,37.77021]},
  {"LINE":"80X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.400362,37.794099],"END":[-122.394769,37.776912]},
  {"LINE":"81X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.394769,37.776894],"END":[-122.394163,37.789823]},
  {"LINE":"82X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.394769,37.776894],"END":[-122.403029,37.802345]},
  {"LINE":"82X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394769,37.776912],"END":[-122.401802,37.802309]},
  {"LINE":"82X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.401802,37.802309],"END":[-122.394769,37.776912]},
  {"LINE":"82X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394769,37.776912],"END":[-122.401802,37.802309]},
  {"LINE":"KT","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.464216,37.726002],"END":[-122.459211,37.724539]},
  {"LINE":"KT","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.42631,37.769603],"END":[-122.465823,37.740893]},
  {"LINE":"KT","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.410292,37.782231],"END":[-122.434956,37.762852]},
  {"LINE":"KT","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.452018,37.723013],"END":[-122.42631,37.769603]},
  {"LINE":"KT","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.459944,37.72469],"END":[-122.456507,37.723968]},
  {"LINE":"KT","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.46023,37.724753],"END":[-122.459944,37.72469]},
  {"LINE":"L","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.48318,37.742719],"END":[-122.470096,37.741428]},
  {"LINE":"16X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.408496,37.784448],"END":[-122.507566,37.750998]},
  {"LINE":"16X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.408496,37.784448],"END":[-122.507566,37.750998]},
  {"LINE":"28L","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.432311,37.80518],"END":[-122.46925,37.705675]},
  {"LINE":"28L","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.448976,37.797558],"END":[-122.46925,37.705675]},
  {"LINE":"30X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.3911,37.792427],"END":[-122.442631,37.803816]},
  {"LINE":"30X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.442654,37.803816],"END":[-122.392534,37.791303]},
  {"LINE":"30X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.392534,37.791303],"END":[-122.442654,37.803816]},
  {"LINE":"30X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.392534,37.791303],"END":[-122.442654,37.803816]},
  {"LINE":"33","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.444686,37.759721],"END":[-122.441569,37.760488]},
  {"LINE":"33","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.458634,37.778003],"END":[-122.433914,37.760961]},
  {"LINE":"33","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.41968,37.765053],"END":[-122.426087,37.761432]},
  {"LINE":"33","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.444376,37.759748],"END":[-122.445866,37.75874]},
  {"LINE":"33","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.444571,37.758329],"END":[-122.446748,37.763344]},
  {"LINE":"33","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.415313,37.76532],"END":[-122.433914,37.760961]},
  {"LINE":"38L","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.394095,37.789698],"END":[-122.509365,37.779014]},
  {"LINE":"38L","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.394276,37.789926],"END":[-122.509368,37.778965]},
  {"LINE":"38L","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.394095,37.789698],"END":[-122.509365,37.779014]},
  {"LINE":"38L","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.394276,37.789926],"END":[-122.509368,37.778965]},
  {"LINE":"59","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.4121,37.798163],"END":[-122.41266,37.800956]},
  {"LINE":"59","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.415055,37.804472],"END":[-122.41186,37.796994]},
  {"LINE":"59","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.414884,37.803535],"END":[-122.409729,37.794727]},
  {"LINE":"59","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.4121,37.798163],"END":[-122.412763,37.80142]},
  {"LINE":"59","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.414884,37.803535],"END":[-122.412477,37.800028]},
  {"LINE":"59","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.4121,37.798163],"END":[-122.407648,37.784394]},
  {"LINE":"60","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.414659,37.794104],"END":[-122.418304,37.795461]},
  {"LINE":"60","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.41483,37.794978],"END":[-122.421223,37.807025]},
  {"LINE":"60","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.419059,37.799191],"END":[-122.407648,37.784394]},
  {"LINE":"60","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.41899,37.798888],"END":[-122.41483,37.794978]},
  {"LINE":"60","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.421223,37.807025],"END":[-122.418441,37.796157]},
  {"LINE":"60","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.418922,37.798557],"END":[-122.419116,37.799494]},
  {"LINE":"08AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.412946,37.707153],"END":[-122.406764,37.70542]},
  {"LINE":"08AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.412946,37.707153],"END":[-122.405393,37.797376]},
  {"LINE":"08BX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.453621,37.723691],"END":[-122.407268,37.807164]},
  {"LINE":"08BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.407268,37.8072],"END":[-122.453552,37.723691]},
  {"LINE":"08X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.407971,37.738617],"END":[-122.407971,37.738621]},
  {"LINE":"08X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.407971,37.738617],"END":[-122.407268,37.807164]},
  {"LINE":"08X","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.407971,37.738617],"END":[-122.407971,37.738621]},
  {"LINE":"08X","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.405608,37.732439],"END":[-122.407971,37.738621]},
  {"LINE":"08X","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.405614,37.732446],"END":[-122.407268,37.807164]},
  {"LINE":"L","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.504404,37.736179],"END":[-122.42631,37.769603]},
  {"LINE":"L","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.467759,37.741509],"END":[-122.426314,37.769605]},
  {"LINE":"L","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.473545,37.743149],"END":[-122.42631,37.769603]},
  {"LINE":"L","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.48318,37.742719],"END":[-122.42631,37.769603]},
  {"LINE":"L","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.472469,37.743194],"END":[-122.465823,37.740893]},
  {"LINE":"S","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.426314,37.769605],"END":[-122.42631,37.769603]},
  {"LINE":"01AX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.397474,37.792617],"END":[-122.493307,37.779815]},
  {"LINE":"01AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.493307,37.779815]},
  {"LINE":"01AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.493307,37.779815]},
  {"LINE":"01AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.493307,37.779815]},
  {"LINE":"01BX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.464504,37.784694],"END":[-122.397474,37.792617]},
  {"LINE":"01BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.464859,37.785007]},
  {"LINE":"08AX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.407971,37.738617],"END":[-122.413279,37.706412]},
  {"LINE":"08AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.412946,37.707153],"END":[-122.405393,37.797376]},
  {"LINE":"08X","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.453552,37.723691],"END":[-122.407268,37.8072]},
  {"LINE":"K  OWL","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.459168,37.747291],"END":[-122.45887,37.748228]},
  {"LINE":"K  OWL","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.447116,37.720818],"END":[-122.459168,37.747291]},
  {"LINE":"K  OWL","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.440274,37.761086],"END":[-122.463865,37.742526]},
  {"LINE":"K  OWL","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.442875,37.757401],"END":[-122.423987,37.771425]},
  {"LINE":"K  OWL","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.45887,37.748228],"END":[-122.465823,37.740893]},
  {"LINE":"K  OWL","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.45887,37.748228],"END":[-122.445454,37.746908]},
  {"LINE":"31AX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.397474,37.792617],"END":[-122.509957,37.773411]},
  {"LINE":"31AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509968,37.773429]},
  {"LINE":"31AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509968,37.773429]},
  {"LINE":"31AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509968,37.773429]},
  {"LINE":"31AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509968,37.773429]},
  {"LINE":"31BX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.397474,37.792617],"END":[-122.47052,37.776913]},
  {"LINE":"31BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.472021,37.776922]},
  {"LINE":"31BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.472021,37.776922]},
  {"LINE":"31BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.472021,37.776922]},
  {"LINE":"38AX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.397474,37.792617],"END":[-122.509365,37.779032]},
  {"LINE":"38AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509365,37.779041]},
  {"LINE":"38AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509365,37.779041]},
  {"LINE":"38AX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.509365,37.779041]},
  {"LINE":"38BX","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.397474,37.792617],"END":[-122.484814,37.780068]},
  {"LINE":"38BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.484722,37.780086]},
  {"LINE":"38BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.484722,37.780086]},
  {"LINE":"38BX","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.397474,37.792572],"END":[-122.484722,37.780086]},
  {"LINE":"08X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.453552,37.723691],"END":[-122.407268,37.8072]},
  {"LINE":"08X","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.411776,37.804891],"END":[-122.402465,37.712182]},
  {"LINE":"08X","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.407268,37.8072],"END":[-122.453552,37.723691]},
  {"LINE":"L  OWL","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.45887,37.748228],"END":[-122.50437,37.736179]},
  {"LINE":"L  OWL","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.491761,37.74235],"END":[-122.465823,37.740893]},
  {"LINE":"L  OWL","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.45887,37.748228],"END":[-122.50437,37.736179]},
  {"LINE":"L  OWL","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.497111,37.742107],"END":[-122.465823,37.740893]},
  {"LINE":"L  OWL","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.45887,37.748228],"END":[-122.50437,37.736179]},
  {"LINE":"L  OWL","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.471219,37.741383],"END":[-122.459168,37.747291]},
  {"LINE":"M  OWL","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.45887,37.748228],"END":[-122.394069,37.793927]},
  {"LINE":"M  OWL","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.459168,37.747291],"END":[-122.45887,37.748228]},
  {"LINE":"N  OWL","SERVICE":"WEEKDAY","DIRECTION":"INBOUND","START":[-122.39486,37.776966],"END":[-122.50904,37.760045]},
  {"LINE":"N  OWL","SERVICE":"WEEKDAY","DIRECTION":"OUTBOUND","START":[-122.509075,37.760036],"END":[-122.394837,37.776957]},
  {"LINE":"N  OWL","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.39486,37.776966],"END":[-122.50904,37.760045]},
  {"LINE":"N  OWL","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.394837,37.776957],"END":[-122.509075,37.760036]},
  {"LINE":"N  OWL","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.39486,37.776966],"END":[-122.50904,37.760045]},
  {"LINE":"N  OWL","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.509075,37.760036],"END":[-122.394837,37.776957]},
  {"LINE":"T  OWL","SERVICE":"SATURDAY","DIRECTION":"INBOUND","START":[-122.388207,37.741888],"END":[-122.419366,37.77502]},
  {"LINE":"T  OWL","SERVICE":"SATURDAY","DIRECTION":"OUTBOUND","START":[-122.389099,37.766903],"END":[-122.405113,37.708854]},
  {"LINE":"T  OWL","SERVICE":"SUNDAY","DIRECTION":"INBOUND","START":[-122.40423,37.710416],"END":[-122.390333,37.791088]},
  {"LINE":"T  OWL","SERVICE":"SUNDAY","DIRECTION":"OUTBOUND","START":[-122.393355,37.775787],"END":[-122.405113,37.708854]}
    // [
      // [
        // {
        //   "id": 0,
        //   "START": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 1993
        // },
        // {
        //   "id": 1,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "Year": 1993
        // },
        // {
        //   "id": 4,
        //   "START": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "END": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "Year": 1995
        // },
        // {
        //   "id": 6,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 1995
        // },
        // {
        //   "id": 7,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     35.652832,
        //     139.839478
        //   ],
        //   "Year": 1997
        // },
        // {
        //   "id": 8,
        //   "START": [
        //     35.652832,
        //     139.839478
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 1997
        // },
        // {
        //   "id": 9,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 1997
        // },
        // {
        //   "id": 12,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 1999
        // },
        // {
        //   "id": 13,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 1999
        // },
        // {
        //   "id": 14,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2000
        // },
        // {
        //   "id": 15,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2000
        // },
        // {
        //   "id": 16,
        //   "START": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "END": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "Year": 2000
        // },
        // {
        //   "id": 17,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2001
        // },
        // {
        //   "id": 18,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2001
        // },
        // {
        //   "id": 19,
        //   "START": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2001
        // },
        // {
        //   "id": 20,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 2001
        // },
        // {
        //   "id": 21,
        //   "START": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2003
        // },
        // {
        //   "id": 22,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2003
        // },
        // {
        //   "id": 23,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": "Macao",
        //   "Year": 2003
        // },
        // {
        //   "id": 26,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2004
        // },
        // {
        //   "id": 27,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2004
        // },
        // {
        //   "id": 29,
        //   "START": [
        //     35.652832,
        //     139.839478
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2005
        // },
        // {
        //   "id": 36,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2008
        // },
        // {
        //   "id": 37,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2008
        // },
        // {
        //   "id": 40,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2009
        // },
        // {
        //   "id": 41,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2009
        // },
        // {
        //   "id": 42,
        //   "START": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "END": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "Year": 2009
        // },
        // {
        //   "id": 44,
        //   "START": [
        //     35.652832,
        //     139.839478
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2010
        // },
        // {
        //   "id": 45,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2010
        // },
        // {
        //   "id": 49,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "Year": 2011
        // },
        // {
        //   "id": 57,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "Year": 2012
        // },
        // {
        //   "id": 59,
        //   "START": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 2012
        // },
        // {
        //   "id": 60,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 2012
        // },
        // {
        //   "id": 62,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2013
        // },
        // {
        //   "id": 64,
        //   "START": [
        //     13.736717,
        //     100.523186
        //   ],
        //   "END": [
        //     -8.409518,
        //     115.188919
        //   ],
        //   "Year": 2013
        // },
        // {
        //   "id": 65,
        //   "START": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "END": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "Year": 2014
        // },
        // {
        //   "id": 72,
        //   "START": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2016
        // },
        // {
        //   "id": 75,
        //   "START": [
        //     39.913818,
        //     116.363625
        //   ],
        //   "END": [
        //     1.29027,
        //     103.851959
        //   ],
        //   "Year": 2016
        // },
        // {
        //   "id": 87,
        //   "START": [
        //     22.302711,
        //     114.177216
        //   ],
        //   "END": [
        //     3.140853,
        //     101.693207
        //   ],
        //   "Year": 2018
        // }
      // ]
    // ]
    // {"id":0,"Origin":[-8.409518,115.188919],"Destination":[22.302711,114.177216],"Year":1993},{"id":1,"Origin":[13.736717,100.523186],"Destination":[1.29027,103.851959],"Year":1993},{"id":4,"Origin":[22.302711,114.177216],"Destination":[39.913818,116.363625],"Year":1995},{"id":6,"Origin":[13.736717,100.523186],"Destination":[22.302711,114.177216],"Year":1995},{"id":7,"Origin":[39.913818,116.363625],"Destination":[35.652832,139.839478],"Year":1997},{"id":8,"Origin":[35.652832,139.839478],"Destination":[-8.409518,115.188919],"Year":1997},{"id":9,"Origin":[13.736717,100.523186],"Destination":[-8.409518,115.188919],"Year":1997},{"id":12,"Origin":[1.29027,103.851959],"Destination":[22.302711,114.177216],"Year":1999},{"id":13,"Origin":[39.913818,116.363625],"Destination":[-8.409518,115.188919],"Year":1999},{"id":14,"Origin":[39.913818,116.363625],"Destination":[3.140853,101.693207],"Year":2000},{"id":15,"Origin":[39.913818,116.363625],"Destination":[22.302711,114.177216],"Year":2000},{"id":16,"Origin":[22.302711,114.177216],"Destination":[1.29027,103.851959],"Year":2000},{"id":17,"Origin":[39.913818,116.363625],"Destination":[3.140853,101.693207],"Year":2001},{"id":18,"Origin":[1.29027,103.851959],"Destination":[22.302711,114.177216],"Year":2001},{"id":19,"Origin":[-8.409518,115.188919],"Destination":[22.302711,114.177216],"Year":2001},{"id":20,"Origin":[39.913818,116.363625],"Destination":[-8.409518,115.188919],"Year":2001},{"id":21,"Origin":[22.302711,114.177216],"Destination":[3.140853,101.693207],"Year":2003},{"id":22,"Origin":[39.913818,116.363625],"Destination":[22.302711,114.177216],"Year":2003},{"id":23,"Origin":[13.736717,100.523186],"Destination":"Macao","Year":2003},{"id":26,"Origin":[1.29027,103.851959],"Destination":[3.140853,101.693207],"Year":2004},{"id":27,"Origin":[39.913818,116.363625],"Destination":[22.302711,114.177216],"Year":2004},{"id":29,"Origin":[35.652832,139.839478],"Destination":[3.140853,101.693207],"Year":2005},{"id":36,"Origin":[1.29027,103.851959],"Destination":[3.140853,101.693207],"Year":2008},{"id":37,"Origin":[1.29027,103.851959],"Destination":[22.302711,114.177216],"Year":2008},{"id":40,"Origin":[13.736717,100.523186],"Destination":[3.140853,101.693207],"Year":2009},{"id":41,"Origin":[39.913818,116.363625],"Destination":[22.302711,114.177216],"Year":2009},{"id":42,"Origin":[3.140853,101.693207],"Destination":[1.29027,103.851959],"Year":2009},{"id":44,"Origin":[35.652832,139.839478],"Destination":[3.140853,101.693207],"Year":2010},{"id":45,"Origin":[39.913818,116.363625],"Destination":[22.302711,114.177216],"Year":2010},{"id":49,"Origin":[1.29027,103.851959],"Destination":[22.302711,114.177216],"Year":2011},{"id":57,"Origin":[39.913818,116.363625],"Destination":[1.29027,103.851959],"Year":2012},{"id":59,"Origin":[3.140853,101.693207],"Destination":[-8.409518,115.188919],"Year":2012},{"id":60,"Origin":[1.29027,103.851959],"Destination":[-8.409518,115.188919],"Year":2012},{"id":62,"Origin":[13.736717,100.523186],"Destination":[3.140853,101.693207],"Year":2013},{"id":64,"Origin":[13.736717,100.523186],"Destination":[-8.409518,115.188919],"Year":2013},{"id":65,"Origin":[1.29027,103.851959],"Destination":[39.913818,116.363625],"Year":2014},{"id":72,"Origin":[22.302711,114.177216],"Destination":[3.140853,101.693207],"Year":2016},{"id":75,"Origin":[39.913818,116.363625],"Destination":[1.29027,103.851959],"Year":2016},{"id":87,"Origin":[22.302711,114.177216],"Destination":[3.140853,101.693207],"Year":2018}
  ],
  // getPosition: d => d.position,
  // getRadius: d => d.size,
  getSourceColor: d => [64, 255, 0],
  getTargetColor: d => [0, 128, 200],
  // getFillColor: [255, 0, 0],
  // getSourcePosition: d => d.Origin,
  // getTargetPosition: d => d.Destination,
  getSourcePosition: d => d.START,
  getTargetPosition: d => d.END,
  getColor: [255, 0, 0]
});
// console.log(myDeckLayer);

class App extends React.Component {
  mapRef = React.createRef();

  handleViewportChange = viewport => {
    this.setState({
      viewport: { ...this.state.viewport, ...viewport }
    });
  };

  handleGeocoderViewportChange = viewport => {
    const geocoderDefaultOverrides = { transitionDuration: 1000 };

    return this.handleViewportChange({
      ...viewport,
      ...geocoderDefaultOverrides
    });
  };


  mapRef = React.createRef();
  map;
  tooltipContainer;

  setTooltip(features) {
    if (features.length) {
      ReactDOM.render(
        React.createElement(
          Tooltip, {
            features
          }
        ),
        this.tooltipContainer
      );
    } else {
      ReactDOM.unmountComponentAtNode(this.tooltipContainer);
    }
  }

  constructor(props: Props) {
    super(props);
    this.state = {
      // width: 0, 
      // height: 0 ,
      active: options[0],
      viewport: {
        // latitude: 17.44212,
        // longitude: 78.391384,
        // zoom: 15,
        // bearing: 0,
        // pitch: 0,
        // width: 0,
        // height: 0
      },
      popupInfo: null
    };
  }

  onViewportChange = viewport => { 
    const {width, height, ...etc} = viewport
    this.setState({viewport: etc})
  } 

  componentDidUpdate() {
    this.setFill();
  }

  componentDidMount() {

    
    this.tooltipContainer = document.createElement('div');
    this.map = new mapboxgl.Map({
      container: this.mapRef.current,
      style: 'mapbox://styles/gcmillar/ckc13n1qe3rgx1ilchl8u3xax',
      // style: 'mapbox://styles/mapbox/dark-v10',
      // center: [12, 26],
      center: [-122.412946,37.8],
      // zoom: 1.5,
      zoom: 11.5,
      pitch: 60
      });
          /* Zoom */
      this.map.addControl(new ZoomControl(), 'top-right');

      // /* Ruler */
      // this.map.addControl(new RulerControl(), 'bottom-left');

      // /* Inspect */
      // this.map.addControl(new InspectControl(), 'bottom-left');

      /* Compass */
      this.map.addControl(new CompassControl(), 'top-right');


    this.map.on('load', () => {

      // const toggleableLayerIds = ['countries', 'presence_data'];
      // for (var i = 0; i < toggleableLayerIds.length; i++) {
      //     var id = toggleableLayerIds[i];

      //     var link = document.createElement('a');
      //     link.href = '#';
      //     link.className = 'inactive';
      //     link.textContent = id;

      //     link.onclick = function (e) {
      //         var clickedLayer = this.textContent;
      //         e.preventDefault();
      //         e.stopPropagation();

      //         var visibility = this.map.getLayoutProperty(clickedLayer, 'visibility');

      //         if (visibility === 'none') {
      //             this.map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
      //             this.className = 'active';
      //         } else {
      //             this.className = 'active';
      //             this.map.setLayoutProperty(clickedLayer, 'visibility', 'none');
      //             this.className = 'inactive';
      //         }
      //     };
      //     var layers = document.getElementById('menu');
      //     layers.appendChild(link);
      // }
      // new MapboxGeocoder({
      //   accessToken: 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw',
      //   mapboxgl: mapboxgl
      //   })
      this.map.addLayer(myDeckLayer);
      // this.map.addLayer({
      //           id: 'my-arc',
      //           type: 'ArcLayer',
      //           data: arcData,
      //           getSourcePosition: d => d.START,
      //           getTargetPosition: d => d.END,
      //           getSourceColor: d => [64, 255, 0],
      //           getTargetColor: d => [0, 128, 200]
      //       // });
      
      //       //Add the deck.gl arc layer to the map 
      //       // .addLayer(arclayer, 'waterway-label')
      // });
      // if (this.map.getLayer("countries")) {
      //   this.map.removeLayer("countries");
      // };

      // if (this.map.getSource("countries")) {
      //   this.map.removeSource("countries");
      // };
      this.map.addSource('countries', {
        type: 'geojson',
        data
      });

      this.map.addSource('presence_data', {
        type: 'geojson',
        presence_data
      });

      this.map.addLayer({
        id: 'countries',
        type: 'fill',
        source: 'countries'
      },'country-label'); 

      this.map.addLayer({
        id: 'presence_data',
        interactive: true,
        type: "symbol",
        source:  'presence_data',
        layout: {
          'icon-image': 
          ['concat', ['get', 'icon'], '-15'],
          'text-field': ['get', 'title'],
          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],
          'text-offset': [0, 0.6],
          'text-anchor': 'top'
        }
      }); 
      // this.map.addLayer(arclayer, 'waterway-label');

      this.setFill();
      // this.map.on('styledata', function () {
      //   // Triggered when `setStyle` is called.
      //   if (data) addLayer();
      // });
      // this.map.addControl(new mapboxgl.FullscreenControl());
      this.map.addControl(new MapboxGeocoder({
        accessToken: 'pk.eyJ1IjoiZ2NtaWxsYXIiLCJhIjoiY2pvcDhrbGl4MDFvaTNrczR0d2hxcjdnNSJ9.JYgBw6y2pEq_AEAOCaoQpw',
        mapboxgl: mapboxgl,
        placeholder: 'Search for a Location'
      }));

     
      

    //   presence_data.features.forEach((marker) => {
    //     const markerEl = document.createElement('div');
    //     markerEl.innerHTML = '';
    //     new mapboxgl.Marker(markerEl, { offset: [5,-5] })
    //         .setLngLat(marker.geometry.coordinates)
    //         .addTo(this.map);
    //     markerEl.addEventListener('click', () => {
    //       this.map.flyTo({
    //           center: marker.geometry.coordinates,
    //           zoom: 11,
    //       });
    //     });
    // });

    
    
    });

     // Original ES6 Classhttps://github.com/tobinbradley/mapbox-gl-pitch-toggle-control
      // export default class PitchToggle {
        class PitchToggle {
          constructor({ bearing = -20, pitch = 70, minpitchzoom = null }) {
            this._bearing = bearing;
            this._pitch = pitch;
            this._minpitchzoom = minpitchzoom;
          }
  
          onAdd(map) {
            this._map = map;
            let _this = this;
  
            this._btn = document.createElement("button");
            this._btn.className = "mapboxgl-ctrl-icon mapboxgl-ctrl-pitchtoggle-3d";
            this._btn.type = "button";
            this._btn["aria-label"] = "Toggle Pitch";
            this._btn.onclick = function() {
              if (map.getPitch() === 0) {
                let options = { pitch: _this._pitch, bearing: _this._bearing };
                if (_this._minpitchzoom && map.getZoom() > _this._minpitchzoom) {
                  options.zoom = _this._minpitchzoom;
                }
                map.easeTo(options);
                _this._btn.className =
                  "mapboxgl-ctrl-icon mapboxgl-ctrl-pitchtoggle-2d";
              } else {
                map.easeTo({ pitch: 0, bearing: 0 });
                _this._btn.className =
                  "mapboxgl-ctrl-icon mapboxgl-ctrl-pitchtoggle-3d";
              }
            };
  
            this._container = document.createElement("div");
            this._container.className = "mapboxgl-ctrl-group mapboxgl-ctrl";
            this._container.appendChild(this._btn);
  
            return this._container;
          }
  
          onRemove() {
            this._container.parentNode.removeChild(this._container);
            this._map = undefined;
          }
        }
  
        /* Idea from Stack Overflow https://stackoverflow.com/a/51683226  */
        class MapboxGLButtonControl {
          constructor({
            className = "",
            title = "",
            eventHandler = ""
          }) {
            this._className = className;
            this._title = title;
            this._eventHandler = eventHandler;
          }
  
          onAdd(map) {
            this._btn = document.createElement("button");
            this._btn.className = "mapboxgl-ctrl-icon" + " " + this._className;
            this._btn.type = "button";
            this._btn.title = this._title;
            this._btn.onclick = this._eventHandler;
  
            this._container = document.createElement("div");
            this._container.className = "mapboxgl-ctrl-group mapboxgl-ctrl";
            this._container.appendChild(this._btn);
  
            return this._container;
          }
  
          onRemove() {
            this._container.parentNode.removeChild(this._container);
            this._map = undefined;
          }
        }
  
        /* Event Handlers */
        function one(event) {
          alert("Event handler when clicking on \r\n" + event.target.className);
          console.log("event number 1", event);
        }
  
        function two(event) {
          alert("Event handler when clicking on \r\n" + event.target.className);
          console.log("event number 2", event);
        }
  
        function three(event) {
          alert("Event handler when clicking on \r\n" + event.target.className);
          console.log("event number 3", event);
        }
  
        /* Instantiate new controls with custom event handlers */
        const ctrlPoint = new MapboxGLButtonControl({
          className: "mapbox-gl-draw_point",
          title: "Draw Point",
          eventHandler: one
        });
  
        const ctrlLine = new MapboxGLButtonControl({
          className: "mapbox-gl-draw_line",
          title: "Draw Line",
          eventHandler: two
        });
  
        const ctrlPolygon = new MapboxGLButtonControl({
          className: "mapbox-gl-draw_polygon",
          title: "Draw Polygon",
          eventHandler: three
        });
  
        /* Add Controls to the Map */
        // this.map.addControl(new mapboxgl.NavigationControl(), "top-left");
        this.map.addControl(new PitchToggle({ minpitchzoom: 11 }), "top-right");
        // this.map.addControl(ctrlPoint, "bottom-left");
        // this.map.addControl(ctrlLine, "bottom-right");
        // this.map.addControl(ctrlPolygon, "top-left");
  

    const tooltip = new mapboxgl.Marker(this.tooltipContainer, {
      offset: [-120, 0]
    }).setLngLat([0,0]).addTo(this.map);

    var popup = new mapboxgl.Popup({
      closeButton: false,
      closeOnClick: false
      });

      this.map.on('mouseenter', 'countries', (e) => {
        this.map.getCanvas().style.cursor =  'pointer';
      });


      this.map.on('click', 'countries', (e) => {
        const features = this.map.queryRenderedFeatures(e.point, {
      });
      const { name, description, stops, property } = this.state.active;
      const prob_intro = features[0].properties[property]
      this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';
      popup 
      .setLngLat(e.lngLat)
       .setHTML('<b><u>Country Information' + '</b></u>' +
          '<ul>' +
          '<li><b>Name: </b>' + features[0].properties["NAME"] + '</li>' +
          '<li><b>Introduction Probability: </b>' + prob_intro  + '</li>' +
          '</ul>')
      .addTo(this.map);
    });
    //// with custom styles:
      // this.map.addControl(new StylesControl({
      //   styles: [
      //     {
      //       label: 'Streets',
      //       styleName: 'Mapbox Streets',
      //       styleUrl: 'mapbox://styles/mapbox/streets-v9',
      //     }, {
      //       label: 'Satellite',
      //       styleName: 'Satellite',
      //       styleUrl: 'mapbox://styles/mapbox/satellite-v9',
      //     },
      //   ],
      //   onChange: (style) => console.log(style),
       
      // }, 
      // // this.map.getSource('countries').setData(data)
      // // this.map.addLayer('countries','country-label')
      // ), 'top-right');

     


    this.map.on('click', 'presence_data', (p) => {
      const presenceFeatures = this.map.queryRenderedFeatures(p.point, {
    });
    // console.log(presenceFeatures)
  });
    this.map.on('mouseleave', 'countries', (e) => {
      this.map.getCanvas().style.cursor =  '';
      popup.remove();
    });

   
  }

  setFill() {
    const { property, stops } = this.state.active;
    this.map.setPaintProperty('countries', 'fill-color', {
      property,
      stops
    },
    )
    this.map.setPaintProperty('countries', 'fill-outline-color', {
      property,
      stops
    },
    )
      // this.map.setTooltip('presence_data', '', {
      //   property,
      //   stops
      // })  ;
      ;    
  }


  render() {
    const { 
      viewport,
    } = this.state
    const { name, description, stops, property } = this.state.active;
    const renderLegendKeys = (stop, i) => {
    return ( 
        <div key={i} className='txt-s '>
          <span className=' round-full w12 h12 inline-block ' style={{ backgroundColor: stop[1] }} />
          <span className='px12' >{`${stop[0].toLocaleString()}`}</span>
        </div>
      );
    }

   
    const renderOptions = (option, i) => {
      return (
        <label key={i} className="toggle-container w50 maxw60 ">
          <input  onChange={() => this.setState({ active: options[i] })} checked={option.property === property} name="toggle" type="radio" />
          <div  className="toggle txt-s color-white toggle--active-white maxw60 w50">{option.name}</div>
        </label>
      );
    }

    return (
      
      <div>
        <div ref={this.mapRef} width='100%' height='100%' className="absolute top right left bottom align-middle grid" />
        <label className=" align-middle bottom  mb30 ml42 ctxt-bold pa0 color-white absolute bg-transparent shadow-darken10 " ><b>Select Year:</b></label>
        <div className="toggle-group grid-2 grid mb6  align-middle bottom ctxt-bold pa0 color-white absolute border border--2 border--white bg-transparent shadow-darken10  ">
        {options.map(renderOptions)} 
        </div>
        <div  className=" bg-transparent px3  grid-3 color-white absolute align-middle bottom w120 right border--white round border border--2 round shadow-darken10  ">
          <div className=' color-white px3 txt-s'>
            <h2 className="txt-bold txt-s block color-white px0 ">{name}</h2>
            <p className='txt-s color-white px0 py0'>{description}</p>
          </div>
          {stops.map(renderLegendKeys)}
        </div>
      </div>
    );//absolute top left ml12 mt12 border border--2 border--white bg-white shadow-darken10 z1
  }
}

export default App;
